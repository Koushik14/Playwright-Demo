#!/usr/bin/env node
'use strict';function a8_0x4638(){const _0xfc1686=['joOFB','resolve','wUKhw','parallels__','mXllc','MxhVq','inherit','CRhad','\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20','test','GOHsY','setupFilesAfterEnv','Deleting\x20','tUnum','ktCaM','pHmTb','env','stringify','BZwMS','uCSlM','MIdNg','aVWNq','ISNiP','ltWbe','VmYyx','BROWSERSTACK_TEST_OBSERVABILITY_YML','winstonLogger','requireModule','uDBCg','nlkdq','/customImplements/customTestRunnerTemplate.js','GGGCC','FVnOF','join','fDytm','CduqE','rEvku','HRQQg','28OoKAEH','\x20:\x20','isUndefined','KqQiS','errorMessage','215460voLGmr','xqSIh','ENgUF','createAccessibilityTestRun','MDmll','isTestObservabilitySession','readFileSync','../../helpers/helper','jest_browserstack_results.json','nLcTf','ukxyX','JHhZS','QSlYg','IgZwe','debug','zMyws','BS_A11Y_JWT','rwQtm','zSeuu','bLLDi','modifyBrowserStackW3CCaps','../../helpers/accessibility-automation/helper','push','fCHdZ','./test-observability/test-details','ZbSXx','dzJYf','15AXwuvj','EMomW','DJLxv','JhnSo','HPjxv','handleApp','MaZbo','writeFileSync','apjbM','checkAccessibilityPlatformConfig','SUcHt','fDLTQ','../../helpers/test-observability/sessionHandler','config','ZBmfW','aTcms','/customImplements/customTestRunner.js','RDcgr','Exception\x20in\x20stop\x20build\x20request\x20to\x20Observability\x20:\x20','pCahl','browserStackLogLevel','JqjJc','qAzXM','BROWSERSTACK_TEST_ACCESSIBILITY_YML','WamGq','maxWorkers','35FtItzA','BS_A11Y_TEST_RUN_ID','/customImplements/customCircus.js','Sbfpv','parse','aSMDT','QPDRr','getErrorMessageFromResults','testEnvironment','qKqTl','jest_browserstack.config.js','splice','exports','aJYTQ','child_process','jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','940410qOZkFL','103155kPZlCi','Unable\x20to\x20find\x20jest-circus,\x20','runInBand','yilGd','platforms','CcvOF','skipSessionStatus','ejaqB','setupFiles','shutdown','modifyBrowserStackCaps','hqWst','slice','2438120qBCiFS','stopAccessibilityTestRun','nPptf','customImplements','PQRAR','wPhlz','1081816gskrHF','setup','oIwlg','package.json','LUKSv','Eyeks','testRunner','cwd','EniJz','../../helpers/test-observability/utils','runner','fdNpg','djuKF','GtlzM','cIJYG','/jest.setup.js','ljUGk','Error\x20while\x20parsing\x20','kxqHu','filterBrowserstackConfig','LtqKg','kXWrZ','printBuildLink','lLXTT','BSTACK_JEST_TEST_ENV','markSDKSetupComplete','NbdlV','exitCode','initialize','eqAWL','browserStackPercyOptions','jest.cmd','DjZRz','168645veSkuw','cGPJS',';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20','VAwMs','VNOzR','isBrowserstackInfra','14338TcDVMB','xesVL','capabilities','tsGTi','sNzBH','dvLiE','nYgvS','PrTvz','/customImplements/customEnvironment.js','reporters','length','unlinkSync','VlRse','false','bnqfR','forEach','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','turboScaleUrl','path','uXIzo','wZLKy','root_dir_path','ILwch','Getting\x20your\x20jest\x20configs\x20from\x20','11wkwcie','Creating\x20','PPGVP','Iezgl','testObservability','qBcab','JQAuZ','testTimeout','uBphd','sIYrS','close','../../helpers/BrowserStackSetup','parallelsPerPlatform','existsSync','GnEtt','ojpzr','testEnvironmentOptions','AzapV','fCQzn','accessibility','cXLQE','isAccessibilityAutomationSession','bIjxr','testContextOptions','proxySettings','PRcBg','SlESn','HoxjK','child\x20process\x20exited\x20with\x20code\x20','/test-observability/data-hooks.js','accessibilityOptions','findIndex','YBjKs','assign','default','daFAc','dymoP','wNPyw','Fkjvy','skipSessionName','--config','requireSeleniumWebdriver','Getting\x20your\x20jest\x20configs\x20from\x20package.json','true','jest','../utils/constants','info','platform','timeout__','UGBIa','FVKbV','BrowserStack\x20Accessibility\x20Automation\x20Test\x20Run\x20ID:\x20','mRdQF','iKbaq','finalExecution','const\x20config=','QkFqv','HJukI','IYoBI','jest.config.'];a8_0x4638=function(){return _0xfc1686;};return a8_0x4638();}const a8_0x2542c9=a8_0x4f34;(function(_0x5cba98,_0x33afb2){const _0x373c00=a8_0x4f34,_0x1f1fe6=_0x5cba98();while(!![]){try{const _0x7c00c7=parseInt(_0x373c00(0x133))/0x1+-parseInt(_0x373c00(0x16d))/0x2*(-parseInt(_0x373c00(0x207))/0x3)+parseInt(_0x373c00(0x1e7))/0x4*(parseInt(_0x373c00(0x167))/0x5)+-parseInt(_0x373c00(0x1ec))/0x6*(parseInt(_0x373c00(0x221))/0x7)+parseInt(_0x373c00(0x146))/0x8+parseInt(_0x373c00(0x132))/0x9+parseInt(_0x373c00(0x140))/0xa*(-parseInt(_0x373c00(0x185))/0xb);if(_0x7c00c7===_0x33afb2)break;else _0x1f1fe6['push'](_0x1f1fe6['shift']());}catch(_0x46835f){_0x1f1fe6['push'](_0x1f1fe6['shift']());}}}(a8_0x4638,0x2ebe2));function a8_0x4f34(_0x4f3828,_0x4f1b4d){const _0x4638b2=a8_0x4638();return a8_0x4f34=function(_0x4f34f5,_0x3398db){_0x4f34f5=_0x4f34f5-0x12f;let _0x5290d9=_0x4638b2[_0x4f34f5];return _0x5290d9;},a8_0x4f34(_0x4f3828,_0x4f1b4d);}const fs=require('fs'),path=require(a8_0x2542c9(0x17f)),{spawn}=require(a8_0x2542c9(0x130)),logger=require('../../helpers/logger')[a8_0x2542c9(0x1db)],{default:BrowserStackSetup}=require(a8_0x2542c9(0x190)),helper=require(a8_0x2542c9(0x1f3)),constants=require(a8_0x2542c9(0x1b2)),accessibilityHelper=require(a8_0x2542c9(0x201)),{updateTestRerunConfig}=require('./test-observability/helper'),testOpsHelper=require(a8_0x2542c9(0x14f)),SessionHandler=require(a8_0x2542c9(0x213)),{getFrameworkVersion,debug}=require('../../helpers/test-observability/utils'),TestDetails=require(a8_0x2542c9(0x204)),{getPercyOptions}=require('../../helpers/percy/utils'),getUserJestConfigs=(_0xbbdf04,_0x3c5369)=>{const _0x1546dc=a8_0x2542c9,_0xca30e0={'RDcgr':function(_0x395ebb,_0x5a8099){return _0x395ebb(_0x5a8099);},'luSPe':function(_0x477dca,_0x412f2c){return _0x477dca||_0x412f2c;},'QMcMT':function(_0x26def7,_0x30bfdf){return _0x26def7===_0x30bfdf;},'cGPJS':_0x1546dc(0x1d3),'vgPkT':function(_0x7147a6,_0x13b5b){return _0x7147a6||_0x13b5b;},'yilGd':_0x1546dc(0x149),'SUcHt':function(_0x43dd4d,_0x5e0a67){return _0x43dd4d!==_0x5e0a67;},'AzapV':_0x1546dc(0x1c6),'PrTvz':_0x1546dc(0x215),'PPGVP':_0x1546dc(0x1af),'fCQzn':'mjs','FVKbV':'cjs','lLXTT':'json','PRcBg':function(_0x1981e9,_0x24a2f6){return _0x1981e9!==_0x24a2f6;},'iKbaq':_0x1546dc(0x1ea),'fDLTQ':_0x1546dc(0x18a),'wUKhw':_0x1546dc(0x21f)},_0x4e89dd=_0x3c5369[_0x1546dc(0x1a4)](_0xc1c0d=>_0xc1c0d==='--config');if(!helper[_0x1546dc(0x1e9)](_0xbbdf04[_0x1546dc(0x214)])){if(_0xca30e0['QMcMT'](_0xca30e0['cGPJS'],_0xca30e0[_0x1546dc(0x168)])){logger[_0x1546dc(0x1b3)](_0x1546dc(0x184)+_0xbbdf04[_0x1546dc(0x214)]);const _0x32075f=_0xca30e0[_0x1546dc(0x218)](require,path[_0x1546dc(0x1c2)](_0xbbdf04['config']));return _0x3c5369[_0x1546dc(0x22c)](_0x4e89dd,0x2),_0xca30e0['vgPkT'](_0x32075f,{});}else{_0x1d98c3[_0x1546dc(0x1b3)](_0x1546dc(0x184)+_0x4f2a88[_0x1546dc(0x214)]);const _0x402422=_0xca30e0['RDcgr'](_0x19a2a8,_0x182ba3['resolve'](_0x46c98d['config']));return _0x378488[_0x1546dc(0x22c)](_0x100097,0x2),_0xca30e0['luSPe'](_0x402422,{});}}const _0x249a01=_0xca30e0[_0x1546dc(0x218)](require,path[_0x1546dc(0x1e2)](process[_0x1546dc(0x14d)](),_0xca30e0[_0x1546dc(0x136)]));if(_0x249a01['jest']){if(_0xca30e0[_0x1546dc(0x211)](_0xca30e0[_0x1546dc(0x196)],_0xca30e0[_0x1546dc(0x174)]))return logger[_0x1546dc(0x1b3)](_0xca30e0[_0x1546dc(0x187)]),_0x249a01['jest'];else _0x437c8b['log'](_0x3df155),_0xca30e0[_0x1546dc(0x218)](_0x4ccf91,_0x1546dc(0x219)+_0x3871f3);}const _0x3241d8=['js',_0xca30e0[_0x1546dc(0x197)],_0xca30e0[_0x1546dc(0x1b7)],_0xca30e0[_0x1546dc(0x15d)],'ts'];for(const _0x9a148d of _0x3241d8){if(_0xca30e0[_0x1546dc(0x19e)](_0xca30e0[_0x1546dc(0x1ba)],_0xca30e0[_0x1546dc(0x212)])){const _0x375653=path[_0x1546dc(0x1e2)](process['cwd'](),_0x1546dc(0x1c0)+_0x9a148d);if(fs[_0x1546dc(0x192)](_0x375653)){if(_0xca30e0[_0x1546dc(0x19e)](_0xca30e0[_0x1546dc(0x1c3)],_0xca30e0[_0x1546dc(0x1c3)]))_0x34f176['push']({});else return _0xca30e0['RDcgr'](require,_0x375653);}}else{_0x1ddff4=_0x18d2f4[_0x1546dc(0x1f2)](_0x1fee94);try{_0x2b3d08=_0x434561[_0x1546dc(0x225)](_0x9fdff3);}catch(_0x10fe6b){_0x1fa113['debug']('Error\x20while\x20parsing\x20'+_0x5361b1+',\x20'+_0x5c0a0c+_0x1546dc(0x1e8)+_0x10fe6b);}_0x1a8479[_0x1546dc(0x178)](_0x4de7d4);}}return{};},getSerial=(_0x43551d,_0xe84326)=>{const _0x217cd4=a8_0x2542c9,_0x560fc0={};_0x560fc0[_0x217cd4(0x21d)]=_0x217cd4(0x1b0),_0x560fc0['wZLKy']=function(_0x14f4d4,_0x303a34){return _0x14f4d4>_0x303a34;},_0x560fc0[_0x217cd4(0x18b)]=function(_0x2b50b0,_0x301b47){return _0x2b50b0!==_0x301b47;},_0x560fc0[_0x217cd4(0x1a9)]=_0x217cd4(0x1d7),_0x560fc0[_0x217cd4(0x205)]=_0x217cd4(0x171),_0x560fc0[_0x217cd4(0x14a)]=_0x217cd4(0x17a);const _0x35d936=_0x560fc0;let _0x3f90c0=_0x35d936[_0x217cd4(0x21d)];return _0x35d936[_0x217cd4(0x181)](_0x43551d[_0x217cd4(0x177)],0x1)&&(!_0xe84326['runInBand']&&(helper['isUndefined'](_0xe84326['maxWorkers'])||_0x35d936[_0x217cd4(0x181)](_0xe84326[_0x217cd4(0x220)],0x1)))&&(_0x35d936[_0x217cd4(0x18b)](_0x35d936[_0x217cd4(0x1a9)],_0x35d936[_0x217cd4(0x205)])?_0x3f90c0=_0x35d936[_0x217cd4(0x14a)]:_0x285223=_0x26f3e3[_0x217cd4(0x220)]),_0x3f90c0;},getMaxWorkers=(_0x595892,_0x20a5e6)=>{const _0x1a6145=a8_0x2542c9,_0x184559={'nPptf':_0x1a6145(0x17a),'wNPyw':function(_0x4bd567,_0x1cafb5){return _0x4bd567(_0x1cafb5);},'aSMDT':function(_0x57b9a5,_0x3337f5){return _0x57b9a5===_0x3337f5;},'fDytm':_0x1a6145(0x16e),'dvLiE':function(_0x132ecd,_0x4cdea8){return _0x132ecd(_0x4cdea8);},'CcvOF':function(_0x1db40f,_0x4116c9){return _0x1db40f!==_0x4116c9;},'daFAc':'fWaAG'};let _0x10db84=0x1;if(!helper[_0x1a6145(0x1e9)](_0x20a5e6[_0x1a6145(0x191)]))_0x184559[_0x1a6145(0x226)](_0x184559[_0x1a6145(0x1e3)],_0x184559[_0x1a6145(0x1e3)])?_0x10db84=_0x184559[_0x1a6145(0x172)](parseInt,_0x20a5e6['parallelsPerPlatform']):_0x1e2bc6[_0x1a6145(0x1d1)][_0x1a6145(0x1da)]=_0x184559[_0x1a6145(0x142)];else{if(!helper[_0x1a6145(0x1e9)](_0x595892[_0x1a6145(0x220)])){if(_0x184559[_0x1a6145(0x138)](_0x184559[_0x1a6145(0x1a8)],_0x184559['daFAc'])){const _0x6cbba7=_0x5a9865[_0x1a6145(0x1e2)](_0x52f29c[_0x1a6145(0x14d)](),_0x1a6145(0x1c0)+_0x1812a2);if(_0x378406[_0x1a6145(0x192)](_0x6cbba7))return _0x184559[_0x1a6145(0x1aa)](_0x535653,_0x6cbba7);}else _0x10db84=_0x595892[_0x1a6145(0x220)];}}return _0x10db84;};async function run(_0x6182be,_0x4aa5c0){const _0x4e97d3=a8_0x2542c9,_0x5abe78={'sIYrS':function(_0x10a4e6,_0x1c18a5){return _0x10a4e6(_0x1c18a5);},'bIjxr':_0x4e97d3(0x131),'HoxjK':function(_0x56e6c6,_0x819a1f){return _0x56e6c6(_0x819a1f);},'SlESn':function(_0x514e0d,_0xb7f075){return _0x514e0d!==_0xb7f075;},'ODiGp':_0x4e97d3(0x1e5),'nLcTf':_0x4e97d3(0x203),'MUkZR':function(_0x2412e0,_0x5ce087){return _0x2412e0===_0x5ce087;},'HPjxv':_0x4e97d3(0x13e),'MIqXI':_0x4e97d3(0x173),'cIJYG':_0x4e97d3(0x1b1),'qKqTl':_0x4e97d3(0x1d9),'kXWrZ':function(_0x5e560b,_0x5d9ae2){return _0x5e560b(_0x5d9ae2);},'ejaqB':'skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','aVWNq':'Getting\x20your\x20jest\x20configs\x20from\x20package.json','GGGCC':'true','WjuAo':function(_0x3d0334,_0x1bf81b){return _0x3d0334>_0x1bf81b;},'mXllc':function(_0x3e7585,_0x15b6a9){return _0x3e7585>_0x15b6a9;},'IfFqH':'false','xqSIh':'fqIbs','dpFRO':_0x4e97d3(0x16b),'GOHsY':_0x4e97d3(0x1be),'uCSlM':function(_0x472437,_0x18f3c9){return _0x472437===_0x18f3c9;},'Iezgl':_0x4e97d3(0x1f7),'tUnum':_0x4e97d3(0x193),'QSlYg':function(_0x617a6b,_0x2883c1){return _0x617a6b!==_0x2883c1;},'ILwch':'lYFZX','Fkjvy':_0x4e97d3(0x1d8),'FVnOF':_0x4e97d3(0x153),'aJYTQ':function(_0x326c05,_0x589f11){return _0x326c05!=_0x589f11;},'MaZbo':function(_0x32bb52,_0x7bdc08){return _0x32bb52===_0x7bdc08;},'IgZwe':_0x4e97d3(0x14e),'QPDRr':_0x4e97d3(0x1c8),'xIjoi':'kkxBn','oIwlg':function(_0x3d8c70,_0x5a81ac,_0x3e72c2){return _0x3d8c70(_0x5a81ac,_0x3e72c2);},'owyxB':'Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','nlkdq':function(_0x566453,_0x5437c8){return _0x566453(_0x5437c8);},'uqmCJ':'klnPq','ljUGk':_0x4e97d3(0x224),'NbdlV':function(_0x267b53,_0x1c44b7){return _0x267b53!==_0x1c44b7;},'djuKF':'mwKJh','MDmll':'VYbcw','Eyeks':_0x4e97d3(0x166),'fdNpg':function(_0xefc8e9,_0x968e89){return _0xefc8e9===_0x968e89;},'VAwMs':'XtwAg','LtqKg':function(_0x40acc8,_0x580c9d){return _0x40acc8*_0x580c9d;},'CduqE':_0x4e97d3(0x22b),'bLLDi':_0x4e97d3(0x143),'kCdIY':_0x4e97d3(0x1f4),'JqjJc':_0x4e97d3(0x199),'JhnSo':function(_0x318feb,_0x43d4df){return _0x318feb===_0x43d4df;},'ktCaM':_0x4e97d3(0x216),'apjbM':function(_0x3e44d4,_0x4167b0){return _0x3e44d4!==_0x4167b0;},'rwQtm':_0x4e97d3(0x158),'joOFB':function(_0x5e4ef1,_0x280889){return _0x5e4ef1===_0x280889;},'HFyzR':_0x4e97d3(0x1f6),'HRQQg':'pCdOn','urZsg':_0x4e97d3(0x194),'tsGTi':'YMpRf','MIdNg':function(_0x53e7f4,_0xd3bc1e){return _0x53e7f4!==_0xd3bc1e;},'zSeuu':_0x4e97d3(0x1d0),'IYoBI':_0x4e97d3(0x208),'pCahl':function(_0x910846,_0x31c402){return _0x910846===_0x31c402;},'mRdQF':_0x4e97d3(0x209),'UGBIa':'SELho','YBjKs':_0x4e97d3(0x1a7),'uBphd':'Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','FpWMR':_0x4e97d3(0x144),'agtEE':'HaSrY','bnqfR':function(_0xc5c094,_0x541806){return _0xc5c094(_0x541806);},'wPhlz':function(_0x11aa73,_0x2c97ea,_0x1875f5,_0x829d81){return _0x11aa73(_0x2c97ea,_0x1875f5,_0x829d81);},'uDBCg':_0x4e97d3(0x165),'XAUlM':_0x4e97d3(0x1ad),'KIFto':_0x4e97d3(0x1c7),'zMyws':_0x4e97d3(0x18f)},_0x339637=new BrowserStackSetup(_0x6182be,_0x5abe78['cIJYG']);helper[_0x4e97d3(0x16c)]()&&(_0x5abe78[_0x4e97d3(0x1f8)](_0x5abe78['ILwch'],_0x5abe78[_0x4e97d3(0x183)])?_0x5abe78['sIYrS'](_0xff047c,_0x4e97d3(0x134)+_0x1c4329):(await _0x339637[_0x4e97d3(0x162)](),await helper[_0x4e97d3(0x20c)](_0x339637[_0x4e97d3(0x214)])));if(!_0x339637[_0x4e97d3(0x214)]){if(_0x5abe78[_0x4e97d3(0x1f8)](_0x5abe78[_0x4e97d3(0x1ab)],_0x5abe78[_0x4e97d3(0x1e1)]))return;else _0x4eb3e2[_0x4e97d3(0x1cc)][_0x4e97d3(0x202)](_0x48ceca+_0x4e97d3(0x1a2)),_0x209d43[_0x4e97d3(0x14c)]=_0x194ba6+'/customImplements/customCircus.js';}if(_0x5abe78[_0x4e97d3(0x12f)](_0x339637['config'][_0x4e97d3(0x189)],null))_0x5abe78[_0x4e97d3(0x20d)](_0x5abe78[_0x4e97d3(0x1f9)],_0x5abe78[_0x4e97d3(0x1f9)])?process['env'][_0x4e97d3(0x1da)]=_0x339637[_0x4e97d3(0x214)][_0x4e97d3(0x189)]:_0x265ff8=_0x4287bc['requireModule'](_0x5abe78['bIjxr']);else{if(_0x5abe78['QSlYg'](_0x5abe78[_0x4e97d3(0x227)],_0x5abe78['xIjoi']))process[_0x4e97d3(0x1d1)][_0x4e97d3(0x1da)]=_0x5abe78['IfFqH'];else return;}const _0x13c439=_0x5abe78['oIwlg'](getUserJestConfigs,_0x6182be,_0x4aa5c0);logger[_0x4e97d3(0x1b3)](_0x5abe78['owyxB']);const _0x337219=Object[_0x4e97d3(0x1a6)]({},_0x13c439);_0x337219[_0x4e97d3(0x195)]=Object[_0x4e97d3(0x1a6)]({},_0x337219['testEnvironmentOptions'],{'server':helper['getHubUrl'](_0x339637['config']),'environment':_0x13c439['testEnvironment']}),_0x337219['testEnvironmentOptions'][_0x4e97d3(0x164)]=_0x5abe78[_0x4e97d3(0x1de)](getPercyOptions,_0x339637[_0x4e97d3(0x214)]);const _0x236d28=helper['useW3C'](_0x339637[_0x4e97d3(0x214)]),_0x2b375c=[];if(_0x5abe78['WjuAo'](_0x339637[_0x4e97d3(0x214)][_0x4e97d3(0x137)][_0x4e97d3(0x177)],0x0))_0x5abe78['SlESn'](_0x5abe78['uqmCJ'],_0x5abe78[_0x4e97d3(0x156)])?_0x339637['config'][_0x4e97d3(0x137)][_0x4e97d3(0x17c)]((_0x36dd06,_0x37b910)=>{const _0x5bc1a2=_0x4e97d3,_0x3533e6={'ENgUF':function(_0x37c4be,_0x4ca6dd){const _0x3bf8b5=a8_0x4f34;return _0x5abe78[_0x3bf8b5(0x18e)](_0x37c4be,_0x4ca6dd);},'uXIzo':function(_0x48ea2c,_0x21f14d){const _0x32da3a=a8_0x4f34;return _0x5abe78[_0x32da3a(0x1a0)](_0x48ea2c,_0x21f14d);}};if(_0x5abe78[_0x5bc1a2(0x19f)](_0x5abe78['ODiGp'],_0x5abe78[_0x5bc1a2(0x1f5)])){if(_0x236d28)_0x5abe78['MUkZR'](_0x5abe78[_0x5bc1a2(0x20b)],_0x5abe78['MIqXI'])?_0x3dd45f=_0x3533e6[_0x5bc1a2(0x1ee)](_0x2741d8,_0x186260[_0x5bc1a2(0x191)]):_0x2b375c[_0x5bc1a2(0x202)](helper[_0x5bc1a2(0x200)](_0x339637[_0x5bc1a2(0x214)],_0x5abe78[_0x5bc1a2(0x154)],_0x37b910));else{if(_0x5abe78[_0x5bc1a2(0x19f)](_0x5abe78[_0x5bc1a2(0x22a)],_0x5abe78[_0x5bc1a2(0x22a)])){let _0x371097=0x1;if(!_0x21e2cc[_0x5bc1a2(0x1e9)](_0x480da7[_0x5bc1a2(0x191)]))_0x371097=_0x3533e6[_0x5bc1a2(0x180)](_0x1dba4f,_0x3a9e11[_0x5bc1a2(0x191)]);else!_0x819f6e['isUndefined'](_0x55e664[_0x5bc1a2(0x220)])&&(_0x371097=_0x34768b[_0x5bc1a2(0x220)]);return _0x371097;}else _0x2b375c[_0x5bc1a2(0x202)](helper[_0x5bc1a2(0x13d)](_0x339637[_0x5bc1a2(0x214)],_0x5abe78[_0x5bc1a2(0x154)],_0x37b910));}}else _0x42b560[_0x5bc1a2(0x1fa)](_0x5bc1a2(0x157)+_0x3c8649+',\x20'+_0x5c99f8+_0x5bc1a2(0x1e8)+_0x96c74c);}):_0x322fa8[_0x4e97d3(0x1d1)][_0x4e97d3(0x1da)]=_0x3f7d71[_0x4e97d3(0x214)][_0x4e97d3(0x189)];else{if(_0x5abe78[_0x4e97d3(0x160)](_0x5abe78[_0x4e97d3(0x152)],_0x5abe78[_0x4e97d3(0x152)]))return _0x5abe78[_0x4e97d3(0x15b)](_0x341fbd,_0x23871f);else _0x2b375c['push']({});}!helper['isUndefined'](_0x339637[_0x4e97d3(0x214)]['accessibilityOptions'])&&(_0x5abe78[_0x4e97d3(0x160)](_0x5abe78[_0x4e97d3(0x1f0)],_0x5abe78[_0x4e97d3(0x14b)])?process[_0x4e97d3(0x1d1)]['BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML']=JSON[_0x4e97d3(0x1d2)](_0x339637[_0x4e97d3(0x214)]['accessibilityOptions']):_0x5bb77e['debug'](_0x5abe78[_0x4e97d3(0x13a)]));let _0x38f15f=_0x339637[_0x4e97d3(0x214)][_0x4e97d3(0x198)];_0x38f15f=_0x38f15f||accessibilityHelper[_0x4e97d3(0x210)](_0x339637[_0x4e97d3(0x214)]),process['env'][_0x4e97d3(0x21e)]=_0x38f15f;if(_0x38f15f){if(_0x5abe78[_0x4e97d3(0x151)](_0x5abe78[_0x4e97d3(0x16a)],_0x5abe78[_0x4e97d3(0x16a)])){const [_0x4aad1e,_0x13d9d1]=await accessibilityHelper[_0x4e97d3(0x1ef)](_0x339637['config'],_0x5abe78[_0x4e97d3(0x154)]);logger['info'](_0x4e97d3(0x1b8)+_0x13d9d1),process[_0x4e97d3(0x1d1)][_0x4e97d3(0x1fc)]=_0x4aad1e,process[_0x4e97d3(0x1d1)][_0x4e97d3(0x222)]=_0x13d9d1;}else _0x53fbca[_0x4e97d3(0x1ae)](),_0x25c845['setupFiles'][_0x4e97d3(0x202)](_0x20fde+'/test_before.setup.js');}_0x337219[_0x4e97d3(0x195)][_0x4e97d3(0x16f)]=_0x2b375c,_0x337219[_0x4e97d3(0x195)]['serial__']=_0x5abe78['oIwlg'](getSerial,_0x2b375c,_0x6182be),_0x337219[_0x4e97d3(0x195)][_0x4e97d3(0x1c4)]=_0x5abe78[_0x4e97d3(0x148)](getMaxWorkers,_0x6182be,_0x339637['config']),_0x337219['testEnvironmentOptions'][_0x4e97d3(0x19d)]=_0x339637[_0x4e97d3(0x214)]['proxySettings'],_0x337219[_0x4e97d3(0x195)][_0x4e97d3(0x1b5)]=_0x5abe78[_0x4e97d3(0x15a)](_0x6182be[_0x4e97d3(0x18c)],0x1)||0x1388,_0x337219['testEnvironmentOptions']['skipSessionName']=_0x339637[_0x4e97d3(0x214)]['testContextOptions'][_0x4e97d3(0x1ac)],_0x337219[_0x4e97d3(0x195)][_0x4e97d3(0x139)]=_0x339637[_0x4e97d3(0x214)][_0x4e97d3(0x19c)][_0x4e97d3(0x139)],_0x337219[_0x4e97d3(0x195)][_0x4e97d3(0x21b)]=_0x339637['config']['logLevel'],_0x337219[_0x4e97d3(0x195)][_0x4e97d3(0x17e)]=_0x339637[_0x4e97d3(0x214)][_0x4e97d3(0x17e)],_0x337219[_0x4e97d3(0x195)]['platformCaps']=_0x339637[_0x4e97d3(0x214)]['platforms'];const _0x4621c9=_0x5abe78[_0x4e97d3(0x1e4)],_0x57d9ae=path[_0x4e97d3(0x1e2)](__dirname,_0x5abe78[_0x4e97d3(0x1ff)],_0x5abe78['kCdIY']),_0x38e7ad=__dirname+_0x4e97d3(0x217),_0x1a2af9=__dirname+_0x4e97d3(0x1df);_0x337219[_0x4e97d3(0x229)]&&(_0x5abe78[_0x4e97d3(0x160)](_0x5abe78[_0x4e97d3(0x21c)],_0x5abe78[_0x4e97d3(0x21c)])?_0x3e75f5['env']['BSTACK_JEST_TEST_ENV']=_0x12e0f6[_0x4e97d3(0x229)]:process['env'][_0x4e97d3(0x15e)]=_0x337219[_0x4e97d3(0x229)]);_0x337219['testEnvironment']=__dirname+_0x4e97d3(0x175),_0x337219[_0x4e97d3(0x150)]=_0x38e7ad,_0x337219['setupFilesAfterEnv']=_0x337219['setupFilesAfterEnv']||[],_0x337219['setupFilesAfterEnv'][_0x4e97d3(0x202)](__dirname+_0x4e97d3(0x155));if(testOpsHelper[_0x4e97d3(0x1f1)]()){if(_0x5abe78[_0x4e97d3(0x20a)](_0x5abe78[_0x4e97d3(0x1cf)],_0x5abe78['ktCaM'])){let _0x1632cc=null;try{_0x5abe78[_0x4e97d3(0x20f)](_0x5abe78[_0x4e97d3(0x1fd)],_0x5abe78[_0x4e97d3(0x1fd)])?_0x283ee2[_0x4e97d3(0x214)]['platforms'][_0x4e97d3(0x17c)]((_0x8bcec6,_0x3064b2)=>{const _0xa05e61=_0x4e97d3;_0x3f9d9a?_0xf10c33[_0xa05e61(0x202)](_0x2005b2[_0xa05e61(0x200)](_0x8ce198[_0xa05e61(0x214)],_0x5abe78['cIJYG'],_0x3064b2)):_0x278a04[_0xa05e61(0x202)](_0xe38ddd[_0xa05e61(0x13d)](_0x520cc3[_0xa05e61(0x214)],_0x5abe78['cIJYG'],_0x3064b2));}):_0x1632cc=helper[_0x4e97d3(0x1dc)](_0x5abe78['bIjxr']);}catch(_0x1df34d){if(_0x5abe78[_0x4e97d3(0x1c1)](_0x5abe78['HFyzR'],_0x5abe78[_0x4e97d3(0x1e6)])){let _0x1f054e=null;try{_0x1f054e=_0x97fc22['requireModule'](_0x5abe78[_0x4e97d3(0x19b)]);}catch(_0x474427){_0x5abe78[_0x4e97d3(0x15b)](_0x2b6e9f,_0x4e97d3(0x134)+_0x474427);}_0x1f054e&&(_0x357388[_0x4e97d3(0x1cc)][_0x4e97d3(0x202)](_0x31b4c9+_0x4e97d3(0x1a2)),_0x116d1f['testRunner']=_0x383c3a+'/customImplements/customCircus.js');}else _0x5abe78[_0x4e97d3(0x15b)](debug,_0x4e97d3(0x134)+_0x1df34d);}_0x1632cc&&(_0x5abe78['SlESn'](_0x5abe78['urZsg'],_0x5abe78[_0x4e97d3(0x170)])?(_0x337219[_0x4e97d3(0x1cc)]['push'](__dirname+'/test-observability/data-hooks.js'),_0x337219[_0x4e97d3(0x14c)]=__dirname+_0x4e97d3(0x223)):_0xc12095['stopAccessibilityTestRun'](_0x4b4480[_0x4e97d3(0x214)]));}else _0x4c0694[_0x4e97d3(0x202)](_0x3af6e1[_0x4e97d3(0x200)](_0x32707a[_0x4e97d3(0x214)],_0x5abe78[_0x4e97d3(0x154)],_0x3d55ca));}_0x337219[_0x4e97d3(0x13b)]=_0x337219['setupFiles']||[];try{if(_0x5abe78[_0x4e97d3(0x1d5)](_0x5abe78[_0x4e97d3(0x1fe)],_0x5abe78[_0x4e97d3(0x1bf)]))helper[_0x4e97d3(0x1ae)](),_0x337219[_0x4e97d3(0x13b)][_0x4e97d3(0x202)](__dirname+'/test_before.setup.js');else return _0x5a04b1['info'](_0x5abe78[_0x4e97d3(0x1d6)]),_0x2af005[_0x4e97d3(0x1b1)];}catch{_0x5abe78[_0x4e97d3(0x21a)](_0x5abe78[_0x4e97d3(0x1b9)],_0x5abe78[_0x4e97d3(0x1b6)])?_0x2af1b3?_0x5b7d29['push'](_0x1639cc[_0x4e97d3(0x200)](_0x2d7c7e[_0x4e97d3(0x214)],_0x5abe78[_0x4e97d3(0x154)],_0x1b1cb9)):_0x29a56c[_0x4e97d3(0x202)](_0x3881e9[_0x4e97d3(0x13d)](_0x3f4541[_0x4e97d3(0x214)],_0x5abe78['cIJYG'],_0x2f343f)):logger['debug'](_0x5abe78[_0x4e97d3(0x13a)]);}_0x337219['reporters']=_0x337219[_0x4e97d3(0x176)]||[_0x5abe78[_0x4e97d3(0x1a5)]],_0x5abe78[_0x4e97d3(0x148)](updateTestRerunConfig,_0x337219,_0x339637);const _0x5c6403=fs['readFileSync'](_0x1a2af9);fs[_0x4e97d3(0x20e)](_0x337219[_0x4e97d3(0x150)],'\x0a\x20\x20\x20\x20'+_0x5c6403+_0x4e97d3(0x1c9)+_0x339637[_0x4e97d3(0x214)][_0x4e97d3(0x137)][_0x4e97d3(0x177)]+_0x4e97d3(0x169)),logger[_0x4e97d3(0x1b3)](_0x4e97d3(0x186)+_0x4621c9+'\x20with\x20browserstack\x20jest\x20configs'),fs[_0x4e97d3(0x20e)](_0x4621c9,_0x4e97d3(0x1bc)+JSON[_0x4e97d3(0x1d2)](_0x337219)+'\x0amodule.exports\x20=\x20config;'),logger['info'](_0x5abe78[_0x4e97d3(0x18d)]);if(testOpsHelper[_0x4e97d3(0x1f1)]()){if(_0x5abe78[_0x4e97d3(0x151)](_0x5abe78['FpWMR'],_0x5abe78['agtEE']))_0x46bd52[_0x4e97d3(0x202)](_0x49aa1d[_0x4e97d3(0x13d)](_0x27f17a[_0x4e97d3(0x214)],_0x5abe78[_0x4e97d3(0x154)],_0x5d1cc0));else{const _0x27e0ee={};_0x27e0ee[_0x4e97d3(0x182)]='',await SessionHandler['launch'](Object[_0x4e97d3(0x1a6)]({},_0x339637['config'],_0x27e0ee),{'frameworkName':_0x5abe78[_0x4e97d3(0x154)],'frameworkVersion':_0x5abe78[_0x4e97d3(0x17b)](getFrameworkVersion,_0x5abe78[_0x4e97d3(0x154)])}),TestDetails[_0x4e97d3(0x147)]();}}helper[_0x4e97d3(0x159)]({},_0x4aa5c0),helper[_0x4e97d3(0x15f)]();const _0x4e4866=_0x5abe78[_0x4e97d3(0x145)](spawn,/^win/[_0x4e97d3(0x1ca)](process[_0x4e97d3(0x1b4)])?_0x5abe78[_0x4e97d3(0x1dd)]:_0x5abe78['cIJYG'],[_0x5abe78['XAUlM'],_0x4621c9,..._0x4aa5c0[_0x4e97d3(0x13f)](0x1)],{'stdio':_0x5abe78['KIFto'],'env':Object[_0x4e97d3(0x1a6)]({},process[_0x4e97d3(0x1d1)])});_0x4e4866['on'](_0x5abe78[_0x4e97d3(0x1fb)],async _0x44cbb9=>{const _0x42d46e=_0x4e97d3,_0x176598={'QkFqv':_0x5abe78[_0x42d46e(0x1e0)],'eqAWL':function(_0x5815b4,_0x318070){return _0x5abe78['WjuAo'](_0x5815b4,_0x318070);},'dzJYf':function(_0x1b6912,_0x5cff1d){const _0x1065dd=_0x42d46e;return _0x5abe78[_0x1065dd(0x1c5)](_0x1b6912,_0x5cff1d);},'VlRse':_0x5abe78['IfFqH']};process[_0x42d46e(0x161)]=_0x44cbb9,logger['debug'](_0x42d46e(0x1a1)+_0x44cbb9),logger[_0x42d46e(0x1b3)](_0x42d46e(0x1cd)+_0x4621c9);let _0x40e1b1=null;if(fs['existsSync'](_0x57d9ae)){if(_0x5abe78[_0x42d46e(0x19f)](_0x5abe78[_0x42d46e(0x1ed)],_0x5abe78[_0x42d46e(0x1ed)]))_0x2d7cb3[_0x42d46e(0x1d1)][_0x42d46e(0x17d)]=_0x761b96['stringify'](_0xdfb58b[_0x42d46e(0x214)][_0x42d46e(0x1a3)]);else{_0x40e1b1=fs[_0x42d46e(0x1f2)](_0x57d9ae);try{if(_0x5abe78['SlESn'](_0x5abe78['dpFRO'],_0x5abe78[_0x42d46e(0x1cb)]))_0x40e1b1=JSON[_0x42d46e(0x225)](_0x40e1b1);else{let _0x5e2d89=_0x176598[_0x42d46e(0x1bd)];return _0x176598[_0x42d46e(0x163)](_0x476c3[_0x42d46e(0x177)],0x1)&&(!_0x4a15bf[_0x42d46e(0x135)]&&(_0x33d80c[_0x42d46e(0x1e9)](_0x384205[_0x42d46e(0x220)])||_0x176598[_0x42d46e(0x206)](_0x187609['maxWorkers'],0x1)))&&(_0x5e2d89=_0x176598[_0x42d46e(0x179)]),_0x5e2d89;}}catch(_0x265f20){_0x5abe78['uCSlM'](_0x5abe78[_0x42d46e(0x188)],_0x5abe78[_0x42d46e(0x188)])?logger[_0x42d46e(0x1fa)](_0x42d46e(0x157)+_0x57d9ae+',\x20'+_0x40e1b1+_0x42d46e(0x1e8)+_0x265f20):_0x33fb8d=_0x31990a[_0x42d46e(0x225)](_0x37adac);}fs[_0x42d46e(0x178)](_0x57d9ae);}}accessibilityHelper[_0x42d46e(0x19a)]()&&(_0x5abe78[_0x42d46e(0x1d4)](_0x5abe78[_0x42d46e(0x1ce)],_0x5abe78[_0x42d46e(0x1ce)])?accessibilityHelper[_0x42d46e(0x141)](_0x339637[_0x42d46e(0x214)]):_0x1aa772=_0x176598[_0x42d46e(0x179)]);fs[_0x42d46e(0x178)](_0x4621c9),fs[_0x42d46e(0x178)](_0x38e7ad),_0x40e1b1&&(_0x339637[_0x42d46e(0x1eb)]=helper[_0x42d46e(0x228)](_0x40e1b1,_0x5abe78[_0x42d46e(0x154)],_0x339637));if(testOpsHelper[_0x42d46e(0x1f1)]())try{await SessionHandler['stop']();}catch(_0x5d45b0){console['log'](_0x5d45b0),_0x5abe78[_0x42d46e(0x18e)](debug,'Exception\x20in\x20stop\x20build\x20request\x20to\x20Observability\x20:\x20'+_0x5d45b0);}testOpsHelper[_0x42d46e(0x15c)](),TestDetails[_0x42d46e(0x13c)](),await helper[_0x42d46e(0x1bb)](_0x339637);});}module[a8_0x2542c9(0x22d)]=run;