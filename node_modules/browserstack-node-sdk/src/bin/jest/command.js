#!/usr/bin/env node
'use strict';const a8_0x5eb878=a8_0x2b0c;function a8_0x2b0c(_0x5437d5,_0x513fdf){const _0x19cffd=a8_0x19cf();return a8_0x2b0c=function(_0x2b0cbf,_0x1e1905){_0x2b0cbf=_0x2b0cbf-0x9b;let _0x162940=_0x19cffd[_0x2b0cbf];return _0x162940;},a8_0x2b0c(_0x5437d5,_0x513fdf);}(function(_0x21054c,_0x14e5b1){const _0xc4d283=a8_0x2b0c,_0x4f76c8=_0x21054c();while(!![]){try{const _0x5cdfb1=-parseInt(_0xc4d283(0x189))/0x1*(parseInt(_0xc4d283(0xd8))/0x2)+-parseInt(_0xc4d283(0xfd))/0x3+parseInt(_0xc4d283(0x100))/0x4+parseInt(_0xc4d283(0x12d))/0x5*(-parseInt(_0xc4d283(0x126))/0x6)+-parseInt(_0xc4d283(0xe9))/0x7*(-parseInt(_0xc4d283(0xb6))/0x8)+-parseInt(_0xc4d283(0x145))/0x9+parseInt(_0xc4d283(0x167))/0xa;if(_0x5cdfb1===_0x14e5b1)break;else _0x4f76c8['push'](_0x4f76c8['shift']());}catch(_0x3808fa){_0x4f76c8['push'](_0x4f76c8['shift']());}}}(a8_0x19cf,0x4a8a2));const fs=require('fs'),path=require(a8_0x5eb878(0xce)),{spawn}=require('child_process'),logger=require(a8_0x5eb878(0xd3))['winstonLogger'],{default:BrowserStackSetup}=require(a8_0x5eb878(0x151)),helper=require('../../helpers/helper'),constants=require(a8_0x5eb878(0x13c)),accessibilityHelper=require('../../helpers/accessibility-automation/helper'),{updateTestRerunConfig}=require(a8_0x5eb878(0x19f)),testOpsHelper=require('../../helpers/test-observability/utils'),SessionHandler=require(a8_0x5eb878(0x195)),{getFrameworkVersion,debug}=require(a8_0x5eb878(0xed)),TestDetails=require('./test-observability/test-details'),{getPercyOptions}=require(a8_0x5eb878(0xf9)),packageFile=process[a8_0x5eb878(0x10e)]()+a8_0x5eb878(0x163),getUserJestConfigs=(_0x576d61,_0x2a6d07)=>{const _0x5d5025=a8_0x5eb878,_0x54f86d={'UJMXn':_0x5d5025(0x17f),'ptznz':function(_0x3f19e1,_0x4aa349){return _0x3f19e1(_0x4aa349);},'TEyny':function(_0x1840db,_0x4401e9){return _0x1840db!==_0x4401e9;},'DiKNs':'xngUJ','pqkSA':_0x5d5025(0xd2),'YLjUj':function(_0x33a147,_0x4c5ab7){return _0x33a147(_0x4c5ab7);},'WZdZa':function(_0x3d9e58,_0xed347a){return _0x3d9e58||_0xed347a;},'xdBFU':function(_0x49bb59,_0x14559c){return _0x49bb59(_0x14559c);},'NXZTI':_0x5d5025(0x152),'jjMfk':function(_0x94ba92,_0x4d7f02){return _0x94ba92===_0x4d7f02;},'xeiLB':_0x5d5025(0x1a9),'SbviU':'DSKcQ','YIArD':_0x5d5025(0xb7),'aWsjX':_0x5d5025(0x1a1),'ZtITi':'cjs','sApRq':'json','DiWDm':_0x5d5025(0xfc),'uHCXT':'KFDzh','iMLjg':_0x5d5025(0xde),'XySpU':_0x5d5025(0xaa)},_0x201e56=_0x2a6d07['findIndex'](_0x485f66=>_0x485f66===_0x5d5025(0x166));if(!helper[_0x5d5025(0x146)](_0x576d61[_0x5d5025(0xf8)])){if(_0x54f86d[_0x5d5025(0xa6)](_0x54f86d[_0x5d5025(0x15f)],_0x54f86d[_0x5d5025(0x1a6)])){logger[_0x5d5025(0x14d)](_0x5d5025(0xdf)+_0x576d61[_0x5d5025(0xf8)]);const _0x5e042a=_0x54f86d[_0x5d5025(0x16c)](require,path['resolve'](_0x576d61[_0x5d5025(0xf8)]));return _0x2a6d07['splice'](_0x201e56,0x2),_0x54f86d[_0x5d5025(0x168)](_0x5e042a,{});}else _0x1e4c49[_0x5d5025(0x1a7)](_0x47691a[_0x5d5025(0x158)](_0x54d230[_0x5d5025(0xf8)],_0x54f86d[_0x5d5025(0xcd)],_0xdd8bec));}const _0x184b79=_0x54f86d[_0x5d5025(0x130)](require,path[_0x5d5025(0xe0)](process['cwd'](),_0x54f86d[_0x5d5025(0xfb)]));if(_0x184b79[_0x5d5025(0x17f)])return _0x54f86d[_0x5d5025(0x14c)](_0x54f86d[_0x5d5025(0x12e)],_0x54f86d[_0x5d5025(0xdc)])?_0x54f86d['ptznz'](_0x5e43d0,_0xba3960):(logger[_0x5d5025(0x14d)](_0x54f86d['YIArD']),_0x184b79['jest']);const _0x309fd0=['js',_0x54f86d['aWsjX'],_0x54f86d[_0x5d5025(0x18a)],_0x54f86d[_0x5d5025(0x17a)],'ts'];for(const _0x5d576f of _0x309fd0){if(_0x54f86d[_0x5d5025(0x14c)](_0x54f86d[_0x5d5025(0xfa)],_0x54f86d[_0x5d5025(0x10f)]))_0x54f86d[_0x5d5025(0x17c)](_0x33e731,_0x5d5025(0x112)+_0x268f95);else{const _0x1d7a51=path[_0x5d5025(0xe0)](process[_0x5d5025(0x10e)](),_0x5d5025(0xe8)+_0x5d576f);if(fs[_0x5d5025(0x1ab)](_0x1d7a51)){if(_0x54f86d[_0x5d5025(0x14c)](_0x54f86d[_0x5d5025(0x147)],_0x54f86d[_0x5d5025(0x193)]))_0x4024a8[_0x5d5025(0x127)]();else return _0x54f86d[_0x5d5025(0x17c)](require,_0x1d7a51);}}}return{};},getSerial=(_0x5db63d,_0xd23e49)=>{const _0x1cf0d0=a8_0x5eb878,_0x298a9d={};_0x298a9d[_0x1cf0d0(0x174)]='true',_0x298a9d[_0x1cf0d0(0x14e)]=function(_0x2e27f9,_0x217630){return _0x2e27f9>_0x217630;},_0x298a9d['zEyYb']=function(_0x4f9243,_0x37e79a){return _0x4f9243>_0x37e79a;},_0x298a9d['vBLGD']=function(_0x12a7a6,_0x25c86e){return _0x12a7a6===_0x25c86e;},_0x298a9d['gwzYL']=_0x1cf0d0(0xeb),_0x298a9d[_0x1cf0d0(0xd4)]=_0x1cf0d0(0xac),_0x298a9d[_0x1cf0d0(0x180)]=_0x1cf0d0(0x186);const _0x1321c2=_0x298a9d;let _0x4133b=_0x1321c2[_0x1cf0d0(0x174)];return _0x1321c2[_0x1cf0d0(0x14e)](_0x5db63d[_0x1cf0d0(0xc6)],0x1)&&(!_0xd23e49[_0x1cf0d0(0x19c)]&&(helper[_0x1cf0d0(0x146)](_0xd23e49[_0x1cf0d0(0x161)])||_0x1321c2['zEyYb'](_0xd23e49['maxWorkers'],0x1)))&&(_0x1321c2[_0x1cf0d0(0x120)](_0x1321c2[_0x1cf0d0(0x15a)],_0x1321c2[_0x1cf0d0(0xd4)])?(_0x4628b7[_0x1cf0d0(0x9e)](),_0x318de3['setupFiles'][_0x1cf0d0(0x1a7)](_0x633009+_0x1cf0d0(0xad))):_0x4133b=_0x1321c2['pcmYk']),_0x4133b;},getMaxWorkers=(_0x50dc0e,_0x105c72)=>{const _0x50dd40=a8_0x5eb878,_0x5dafad={'RfGzB':_0x50dd40(0xd5),'XsAag':function(_0x113417,_0x39fc39){return _0x113417(_0x39fc39);},'VvJAu':function(_0x5655b1,_0x494e28){return _0x5655b1===_0x494e28;},'djgLL':'bVXRc','CfzOT':_0x50dd40(0xb8),'YHDHv':function(_0x416d59,_0xf41365){return _0x416d59(_0xf41365);},'AzceJ':_0x50dd40(0x11f),'tVjKA':'mxqIe'};let _0x33a018=0x1;if(!helper[_0x50dd40(0x146)](_0x105c72['parallelsPerPlatform'])){if(_0x5dafad[_0x50dd40(0xe3)](_0x5dafad[_0x50dd40(0x18d)],_0x5dafad[_0x50dd40(0x188)])){let _0x362bd6=null;try{_0x362bd6=_0x2fb75a[_0x50dd40(0x142)](_0x5dafad[_0x50dd40(0xbb)]);}catch(_0x44e5e7){_0x5dafad[_0x50dd40(0x150)](_0xb0d352,_0x50dd40(0x112)+_0x44e5e7);}_0x362bd6&&(_0x36a74b['setupFilesAfterEnv'][_0x50dd40(0x1a7)](_0x1ded75+_0x50dd40(0xda)),_0x5a5e28[_0x50dd40(0x123)]=_0x277d04+_0x50dd40(0xd7));}else _0x33a018=_0x5dafad[_0x50dd40(0xea)](parseInt,_0x105c72[_0x50dd40(0xc0)]);}else!helper[_0x50dd40(0x146)](_0x50dc0e[_0x50dd40(0x161)])&&(_0x5dafad['VvJAu'](_0x5dafad[_0x50dd40(0xe4)],_0x5dafad[_0x50dd40(0xdd)])?(_0x174984[_0x50dd40(0x11a)](_0x2f1d73),_0x5dafad[_0x50dd40(0x150)](_0x41c6f5,_0x50dd40(0x149)+_0x51aa76)):_0x33a018=_0x50dc0e['maxWorkers']);return _0x33a018;};async function run(_0x5df8a8,_0x13afef){const _0x38040a=a8_0x5eb878,_0x22ddcb={'nCkDY':function(_0x3db05f,_0x301431){return _0x3db05f(_0x301431);},'OUkBE':_0x38040a(0x186),'vaIjN':_0x38040a(0xa1),'bTQWe':function(_0x3d80e8,_0x14deed){return _0x3d80e8>_0x14deed;},'PKSUG':function(_0x5ca0bf,_0x3a8d88){return _0x5ca0bf>_0x3a8d88;},'tuVfS':_0x38040a(0xa3),'TtNVK':_0x38040a(0xd5),'pnwip':function(_0x309742,_0x2917a2){return _0x309742===_0x2917a2;},'PtwXH':'TjcMQ','Zwqwu':'EkmQq','HEpQD':function(_0x2f5741,_0x20c55d){return _0x2f5741===_0x20c55d;},'oRxHJ':_0x38040a(0xc2),'mfXis':_0x38040a(0x17f),'ZQNjR':function(_0x23a198,_0x4c2576){return _0x23a198!==_0x4c2576;},'OOahT':_0x38040a(0xa5),'JxhDt':_0x38040a(0x1a2),'zVoMh':function(_0x23f371,_0x639ed7){return _0x23f371(_0x639ed7);},'WzCJN':function(_0x3af778,_0x44f0ab){return _0x3af778||_0x44f0ab;},'mYyae':_0x38040a(0x1a8),'Mpekm':'Getting\x20your\x20jest\x20configs\x20from\x20package.json','WxuKg':_0x38040a(0x9c),'PFBIQ':_0x38040a(0xf2),'qYjvm':function(_0x57785c,_0x5f5b84){return _0x57785c!==_0x5f5b84;},'FUnnP':'SYSdO','HZjyN':_0x38040a(0x155),'wqcdT':_0x38040a(0x13d),'gfJzP':_0x38040a(0x114),'hhOUc':function(_0x12cd0a,_0x46a274){return _0x12cd0a!==_0x46a274;},'Uhvoq':'doLLy','VFeWC':'iRxnz','yRLUk':function(_0x1f23cb,_0x1e82c6){return _0x1f23cb(_0x1e82c6);},'aAjES':_0x38040a(0xa9),'CdTiT':_0x38040a(0x157),'cjIhr':function(_0x2ee271,_0x1a1aba){return _0x2ee271!=_0x1a1aba;},'flZWi':function(_0x2a73d3,_0x1e63d8){return _0x2a73d3!==_0x1e63d8;},'JlWVG':_0x38040a(0x18b),'UEFvD':'FMnuK','XCJlP':'ZAHLb','sgzkq':_0x38040a(0x164),'HWEsg':function(_0x644a75,_0x4f5513,_0x1f768f){return _0x644a75(_0x4f5513,_0x1f768f);},'zNivT':_0x38040a(0x119),'ZzqSg':_0x38040a(0x11b),'Sirhe':function(_0x1f9e4e,_0x22d5e5){return _0x1f9e4e===_0x22d5e5;},'oRxPz':_0x38040a(0x108),'IlSus':_0x38040a(0xca),'fkYSK':_0x38040a(0xee),'hoRGQ':function(_0x21f2c8,_0x532f70){return _0x21f2c8!==_0x532f70;},'phGaW':'CvAGn','Qhlis':'hMGBh','JVvwM':function(_0x55d90f,_0x53bbbb){return _0x55d90f*_0x53bbbb;},'YDkRa':function(_0x3512a3,_0xf661ad){return _0x3512a3!==_0xf661ad;},'wSqYR':'hiqJT','WebXW':'ZImHX','SiCzP':function(_0x3d0d76,_0x2da2a9){return _0x3d0d76===_0x2da2a9;},'PPvFw':_0x38040a(0x175),'iEXSW':_0x38040a(0xa2),'KLScT':function(_0x46a489,_0x2cafcf){return _0x46a489===_0x2cafcf;},'iuaaI':_0x38040a(0x17b),'yQbxR':'customImplements','kXFaw':_0x38040a(0x10d),'EKOzO':function(_0x5e7f53,_0x5e4f64){return _0x5e7f53===_0x5e4f64;},'jOMrF':_0x38040a(0x14b),'YzuFE':'fKIAt','WzhcF':function(_0x32f55e,_0x2c27e3){return _0x32f55e!==_0x2c27e3;},'KkznZ':_0x38040a(0xc1),'ZVuXP':_0x38040a(0xc5),'UjnXj':function(_0x3b1e69,_0x477393){return _0x3b1e69!==_0x477393;},'shEsz':_0x38040a(0x156),'nvCHt':_0x38040a(0x187),'paryF':_0x38040a(0x183),'kZKwd':_0x38040a(0xb0),'iamlW':_0x38040a(0x18c),'weGeg':function(_0x392665,_0xd83c03){return _0x392665!==_0xd83c03;},'YVaBx':'oxDUJ','RsUws':_0x38040a(0x134),'IliQR':_0x38040a(0xa7),'TbdUD':_0x38040a(0x13f),'zXcvd':function(_0x3e77b7,_0x4bfebd,_0x301e1f){return _0x3e77b7(_0x4bfebd,_0x301e1f);},'ywsDu':_0x38040a(0xbf),'wMcBH':'dUBVr','Azqmr':function(_0x2b8db1,_0xc9325c,_0xdafc60,_0x3484ed){return _0x2b8db1(_0xc9325c,_0xdafc60,_0x3484ed);},'RTOwV':'jest.cmd','nIzDR':_0x38040a(0x166),'BUOoT':_0x38040a(0x140),'wFYvM':_0x38040a(0x185)},_0x39c012=new BrowserStackSetup(_0x5df8a8,_0x22ddcb['mfXis']);if(helper['isBrowserstackInfra']()){if(_0x22ddcb[_0x38040a(0xc4)](_0x22ddcb[_0x38040a(0x116)],_0x22ddcb['aAjES'])){const _0x55306b=_0x31c5c5[_0x38040a(0xe0)](_0x32f136['cwd'](),'jest.config.'+_0x75d3c0);if(_0x2beaa4[_0x38040a(0x1ab)](_0x55306b))return _0x22ddcb[_0x38040a(0x128)](_0x38035d,_0x55306b);}else await _0x39c012[_0x38040a(0x1a4)](),await helper[_0x38040a(0x139)](_0x39c012[_0x38040a(0xf8)]);}if(!_0x39c012[_0x38040a(0xf8)]){if(_0x22ddcb[_0x38040a(0x103)](_0x22ddcb[_0x38040a(0x105)],_0x22ddcb[_0x38040a(0x105)]))_0x257392[_0x38040a(0x131)](_0xe50a25['config']);else return;}if(_0x22ddcb[_0x38040a(0x9d)](_0x39c012[_0x38040a(0xf8)][_0x38040a(0x196)],null))_0x22ddcb[_0x38040a(0x190)](_0x22ddcb[_0x38040a(0x1aa)],_0x22ddcb[_0x38040a(0x177)])?process[_0x38040a(0x192)][_0x38040a(0x199)]=_0x39c012[_0x38040a(0xf8)][_0x38040a(0x196)]:_0x5dcd14[_0x38040a(0x192)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x22ddcb['OUkBE'];else{if(_0x22ddcb['hhOUc'](_0x22ddcb[_0x38040a(0xe7)],_0x22ddcb[_0x38040a(0x115)]))process[_0x38040a(0x192)][_0x38040a(0x199)]=_0x22ddcb[_0x38040a(0xae)];else{let _0x48f622=_0x22ddcb[_0x38040a(0x14a)];return _0x22ddcb[_0x38040a(0x159)](_0x136fa4[_0x38040a(0xc6)],0x1)&&(!_0x19978d[_0x38040a(0x19c)]&&(_0x536412['isUndefined'](_0x301b63['maxWorkers'])||_0x22ddcb[_0x38040a(0x19d)](_0x2fb846[_0x38040a(0x161)],0x1)))&&(_0x48f622=_0x22ddcb[_0x38040a(0xae)]),_0x48f622;}}const _0x2a71e3=_0x22ddcb[_0x38040a(0x143)](getUserJestConfigs,_0x5df8a8,_0x13afef);logger[_0x38040a(0x14d)](_0x22ddcb[_0x38040a(0x11c)]);const _0x171c4a=Object[_0x38040a(0x11e)]({},_0x2a71e3);_0x171c4a[_0x38040a(0x18e)]=Object[_0x38040a(0x11e)]({},_0x171c4a[_0x38040a(0x18e)],{'server':helper[_0x38040a(0x19e)](_0x39c012[_0x38040a(0xf8)]),'environment':_0x2a71e3[_0x38040a(0x125)]}),_0x171c4a[_0x38040a(0x18e)][_0x38040a(0x171)]=_0x22ddcb['nCkDY'](getPercyOptions,_0x39c012['config']);const _0x4d4334=helper[_0x38040a(0x15b)](_0x39c012[_0x38040a(0xf8)]),_0x247bca=[];_0x22ddcb['bTQWe'](_0x39c012[_0x38040a(0xf8)][_0x38040a(0xd9)][_0x38040a(0xc6)],0x0)?_0x22ddcb[_0x38040a(0xb1)](_0x22ddcb[_0x38040a(0x148)],_0x22ddcb[_0x38040a(0x148)])?_0x39c012[_0x38040a(0xf8)][_0x38040a(0xd9)][_0x38040a(0x113)]((_0x51a75a,_0x38418)=>{const _0x57407e=_0x38040a;_0x22ddcb[_0x57407e(0xb1)](_0x22ddcb[_0x57407e(0xbc)],_0x22ddcb[_0x57407e(0xcf)])?_0xecf560=_0x22ddcb[_0x57407e(0xc8)]:_0x4d4334?_0x22ddcb[_0x57407e(0x1a5)](_0x22ddcb['oRxHJ'],_0x22ddcb[_0x57407e(0x153)])?_0x247bca[_0x57407e(0x1a7)](helper[_0x57407e(0xba)](_0x39c012[_0x57407e(0xf8)],_0x22ddcb['mfXis'],_0x38418)):_0x3feb54=_0x1e0c45[_0x57407e(0x142)](_0x22ddcb[_0x57407e(0xbe)]):_0x22ddcb[_0x57407e(0x103)](_0x22ddcb['OOahT'],_0x22ddcb[_0x57407e(0x178)])?_0x247bca[_0x57407e(0x1a7)](helper[_0x57407e(0x158)](_0x39c012[_0x57407e(0xf8)],_0x22ddcb[_0x57407e(0x12a)],_0x38418)):_0x3318df[_0x57407e(0x192)]['BSTACK_JEST_TEST_ENV']=_0x15bce6[_0x57407e(0x125)];}):_0x400d64=_0x22ddcb['OUkBE']:_0x22ddcb['Sirhe'](_0x22ddcb[_0x38040a(0xab)],_0x22ddcb['oRxPz'])?_0x247bca[_0x38040a(0x1a7)]({}):_0x20dd1c?_0x493be3[_0x38040a(0x1a7)](_0x14ce31[_0x38040a(0xba)](_0x48e321[_0x38040a(0xf8)],_0x22ddcb[_0x38040a(0x12a)],_0x50e4e5)):_0x195345['push'](_0x169824[_0x38040a(0x158)](_0x38e1dc[_0x38040a(0xf8)],_0x22ddcb[_0x38040a(0x12a)],_0x49b755));if(!helper['isUndefined'](_0x39c012[_0x38040a(0xf8)][_0x38040a(0x197)])){if(_0x22ddcb[_0x38040a(0xc4)](_0x22ddcb[_0x38040a(0xff)],_0x22ddcb[_0x38040a(0xb3)]))process[_0x38040a(0x192)][_0x38040a(0xf6)]=JSON[_0x38040a(0x13b)](_0x39c012[_0x38040a(0xf8)]['accessibilityOptions']);else{_0x483196['info'](_0x38040a(0xdf)+_0x2c8bc5[_0x38040a(0xf8)]);const _0x124414=_0x22ddcb['zVoMh'](_0x28bb8b,_0xbc523d['resolve'](_0x430e7a[_0x38040a(0xf8)]));return _0x2c20c0['splice'](_0x401b0e,0x2),_0x22ddcb[_0x38040a(0x170)](_0x124414,{});}}let _0x43af2c=_0x39c012[_0x38040a(0xf8)][_0x38040a(0xe1)];_0x43af2c=_0x43af2c||accessibilityHelper[_0x38040a(0x138)](_0x39c012[_0x38040a(0xf8)]),process[_0x38040a(0x192)]['BROWSERSTACK_TEST_ACCESSIBILITY_YML']=_0x43af2c;if(_0x43af2c){if(_0x22ddcb[_0x38040a(0x9b)](_0x22ddcb[_0x38040a(0xf4)],_0x22ddcb[_0x38040a(0x10b)])){const [_0x57dfb1,_0x4c30ed]=await accessibilityHelper[_0x38040a(0x132)](_0x39c012[_0x38040a(0xf8)],_0x22ddcb['mfXis']);logger[_0x38040a(0x14d)]('BrowserStack\x20Accessibility\x20Automation\x20Test\x20Run\x20ID:\x20'+_0x4c30ed),process['env'][_0x38040a(0x144)]=_0x57dfb1,process[_0x38040a(0x192)][_0x38040a(0x12f)]=_0x4c30ed;}else _0x5a3ef4=_0x22ddcb[_0x38040a(0x128)](_0x57076b,_0x158148['parallelsPerPlatform']);}_0x171c4a[_0x38040a(0x18e)][_0x38040a(0x118)]=_0x247bca,_0x171c4a[_0x38040a(0x18e)]['serial__']=_0x22ddcb['HWEsg'](getSerial,_0x247bca,_0x5df8a8),_0x171c4a[_0x38040a(0x18e)][_0x38040a(0xef)]=_0x22ddcb[_0x38040a(0x143)](getMaxWorkers,_0x5df8a8,_0x39c012[_0x38040a(0xf8)]),_0x171c4a['testEnvironmentOptions'][_0x38040a(0x129)]=_0x39c012[_0x38040a(0xf8)][_0x38040a(0x129)],_0x171c4a['testEnvironmentOptions']['timeout__']=_0x22ddcb[_0x38040a(0xec)](_0x5df8a8[_0x38040a(0x13e)],0x1)||0x1388,_0x171c4a['testEnvironmentOptions'][_0x38040a(0x15e)]=_0x39c012[_0x38040a(0xf8)][_0x38040a(0x141)]['skipSessionName'],_0x171c4a[_0x38040a(0x18e)]['skipSessionStatus']=_0x39c012[_0x38040a(0xf8)][_0x38040a(0x141)][_0x38040a(0x10a)],_0x171c4a[_0x38040a(0x18e)][_0x38040a(0x13a)]=_0x39c012['config']['logLevel'],_0x171c4a[_0x38040a(0x18e)][_0x38040a(0x9f)]=_0x39c012[_0x38040a(0xf8)][_0x38040a(0x9f)],_0x171c4a[_0x38040a(0x18e)][_0x38040a(0x181)]=_0x39c012[_0x38040a(0xf8)]['platforms'];let _0x23fba9;fs[_0x38040a(0x1ab)](packageFile)&&(_0x22ddcb[_0x38040a(0xf1)](_0x22ddcb[_0x38040a(0x16a)],_0x22ddcb[_0x38040a(0x169)])?_0x23fba9=JSON[_0x38040a(0xa0)](fs[_0x38040a(0x16d)](packageFile,_0x22ddcb[_0x38040a(0x109)])):_0x36d60e=_0x2d3668['parse'](_0x1a91cf));let _0x5ccc5c='';_0x23fba9&&_0x22ddcb['SiCzP'](_0x23fba9[_0x38040a(0x137)],_0x22ddcb['PPvFw'])?_0x22ddcb['HEpQD'](_0x22ddcb['iEXSW'],_0x22ddcb[_0x38040a(0xcc)])?_0x5ccc5c=_0x22ddcb[_0x38040a(0xc8)]:(_0x5631ab['setupFilesAfterEnv'][_0x38040a(0x1a7)](_0x5af69a+_0x38040a(0xda)),_0x457709[_0x38040a(0x123)]=_0x200cf3+_0x38040a(0xd7)):_0x22ddcb[_0x38040a(0xd0)](_0x22ddcb[_0x38040a(0x15d)],_0x22ddcb[_0x38040a(0x15d)])?_0x5ccc5c=_0x22ddcb[_0x38040a(0x1a0)]:_0x471647=_0x5cf498['maxWorkers'];const _0x38b788=_0x5ccc5c,_0x16a7b2=path[_0x38040a(0xe0)](__dirname,_0x22ddcb[_0x38040a(0x160)],_0x22ddcb[_0x38040a(0xcb)]),_0x8562cf=__dirname+_0x38040a(0x198),_0x560f47=__dirname+_0x38040a(0x154);_0x171c4a[_0x38040a(0x125)]&&(_0x22ddcb[_0x38040a(0xc7)](_0x22ddcb[_0x38040a(0x101)],_0x22ddcb['YzuFE'])?_0x38d476=_0x4d7813[_0x38040a(0xa0)](_0x437b1e['readFileSync'](_0x4d1b45,_0x22ddcb[_0x38040a(0x109)])):process[_0x38040a(0x192)]['BSTACK_JEST_TEST_ENV']=_0x171c4a[_0x38040a(0x125)]);_0x171c4a[_0x38040a(0x125)]=__dirname+_0x38040a(0x102),_0x171c4a[_0x38040a(0x110)]=_0x8562cf,_0x171c4a[_0x38040a(0x179)]=_0x171c4a[_0x38040a(0x179)]||[],_0x171c4a['setupFilesAfterEnv'][_0x38040a(0x1a7)](__dirname+'/jest.setup.js');if(testOpsHelper[_0x38040a(0x135)]()){if(_0x22ddcb[_0x38040a(0x17d)](_0x22ddcb[_0x38040a(0x124)],_0x22ddcb[_0x38040a(0xf0)])){let _0x73d0a=null;try{if(_0x22ddcb[_0x38040a(0x17e)](_0x22ddcb[_0x38040a(0x12c)],_0x22ddcb['nvCHt']))_0x73d0a=helper['requireModule'](_0x22ddcb[_0x38040a(0xbe)]);else return _0x4201c9[_0x38040a(0x14d)](_0x22ddcb[_0x38040a(0x15c)]),_0x5a66d0['jest'];}catch(_0x207560){_0x22ddcb['WzhcF'](_0x22ddcb[_0x38040a(0xa4)],_0x22ddcb['kZKwd'])?_0x22ddcb['nCkDY'](debug,_0x38040a(0x112)+_0x207560):_0x2a8dfa[_0x38040a(0x1a7)]({});}_0x73d0a&&(_0x22ddcb[_0x38040a(0xb1)](_0x22ddcb[_0x38040a(0x10c)],_0x22ddcb[_0x38040a(0x10c)])?(_0x171c4a[_0x38040a(0x179)]['push'](__dirname+_0x38040a(0xda)),_0x171c4a[_0x38040a(0x123)]=__dirname+_0x38040a(0xd7)):_0x5850d7['env']['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x140495['config'][_0x38040a(0x196)]);}else _0x1c2015['config'][_0x38040a(0xd9)]['forEach']((_0x317e69,_0xa9d0b8)=>{const _0x145478=_0x38040a;_0x16d708?_0xcff73c[_0x145478(0x1a7)](_0x48b0fe[_0x145478(0xba)](_0x2c3e36[_0x145478(0xf8)],_0x22ddcb['mfXis'],_0xa9d0b8)):_0x23e09e['push'](_0xff529f[_0x145478(0x158)](_0x127226[_0x145478(0xf8)],_0x22ddcb[_0x145478(0x12a)],_0xa9d0b8));});}_0x171c4a[_0x38040a(0x19b)]=_0x171c4a[_0x38040a(0x19b)]||[];try{_0x22ddcb['weGeg'](_0x22ddcb[_0x38040a(0xdb)],_0x22ddcb['YVaBx'])?_0x26acdb[_0x38040a(0xf3)](_0x22ddcb[_0x38040a(0xd6)]):(helper[_0x38040a(0x9e)](),_0x171c4a[_0x38040a(0x19b)]['push'](__dirname+_0x38040a(0xad)));}catch{_0x22ddcb['weGeg'](_0x22ddcb[_0x38040a(0x194)],_0x22ddcb[_0x38040a(0x106)])?logger['debug'](_0x22ddcb['WxuKg']):_0x3b6a2c=_0x22ddcb[_0x38040a(0x1a0)];}_0x171c4a[_0x38040a(0x18f)]=_0x171c4a['reporters']||[_0x22ddcb[_0x38040a(0x111)]],_0x22ddcb['zXcvd'](updateTestRerunConfig,_0x171c4a,_0x39c012);const _0x313858=fs[_0x38040a(0x16d)](_0x560f47);fs[_0x38040a(0x176)](_0x171c4a[_0x38040a(0x110)],_0x38040a(0x133)+_0x313858+_0x38040a(0xe6)+_0x39c012[_0x38040a(0xf8)][_0x38040a(0xd9)][_0x38040a(0xc6)]+_0x38040a(0xc3)),logger[_0x38040a(0x14d)](_0x38040a(0xb9)+_0x38b788+_0x38040a(0x136)),fs['writeFileSync'](_0x38b788,_0x38040a(0x107)+JSON['stringify'](_0x171c4a)+_0x38040a(0xb4)),logger[_0x38040a(0x14d)](_0x22ddcb[_0x38040a(0xe5)]);const _0x5aa548={};_0x5aa548[_0x38040a(0x12b)]='',await SessionHandler[_0x38040a(0x162)](Object[_0x38040a(0x11e)]({},_0x39c012['config'],_0x5aa548),{'frameworkName':_0x22ddcb[_0x38040a(0x12a)],'frameworkVersion':_0x22ddcb[_0x38040a(0x19a)](getFrameworkVersion,_0x22ddcb[_0x38040a(0x12a)])});testOpsHelper[_0x38040a(0x135)]()&&(_0x22ddcb[_0x38040a(0x190)](_0x22ddcb['wMcBH'],_0x22ddcb[_0x38040a(0xfe)])?_0x7afb6[_0x38040a(0x192)][_0x38040a(0xf6)]=_0x45d974['stringify'](_0xc8b603[_0x38040a(0xf8)][_0x38040a(0x197)]):TestDetails[_0x38040a(0x127)]());helper[_0x38040a(0x182)]({},_0x13afef),helper[_0x38040a(0x184)]();const _0x11d65b=_0x22ddcb[_0x38040a(0x173)](spawn,/^win/[_0x38040a(0xb5)](process[_0x38040a(0x117)])?_0x22ddcb[_0x38040a(0xbd)]:_0x22ddcb[_0x38040a(0x12a)],[_0x22ddcb[_0x38040a(0x191)],_0x38b788,..._0x13afef[_0x38040a(0x11d)](0x1)],{'stdio':_0x22ddcb[_0x38040a(0x16e)],'env':Object[_0x38040a(0x11e)]({},process[_0x38040a(0x192)])});_0x11d65b['on'](_0x22ddcb['wFYvM'],async _0x13f500=>{const _0x42a458=_0x38040a;process[_0x42a458(0x16b)]=_0x13f500,logger[_0x42a458(0xf3)]('child\x20process\x20exited\x20with\x20code\x20'+_0x13f500),logger[_0x42a458(0x14d)](_0x42a458(0x14f)+_0x38b788);let _0x2f6708=null;if(fs[_0x42a458(0x1ab)](_0x16a7b2)){if(_0x22ddcb[_0x42a458(0x172)](_0x22ddcb[_0x42a458(0x16f)],_0x22ddcb[_0x42a458(0xb2)])){_0x2f6708=fs[_0x42a458(0x16d)](_0x16a7b2);try{if(_0x22ddcb[_0x42a458(0x1a5)](_0x22ddcb[_0x42a458(0x121)],_0x22ddcb['wqcdT']))_0x2f6708=JSON[_0x42a458(0xa0)](_0x2f6708);else return;}catch(_0x4bfcfd){_0x22ddcb[_0x42a458(0x172)](_0x22ddcb[_0x42a458(0x104)],_0x22ddcb['gfJzP'])?_0x342b6c[_0x42a458(0x1a7)](_0x11974d[_0x42a458(0xba)](_0x4c5ed8[_0x42a458(0xf8)],_0x22ddcb[_0x42a458(0x12a)],_0x3bab39)):logger[_0x42a458(0xf3)]('Error\x20while\x20parsing\x20'+_0x16a7b2+',\x20'+_0x2f6708+_0x42a458(0x165)+_0x4bfcfd);}fs[_0x42a458(0xaf)](_0x16a7b2);}else{_0x3f35eb=_0x53e710[_0x42a458(0x16d)](_0x1002af);try{_0xab4b13=_0x2382db['parse'](_0x249a31);}catch(_0x17a2a6){_0x2e2bc4[_0x42a458(0xf3)](_0x42a458(0xa8)+_0x50250b+',\x20'+_0x2985f0+_0x42a458(0x165)+_0x17a2a6);}_0x2cac6d[_0x42a458(0xaf)](_0x1bda1c);}}if(accessibilityHelper[_0x42a458(0x122)]()){if(_0x22ddcb[_0x42a458(0xc4)](_0x22ddcb['Uhvoq'],_0x22ddcb['Uhvoq'])){let _0x4e22f7=0x1;if(!_0x4952bc[_0x42a458(0x146)](_0x2cb79b['parallelsPerPlatform']))_0x4e22f7=_0x22ddcb[_0x42a458(0x128)](_0x27ac8,_0x21b1ec[_0x42a458(0xc0)]);else!_0x769f62[_0x42a458(0x146)](_0x29fecd[_0x42a458(0x161)])&&(_0x4e22f7=_0x17932e[_0x42a458(0x161)]);return _0x4e22f7;}else accessibilityHelper[_0x42a458(0x131)](_0x39c012[_0x42a458(0xf8)]);}fs[_0x42a458(0xaf)](_0x38b788),fs[_0x42a458(0xaf)](_0x8562cf),_0x2f6708&&(_0x39c012[_0x42a458(0x1a3)]=helper['getErrorMessageFromResults'](_0x2f6708,_0x22ddcb[_0x42a458(0x12a)],_0x39c012));if(testOpsHelper[_0x42a458(0x135)]())try{_0x22ddcb[_0x42a458(0x1a5)](_0x22ddcb[_0x42a458(0xc9)],_0x22ddcb[_0x42a458(0xc9)])?await SessionHandler[_0x42a458(0xe2)]():_0xa356d['debug'](_0x42a458(0xa8)+_0x5ae2f5+',\x20'+_0x508707+_0x42a458(0x165)+_0x41d46a);}catch(_0x37a58f){console['log'](_0x37a58f),_0x22ddcb[_0x42a458(0x19a)](debug,_0x42a458(0x149)+_0x37a58f);}testOpsHelper[_0x42a458(0xd1)](),TestDetails['shutdown'](),await helper[_0x42a458(0xf5)](_0x39c012);});}function a8_0x19cf(){const _0x4646ef=['capabilities','Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','log','XwTpl','zNivT','slice','assign','Eedjt','vBLGD','wqcdT','isAccessibilityAutomationSession','testRunner','KkznZ','testEnvironment','2046uzqIzU','setup','nCkDY','proxySettings','mfXis','root_dir_path','shEsz','3970DrzneM','xeiLB','BS_A11Y_TEST_RUN_ID','xdBFU','stopAccessibilityTestRun','createAccessibilityTestRun','\x0a\x20\x20\x20\x20','hBZwr','isTestObservabilitySession','\x20with\x20browserstack\x20jest\x20configs','type','checkAccessibilityPlatformConfig','handleApp','browserStackLogLevel','stringify','../utils/constants','dTKIe','testTimeout','default','inherit','testContextOptions','requireModule','HWEsg','BS_A11Y_JWT','5366187GGsRFj','isUndefined','iMLjg','ZzqSg','Exception\x20in\x20stop\x20build\x20request\x20to\x20Observability\x20:\x20','vaIjN','QXWIZ','jjMfk','info','XTRIA','Deleting\x20','XsAag','../../helpers/BrowserStackSetup','package.json','oRxHJ','/customImplements/customTestRunnerTemplate.js','eKSaT','JZUmZ','kTreG','modifyBrowserStackCaps','bTQWe','gwzYL','useW3C','Mpekm','iuaaI','skipSessionName','DiKNs','yQbxR','maxWorkers','launch','/package.json','IBTJN','\x20:\x20','--config','8780000OyMEZy','WZdZa','WebXW','wSqYR','exitCode','YLjUj','readFileSync','BUOoT','FUnnP','WzCJN','browserStackPercyOptions','qYjvm','Azqmr','NyLqI','module','writeFileSync','UEFvD','JxhDt','setupFilesAfterEnv','sApRq','FzRAp','ptznz','WzhcF','UjnXj','jest','pcmYk','platformCaps','filterBrowserstackConfig','CoCut','markSDKSetupComplete','close','false','lGsMO','CfzOT','264731EfSXNR','ZtITi','FbPrT','ywzer','djgLL','testEnvironmentOptions','reporters','flZWi','nIzDR','env','XySpU','RsUws','../../helpers/test-observability/sessionHandler','testObservability','accessibilityOptions','/customImplements/customTestRunner.js','BROWSERSTACK_TEST_OBSERVABILITY_YML','yRLUk','setupFiles','runInBand','PKSUG','getHubUrl','./test-observability/helper','PFBIQ','mjs','qVeKo','errorMessage','initialize','HEpQD','pqkSA','push','utf8','LmcvS','JlWVG','existsSync','hoRGQ','skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','cjIhr','requireSeleniumWebdriver','turboScaleUrl','parse','true','ndiwr','jest_browserstack.config.cjs','paryF','vhUdH','TEyny','PLiQU','Error\x20while\x20parsing\x20','Dvqwg','wsyZX','oRxPz','Kpkhm','/test_before.setup.js','OUkBE','unlinkSync','pJrdN','pnwip','HZjyN','fkYSK','\x0amodule.exports\x20=\x20config;','test','664zODsqU','Getting\x20your\x20jest\x20configs\x20from\x20package.json','lbaSg','Creating\x20','modifyBrowserStackW3CCaps','RfGzB','PtwXH','RTOwV','TtNVK','Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','parallelsPerPlatform','bYybZ','RuYAO',';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20','hhOUc','ogbOG','length','EKOzO','tuVfS','VFeWC','CKqNQ','kXFaw','iEXSW','UJMXn','path','Zwqwu','KLScT','printBuildLink','jaZze','../../helpers/logger','oMOeq','jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','WxuKg','/customImplements/customCircus.js','2RBDaHv','platforms','/test-observability/data-hooks.js','YVaBx','SbviU','tVjKA','Rlhza','Getting\x20your\x20jest\x20configs\x20from\x20','join','accessibility','stop','VvJAu','AzceJ','ywsDu','\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20','XCJlP','jest.config.','25025sCWBJw','YHDHv','rdcqy','JVvwM','../../helpers/test-observability/utils','wDHgS','parallels__','ZVuXP','YDkRa','jest_browserstack.config.js','debug','phGaW','finalExecution','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','exports','config','../../helpers/percy/utils','DiWDm','NXZTI','tuixR','459186fEaLtH','wMcBH','IlSus','1661516ZynrBp','jOMrF','/customImplements/customEnvironment.js','ZQNjR','gfJzP','CdTiT','IliQR','const\x20config=','wFJQu','mYyae','skipSessionStatus','Qhlis','iamlW','jest_browserstack_results.json','cwd','uHCXT','runner','TbdUD','Unable\x20to\x20find\x20jest-circus,\x20','forEach','mdttl','sgzkq','aAjES','platform'];a8_0x19cf=function(){return _0x4646ef;};return a8_0x19cf();}module[a8_0x5eb878(0xf7)]=run;