#!/usr/bin/env node
'use strict';const a45_0x1ca251=a45_0x4e87;(function(_0x20c2b4,_0x4f956e){const _0x1566fc=a45_0x4e87,_0x4eb271=_0x20c2b4();while(!![]){try{const _0x189a17=parseInt(_0x1566fc(0x184))/0x1+-parseInt(_0x1566fc(0x16b))/0x2*(parseInt(_0x1566fc(0x195))/0x3)+-parseInt(_0x1566fc(0x192))/0x4+parseInt(_0x1566fc(0x162))/0x5*(parseInt(_0x1566fc(0x19b))/0x6)+parseInt(_0x1566fc(0x1a7))/0x7*(parseInt(_0x1566fc(0x166))/0x8)+parseInt(_0x1566fc(0x1a4))/0x9+-parseInt(_0x1566fc(0x18e))/0xa;if(_0x189a17===_0x4f956e)break;else _0x4eb271['push'](_0x4eb271['shift']());}catch(_0x4e6d3e){_0x4eb271['push'](_0x4eb271['shift']());}}}(a45_0x566e,0x9b50a));function a45_0x4e87(_0x2e5a71,_0xfa652e){const _0x566e6e=a45_0x566e();return a45_0x4e87=function(_0x4e87a6,_0x375f44){_0x4e87a6=_0x4e87a6-0x15f;let _0x2339e0=_0x566e6e[_0x4e87a6];return _0x2339e0;},a45_0x4e87(_0x2e5a71,_0xfa652e);}const fs=require('fs'),path=require(a45_0x1ca251(0x1a2)),logger=require(a45_0x1ca251(0x188))[a45_0x1ca251(0x18f)],{default:BrowserStackSetup}=require('../../helpers/BrowserStackSetup'),helper=require(a45_0x1ca251(0x17a)),constants=require('../utils/constants'),{parallelVanillaRun}=require(a45_0x1ca251(0x1a5));function a45_0x566e(){const _0x15bbb3=['6075060EPmxXp','winstonLogger','finalExecution','getPlatformName','2032636IDAEUz','YLOUF','phpmg','3748089TcKNnN','cucDJ','vanilla','configuration','Jviig','parallelsPerPlatform','1272epNlEc','CIBtn','config','args','JecHu','yclVq','luPwO','path','BUOvu','2491389KoirME','../test-runner','lndjT','2352qhXkzj','AIkZt','useW3C','FalsA','AHZno','DQgnR','proxySettings','isUndefined','hPYSR','HsXKl','27495HNlejL','qdjMp','LNBOF','gjeeB','11984tcnEQv','HzjaC','vtPXK','forEach','OKPiB','2KqDKgd','initialize','cwd','SgnYr','SIhcR','modifyBrowserStackW3CCaps','oRNCP','dnZKW','PUUoL','zoKAg','file','File\x20','handleApp','qmndX','vVBCD','../../helpers/helper','mSOZp','push','ytIzT','getHubUrl','platforms','pLZHS','length','bOFKd','AGNMI','1055261NkKumj','qaLJV','finally','lXGVX','../../helpers/logger','modifyBrowserStackCaps','BwMXo','GwvEA','qqthq','\x20doesn\x27t\x20exist'];a45_0x566e=function(){return _0x15bbb3;};return a45_0x566e();}async function run(_0x5b3045,_0x140ae3){const _0x36fde3=a45_0x1ca251,_0x10df10={'luPwO':_0x36fde3(0x197),'LNBOF':function(_0x3db12a,_0x1bd8ac){return _0x3db12a(_0x1bd8ac);},'qaLJV':function(_0x229b6c,_0x286f85){return _0x229b6c!==_0x286f85;},'YLOUF':'NXIUv','qdjMp':function(_0x5f54d4,_0x260c14){return _0x5f54d4===_0x260c14;},'PUUoL':_0x36fde3(0x16a),'hPYSR':_0x36fde3(0x17b),'gjeeB':_0x36fde3(0x168),'vVBCD':function(_0x2c7aea,_0x14d64e){return _0x2c7aea===_0x14d64e;},'GiElr':'ykNao','FalsA':_0x36fde3(0x1ab),'HsXKl':'Config\x20yml\x20is\x20required','nwFvo':'File\x20path\x20is\x20required','lMEGv':function(_0x5ad0e4,_0x52d7ba){return _0x5ad0e4===_0x52d7ba;},'Jviig':_0x36fde3(0x194),'oRNCP':function(_0x1b114c,_0x4c8544){return _0x1b114c(_0x4c8544);},'qqthq':'aQeMS','AIkZt':function(_0x82f601,_0x3b09d1){return _0x82f601!==_0x3b09d1;},'QjEsn':_0x36fde3(0x187),'EqcUu':'imtwZ','lndjT':function(_0x1b9f71,_0x466012){return _0x1b9f71(_0x466012);},'zoKAg':function(_0x5daf92,_0x5a06eb){return _0x5daf92>_0x5a06eb;},'MzgKg':_0x36fde3(0x16e),'pLZHS':function(_0x1b1da1,_0x40b9e9){return _0x1b1da1>_0x40b9e9;},'BXtuT':_0x36fde3(0x19c),'HzjaC':_0x36fde3(0x178),'bXyNe':function(_0xa32375,_0x225810){return _0xa32375===_0x225810;},'yclVq':_0x36fde3(0x1ac),'MUgpM':_0x36fde3(0x18b),'Jyvgd':_0x36fde3(0x17d),'cucDJ':_0x36fde3(0x183),'bOFKd':_0x36fde3(0x19f),'pUGFV':_0x36fde3(0x172),'BUOvu':function(_0x295ac5,_0x476613){return _0x295ac5*_0x476613;},'BwMXo':function(_0x619af0,_0x4261b3,_0x1a264e){return _0x619af0(_0x4261b3,_0x1a264e);}},_0x181fbd=new BrowserStackSetup(_0x5b3045,_0x10df10[_0x36fde3(0x1a1)]);await _0x181fbd[_0x36fde3(0x16c)](),await helper[_0x36fde3(0x177)](_0x181fbd[_0x36fde3(0x19d)]);const _0x16cb7f=[];if(helper[_0x36fde3(0x15f)](_0x5b3045['_'][0x1])){if(_0x10df10['lMEGv'](_0x10df10[_0x36fde3(0x199)],_0x10df10['Jviig']))throw _0x10df10[_0x36fde3(0x171)](Error,_0x10df10['nwFvo']);else _0x5c37ab[_0x36fde3(0x19d)]['platforms'][_0x36fde3(0x169)]((_0x5f4efb,_0x302d7c)=>{const _0x5e776e=_0x36fde3;_0x2f6376?_0x38681d[_0x5e776e(0x17c)](_0x753485[_0x5e776e(0x170)](_0x4a4edd['config'],_0x10df10[_0x5e776e(0x1a1)],_0x302d7c)):_0x1880e8[_0x5e776e(0x17c)](_0x39f875[_0x5e776e(0x189)](_0xb9858[_0x5e776e(0x19d)],_0x10df10[_0x5e776e(0x1a1)],_0x302d7c));});}const _0x48b270=path['join'](process[_0x36fde3(0x16d)](),_0x5b3045['_'][0x1]);if(!fs['existsSync'](_0x48b270)){if(_0x10df10[_0x36fde3(0x185)](_0x10df10[_0x36fde3(0x18c)],_0x10df10[_0x36fde3(0x18c)]))_0x414e9[_0x36fde3(0x17c)](_0x3f354f['modifyBrowserStackCaps'](_0x2c6a6c['config'],_0x10df10['luPwO'],_0x15afe8));else throw _0x10df10['oRNCP'](Error,_0x36fde3(0x176)+_0x5b3045['_'][0x1]+_0x36fde3(0x18d));}if(!_0x181fbd['config']){if(_0x10df10[_0x36fde3(0x1a8)](_0x10df10['QjEsn'],_0x10df10['EqcUu']))throw _0x10df10[_0x36fde3(0x1a6)](Error,_0x10df10['HsXKl']);else throw _0x10df10[_0x36fde3(0x164)](_0x495bbf,_0x36fde3(0x176)+_0x52f264['_'][0x1]+'\x20doesn\x27t\x20exist');}const _0x227be3=helper[_0x36fde3(0x1a9)](_0x181fbd[_0x36fde3(0x19d)]);_0x181fbd[_0x36fde3(0x19d)]['platforms']&&_0x10df10[_0x36fde3(0x174)](_0x181fbd[_0x36fde3(0x19d)][_0x36fde3(0x17f)]['length'],0x0)&&(_0x10df10[_0x36fde3(0x1a8)](_0x10df10['MzgKg'],_0x10df10['MzgKg'])?_0x5b1e7c=_0x2c71c7[_0x36fde3(0x170)](_0x504be1[_0x36fde3(0x19d)],_0x10df10[_0x36fde3(0x1a1)],0x0):_0x181fbd[_0x36fde3(0x19d)][_0x36fde3(0x17f)][_0x36fde3(0x169)]((_0x21ddea,_0x20f8ad)=>{const _0x57455b=_0x36fde3,_0x4eb0c6={};_0x4eb0c6[_0x57455b(0x16f)]=_0x10df10[_0x57455b(0x1a1)];const _0x2d0246=_0x4eb0c6;if(_0x10df10[_0x57455b(0x185)](_0x10df10[_0x57455b(0x193)],_0x10df10[_0x57455b(0x193)])){_0x1a852d={'server':_0x49199e['getHubUrl'](_0x4ca671[_0x57455b(0x19d)]),'proxySettings':_0x240dc0[_0x57455b(0x19d)]['proxySettings'],'platform':_0x1e7470[_0x57455b(0x191)](_0x43f2a2),'platformCaps':_0x3d935d[_0x57455b(0x19d)][_0x57455b(0x17f)][_0x69c887]};const _0x1aa5cf={'capability':_0x39bc45,..._0x6610e2};_0x1aa5cf[_0x57455b(0x175)]=_0x3b199c,_0x1aa5cf[_0x57455b(0x19e)]=_0x3c2962;const _0x56ed8f={};_0x56ed8f[_0x57455b(0x198)]=_0x1aa5cf,_0x4f68f6=_0x56ed8f,_0x3aeced[_0x57455b(0x17c)](_0x541c5f);}else _0x227be3?_0x10df10['qdjMp'](_0x10df10[_0x57455b(0x173)],_0x10df10['PUUoL'])?_0x16cb7f[_0x57455b(0x17c)](helper[_0x57455b(0x170)](_0x181fbd[_0x57455b(0x19d)],_0x10df10[_0x57455b(0x1a1)],_0x20f8ad)):_0x55b909[_0x57455b(0x17c)](_0x1da683['modifyBrowserStackW3CCaps'](_0x1f761e[_0x57455b(0x19d)],_0x2d0246['SIhcR'],_0x3ff14a)):_0x10df10[_0x57455b(0x163)](_0x10df10[_0x57455b(0x160)],_0x10df10[_0x57455b(0x165)])?_0x45db3a=_0x3f6822[_0x57455b(0x189)](_0x257c84[_0x57455b(0x19d)],_0x10df10[_0x57455b(0x1a1)],0x0):_0x16cb7f['push'](helper[_0x57455b(0x189)](_0x181fbd[_0x57455b(0x19d)],_0x10df10[_0x57455b(0x1a1)],_0x20f8ad));}));let _0x3fbe0c,_0xd9a473;const _0x1ed095=[];if(_0x10df10[_0x36fde3(0x180)](_0x16cb7f[_0x36fde3(0x181)],0x0)){if(_0x10df10[_0x36fde3(0x185)](_0x10df10['BXtuT'],_0x10df10[_0x36fde3(0x167)]))_0x16cb7f['forEach']((_0x3922cb,_0xc3e01d)=>{const _0x2810c5=_0x36fde3;if(_0x10df10[_0x2810c5(0x179)](_0x10df10['GiElr'],_0x10df10[_0x2810c5(0x1aa)]))_0x136b8b?_0x4d8e9a[_0x2810c5(0x17c)](_0x2638cd['modifyBrowserStackW3CCaps'](_0x25c637[_0x2810c5(0x19d)],_0x10df10[_0x2810c5(0x1a1)],_0x33ae76)):_0x452552[_0x2810c5(0x17c)](_0x1de3e6[_0x2810c5(0x189)](_0x1048b7[_0x2810c5(0x19d)],_0x10df10[_0x2810c5(0x1a1)],_0x5149b8));else{_0x3fbe0c={'server':helper[_0x2810c5(0x17e)](_0x181fbd[_0x2810c5(0x19d)]),'proxySettings':_0x181fbd[_0x2810c5(0x19d)]['proxySettings'],'platform':helper[_0x2810c5(0x191)](_0x3922cb),'platformCaps':_0x181fbd['config']['platforms'][_0xc3e01d]};const _0x48531c={'capability':_0x3922cb,..._0x3fbe0c};_0x48531c[_0x2810c5(0x175)]=_0x48b270,_0x48531c[_0x2810c5(0x19e)]=_0x140ae3;const _0x36e28f={};_0x36e28f[_0x2810c5(0x198)]=_0x48531c,_0xd9a473=_0x36e28f,_0x1ed095['push'](_0xd9a473);}});else throw _0x10df10[_0x36fde3(0x164)](_0x2fcffd,_0x10df10[_0x36fde3(0x161)]);}else{if(_0x10df10['bXyNe'](_0x10df10[_0x36fde3(0x1a0)],_0x10df10['MUgpM']))throw _0x10df10[_0x36fde3(0x164)](_0x2092a0,_0x10df10['nwFvo']);else{let _0x29c74f;if(_0x227be3){if(_0x10df10[_0x36fde3(0x1a8)](_0x10df10['Jyvgd'],_0x10df10[_0x36fde3(0x196)]))_0x29c74f=helper[_0x36fde3(0x170)](_0x181fbd['config'],_0x10df10['luPwO'],0x0);else{let _0x583094;_0x5b4dce?_0x583094=_0x478dc5[_0x36fde3(0x170)](_0x4fcf2a[_0x36fde3(0x19d)],_0x10df10[_0x36fde3(0x1a1)],0x0):_0x583094=_0x45b522[_0x36fde3(0x189)](_0x3ee562[_0x36fde3(0x19d)],_0x10df10['luPwO'],0x0);_0x3ef0f5={'server':_0x39ed2b['getHubUrl'](_0x29deb9[_0x36fde3(0x19d)]),'proxySettings':_0x55e726[_0x36fde3(0x19d)][_0x36fde3(0x1ad)]};const _0x407d7f={'capability':_0x583094,..._0x52e8b5};_0x407d7f[_0x36fde3(0x175)]=_0x5c5ac6,_0x407d7f[_0x36fde3(0x19e)]=_0x2575b4;const _0x3ce7de={};_0x3ce7de['configuration']=_0x407d7f,_0x22c3e0=_0x3ce7de,_0x5bdde7['push'](_0x36baeb);}}else _0x10df10[_0x36fde3(0x163)](_0x10df10[_0x36fde3(0x182)],_0x10df10['pUGFV'])?_0x185316[_0x36fde3(0x169)]((_0x2359cf,_0x48524a)=>{const _0x696fae=_0x36fde3;_0x250943={'server':_0x1e38f7['getHubUrl'](_0x336b7f[_0x696fae(0x19d)]),'proxySettings':_0x44a01a[_0x696fae(0x19d)]['proxySettings'],'platform':_0x4ca5c4[_0x696fae(0x191)](_0x2359cf),'platformCaps':_0x5ec192[_0x696fae(0x19d)]['platforms'][_0x48524a]};const _0x3820ea={'capability':_0x2359cf,..._0x295ac6};_0x3820ea[_0x696fae(0x175)]=_0x427a6e,_0x3820ea[_0x696fae(0x19e)]=_0x3edcf8;const _0x4e3edd={};_0x4e3edd[_0x696fae(0x198)]=_0x3820ea,_0x34bdd7=_0x4e3edd,_0x492e90[_0x696fae(0x17c)](_0x2ef173);}):_0x29c74f=helper[_0x36fde3(0x189)](_0x181fbd[_0x36fde3(0x19d)],_0x10df10[_0x36fde3(0x1a1)],0x0);_0x3fbe0c={'server':helper[_0x36fde3(0x17e)](_0x181fbd[_0x36fde3(0x19d)]),'proxySettings':_0x181fbd[_0x36fde3(0x19d)][_0x36fde3(0x1ad)]};const _0x3971d1={'capability':_0x29c74f,..._0x3fbe0c};_0x3971d1[_0x36fde3(0x175)]=_0x48b270,_0x3971d1[_0x36fde3(0x19e)]=_0x140ae3;const _0x192236={};_0x192236[_0x36fde3(0x198)]=_0x3971d1,_0xd9a473=_0x192236,_0x1ed095[_0x36fde3(0x17c)](_0xd9a473);}}const _0x401ca3=_0x10df10[_0x36fde3(0x1a3)](_0x181fbd[_0x36fde3(0x19d)][_0x36fde3(0x17f)]['length']||0x1,_0x181fbd[_0x36fde3(0x19d)][_0x36fde3(0x19a)]);helper['markSDKSetupComplete'](),_0x10df10[_0x36fde3(0x18a)](parallelVanillaRun,_0x1ed095,_0x401ca3)['then'](_0x3b70d1=>{})[_0x36fde3(0x186)](async()=>{const _0x184ce2=_0x36fde3;await helper[_0x184ce2(0x190)](_0x181fbd);});}module['exports']=run;