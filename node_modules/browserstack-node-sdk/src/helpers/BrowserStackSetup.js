const a47_0x2a2ce4=a47_0x4ef2;(function(_0x200e4b,_0x569cfd){const _0x1afe78=a47_0x4ef2,_0x1b1f54=_0x200e4b();while(!![]){try{const _0x203e96=-parseInt(_0x1afe78(0x1b7))/0x1+parseInt(_0x1afe78(0x182))/0x2+-parseInt(_0x1afe78(0x180))/0x3*(parseInt(_0x1afe78(0x1fb))/0x4)+parseInt(_0x1afe78(0x1a4))/0x5*(parseInt(_0x1afe78(0x15a))/0x6)+parseInt(_0x1afe78(0x139))/0x7+-parseInt(_0x1afe78(0x16b))/0x8+parseInt(_0x1afe78(0x165))/0x9;if(_0x203e96===_0x569cfd)break;else _0x1b1f54['push'](_0x1b1f54['shift']());}catch(_0x2260f5){_0x1b1f54['push'](_0x1b1f54['shift']());}}}(a47_0x2ae6,0xe9555));function a47_0x4ef2(_0x458e12,_0x23e14d){const _0x2ae6a6=a47_0x2ae6();return a47_0x4ef2=function(_0x4ef259,_0x4cb36d){_0x4ef259=_0x4ef259-0x124;let _0x23f63e=_0x2ae6a6[_0x4ef259];return _0x23f63e;},a47_0x4ef2(_0x458e12,_0x23e14d);}const util=require(a47_0x2a2ce4(0x1dd)),dotenv=require(a47_0x2a2ce4(0x13f)),constants=require('../bin/utils/constants'),{isTurboScaleSession}=require(a47_0x2a2ce4(0x1e8)),logger=require('./logger')['winstonLogger'],helper=require(a47_0x2a2ce4(0x20f)),percyHelper=require(a47_0x2a2ce4(0x13c)),hubAllocator=require('../hubAllocationMethods'),PerformanceTester=require(a47_0x2a2ce4(0x163));class BrowserStackSetup{constructor(_0x2353ad,_0x4be223){const _0xe98fae=a47_0x2a2ce4,_0x379e2b={'xSznL':_0xe98fae(0x210),'NqeJV':'Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','EcEaj':function(_0x38a39b,_0x54d786){return _0x38a39b+_0x54d786;},'kCNcW':'Loading\x20environment\x20from:\x20','TDAnk':_0xe98fae(0x132),'Adpwa':function(_0x35d5ea,_0x3e48b4){return _0x35d5ea<_0x3e48b4;},'kNcVq':function(_0x2f2323,_0x3e1043){return _0x2f2323(_0x3e1043);},'XtEpc':'selenium-webdriver','BScrx':function(_0x162602,_0x5c4138){return _0x162602===_0x5c4138;},'HCbDh':_0xe98fae(0x183),'pigEZ':_0xe98fae(0x133),'ysmDM':_0xe98fae(0x1ce),'gLHBC':_0xe98fae(0x199),'TVDen':_0xe98fae(0x13d),'Ekchn':_0xe98fae(0x134),'qUNJh':'unhandledRejection','wdrkO':_0xe98fae(0x152),'IPQer':function(_0x467e16,_0x11d59e){return _0x467e16===_0x11d59e;},'Nreux':'./setKeepAlive','aYpJY':function(_0x11fcc9,_0x55ab2c){return _0x11fcc9+_0x55ab2c;},'SEBxp':_0xe98fae(0x1d0),'PGYJP':function(_0x52c46,_0x187c25){return _0x52c46===_0x187c25;},'LHfOW':_0xe98fae(0x1ea),'VVqQK':_0xe98fae(0x185),'btrmj':function(_0x260cd8,_0x46339c){return _0x260cd8!==_0x46339c;},'dbVDu':'EYbmi','tOWut':'EiaOB','CxnlB':function(_0x2ed96d,_0x237d43){return _0x2ed96d!==_0x237d43;},'GmlcZ':'HQXbL','dLvzJ':_0xe98fae(0x1fd),'lfpWJ':'sDQTJ','fcmIb':'utCTa','dfeMc':'rnwYo','nthEu':'LiWWB','uULAT':function(_0xa986cd,_0x42ba53){return _0xa986cd<_0x42ba53;},'CHGxg':function(_0x411c62,_0x3251ec){return _0x411c62!==_0x3251ec;},'vwzLc':'SyKuy','Tcudj':_0xe98fae(0x1cb),'GbjXI':_0xe98fae(0x1cc),'trhiG':_0xe98fae(0x124),'KrBWc':'MyEbg','EICin':_0xe98fae(0x1e5),'jymri':function(_0x3e37fc,_0x279e53){return _0x3e37fc===_0x279e53;},'nPvWH':_0xe98fae(0x178),'xtYyl':_0xe98fae(0x143),'XUhmj':function(_0x3d2155,_0x101c83){return _0x3d2155!==_0x101c83;},'DKpqr':_0xe98fae(0x186),'gwjMp':function(_0x257bd5,_0xd27fbf){return _0x257bd5+_0xd27fbf;},'eSjWx':_0xe98fae(0x135),'IwLkP':function(_0x3ac4b1,_0x1a2265){return _0x3ac4b1!==_0x1a2265;},'pTlZV':_0xe98fae(0x1af),'mTwuh':_0xe98fae(0x213),'yRtpl':function(_0x5b4605,_0x14bc0c){return _0x5b4605!==_0x14bc0c;},'PaWqA':'VnGdT','hyVXp':_0xe98fae(0x18d),'MIlGD':function(_0x19b5f3,_0x2cf971){return _0x19b5f3===_0x2cf971;},'SIMvj':function(_0x50e764,_0x16c4b7){return _0x50e764!==_0x16c4b7;},'yrpXn':_0xe98fae(0x12d),'Icjyp':function(_0x26afe8,_0x7389ce){return _0x26afe8!==_0x7389ce;},'FAdYN':'GsPlW','xEMcC':_0xe98fae(0x1ff),'Nmdym':function(_0x2f77c0,_0x4f9cca){return _0x2f77c0===_0x4f9cca;},'pAlXe':_0xe98fae(0x14b),'nmGIP':_0xe98fae(0x1b0),'bQOqo':function(_0x11b26c,_0x5da098){return _0x11b26c===_0x5da098;},'HroGY':'EZmaP','DWpHo':'CPtLI'};this[_0xe98fae(0x173)]=[],this[_0xe98fae(0x159)]=helper[_0xe98fae(0x16e)](_0x2353ad),this[_0xe98fae(0x160)]=helper[_0xe98fae(0x1e4)](),this[_0xe98fae(0x19f)]=null,this[_0xe98fae(0x1ae)]=null,this[_0xe98fae(0x208)]=helper['readConfig'](helper['getConfigPath'](_0x2353ad)),this[_0xe98fae(0x208)][_0xe98fae(0x205)]=this['config']['platforms']||[],this[_0xe98fae(0x208)][_0xe98fae(0x1b8)]=this[_0xe98fae(0x208)]['testContextOptions']||{},this['config'][_0xe98fae(0x1b8)][_0xe98fae(0x1c6)]=helper[_0xe98fae(0x14a)](this[_0xe98fae(0x208)][_0xe98fae(0x1b8)]['skipSessionStatus']),this[_0xe98fae(0x1ab)]={},global['config']=this[_0xe98fae(0x208)],global[_0xe98fae(0x1e9)]=_0x4be223,helper['sanitizeCaps'](this[_0xe98fae(0x208)]),this['framework']=_0x4be223;if(helper[_0xe98fae(0x207)](this[_0xe98fae(0x208)])){if(_0x379e2b[_0xe98fae(0x1de)](_0x379e2b[_0xe98fae(0x1e3)],_0x379e2b['VVqQK'])){try{_0x2d43d7[_0xe98fae(0x212)][_0xe98fae(0x18f)]=_0x40dd12,_0x191dbe['fireFunnelTestEvent'](_0x379e2b[_0xe98fae(0x156)],{},this[_0xe98fae(0x208)],this[_0xe98fae(0x1e9)]);}catch(_0x128485){_0x56b96e['debug'](_0xe98fae(0x158)+_0x128485);}return;}else throw new Error(_0x379e2b[_0xe98fae(0x169)]);}if(this[_0xe98fae(0x208)][_0xe98fae(0x15c)]){if(_0x379e2b[_0xe98fae(0x16a)](_0x379e2b[_0xe98fae(0x125)],_0x379e2b[_0xe98fae(0x125)])){_0x27bd11[_0xe98fae(0x20e)](_0xe98fae(0x1d8)+_0x5ab921);throw new _0x166c64(_0x2f46a4[_0xe98fae(0x1a1)]());}else throw new Error(this[_0xe98fae(0x208)][_0xe98fae(0x15c)]);}this[_0xe98fae(0x19a)]();if(process[_0xe98fae(0x212)]['BROWSERSTACK_TURBOSCALE']){if(_0x379e2b[_0xe98fae(0x12a)](_0x379e2b[_0xe98fae(0x15f)],_0x379e2b['tOWut']))this[_0xe98fae(0x208)][_0xe98fae(0x192)]=helper[_0xe98fae(0x14a)](process['env'][_0xe98fae(0x12c)]),this[_0xe98fae(0x208)][_0xe98fae(0x1fc)]=this[_0xe98fae(0x208)]['turboScaleOptions']||{};else throw new _0x5cdf90(_0x379e2b['NqeJV']);}helper[_0xe98fae(0x202)](this['config'],this[_0xe98fae(0x159)]),helper[_0xe98fae(0x1d6)](this[_0xe98fae(0x208)],this['cliConfig'],this[_0xe98fae(0x160)]);if(!helper[_0xe98fae(0x146)]()){if(_0x379e2b['CxnlB'](_0x379e2b[_0xe98fae(0x1c7)],_0x379e2b[_0xe98fae(0x1c7)])){_0x4e8934[_0xe98fae(0x1a0)](_0x379e2b[_0xe98fae(0x198)](_0x379e2b[_0xe98fae(0x1f1)],this[_0xe98fae(0x208)][_0xe98fae(0x17a)]));const _0x4b9f9c={};_0x4b9f9c['path']=this[_0xe98fae(0x208)][_0xe98fae(0x17a)],_0x3af414[_0xe98fae(0x208)](_0x4b9f9c);}else{try{_0x379e2b[_0xe98fae(0x16a)](_0x379e2b[_0xe98fae(0x1fe)],_0x379e2b[_0xe98fae(0x1f4)])?(process[_0xe98fae(0x212)]['FRAMEWORK']=_0x4be223,helper['fireFunnelTestEvent'](_0x379e2b[_0xe98fae(0x156)],{},this['config'],this[_0xe98fae(0x1e9)])):_0xd6e394[_0xe98fae(0x1a0)](_0x379e2b[_0xe98fae(0x200)]);}catch(_0xb76ebe){_0x379e2b['PGYJP'](_0x379e2b[_0xe98fae(0x1bf)],_0x379e2b['dfeMc'])?(_0x379e2b[_0xe98fae(0x1ba)](_0x379e2b[_0xe98fae(0x15b)](_0x4287fe,_0x255f69[_0xe98fae(0x211)](_0x379e2b['XtEpc'])),0x3)&&(this['config'][_0xe98fae(0x167)]=![]),_0x379e2b[_0xe98fae(0x12a)](_0x5a4c7f[_0xe98fae(0x174)](_0x174d63[_0xe98fae(0x211)](_0x379e2b['XtEpc']),_0x379e2b[_0xe98fae(0x20b)]),0x1)&&(this[_0xe98fae(0x208)][_0xe98fae(0x167)]=!![])):logger[_0xe98fae(0x20e)]('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0xb76ebe);}return;}}if(helper[_0xe98fae(0x1ef)](_0x4be223)){if(_0x379e2b['CxnlB'](_0x379e2b[_0xe98fae(0x147)],_0x379e2b['nthEu']))throw new _0x24aefd(_0x379e2b[_0xe98fae(0x169)]);else _0x379e2b[_0xe98fae(0x1d9)](_0x379e2b[_0xe98fae(0x15b)](parseInt,helper['getPackageVersion'](_0x379e2b[_0xe98fae(0x191)])),0x3)&&(_0x379e2b[_0xe98fae(0x20c)](_0x379e2b[_0xe98fae(0x1c8)],_0x379e2b[_0xe98fae(0x1c8)])?(this[_0xe98fae(0x208)][_0xe98fae(0x19f)]=!![],this[_0xe98fae(0x208)][_0xe98fae(0x201)][_0xe98fae(0x1be)]=_0x379e2b[_0xe98fae(0x17e)],this[_0xe98fae(0x208)][_0xe98fae(0x201)][_0x379e2b[_0xe98fae(0x1ad)]]=_0xfa8bc4[_0xe98fae(0x204)][_0xe98fae(0x155)](','),this[_0xe98fae(0x208)][_0xe98fae(0x201)][_0xe98fae(0x177)]=_0x379e2b[_0xe98fae(0x16d)]):this[_0xe98fae(0x208)][_0xe98fae(0x167)]=![]),_0x379e2b[_0xe98fae(0x12a)](helper[_0xe98fae(0x174)](helper['getPackageVersion'](_0x379e2b['XtEpc']),_0x379e2b['HCbDh']),0x1)&&(_0x379e2b[_0xe98fae(0x12a)](_0x379e2b[_0xe98fae(0x1d1)],_0x379e2b[_0xe98fae(0x1e0)])?this[_0xe98fae(0x208)][_0xe98fae(0x167)]=![]:this['config']['useW3C']=!![]);}if(helper[_0xe98fae(0x207)](this[_0xe98fae(0x208)][_0xe98fae(0x205)])||helper[_0xe98fae(0x207)](this[_0xe98fae(0x208)][_0xe98fae(0x205)][_0xe98fae(0x1f0)])){if(_0x379e2b['CxnlB'](_0x379e2b[_0xe98fae(0x19c)],_0x379e2b[_0xe98fae(0x1b6)]))helper[_0xe98fae(0x207)](this['config']['parallelsPerPlatform'])?_0x379e2b['btrmj'](_0x379e2b['EICin'],_0x379e2b[_0xe98fae(0x194)])?_0x41c3ad['error'](_0x379e2b[_0xe98fae(0x206)],_0x449bb3[_0xe98fae(0x129)]):logger[_0xe98fae(0x1a0)](_0x379e2b['TDAnk']):_0x379e2b[_0xe98fae(0x1a7)](_0x379e2b[_0xe98fae(0x1aa)],_0x379e2b[_0xe98fae(0x1aa)])?logger['warn'](_0x379e2b[_0xe98fae(0x1f8)]):(_0x37220f[_0xe98fae(0x15c)](_0x3a7437['message']),_0x568657[_0xe98fae(0x20e)](_0x437738[_0xe98fae(0x1c9)](_0x54a134)),this[_0xe98fae(0x173)][_0xe98fae(0x1c0)](_0x11ee50[_0xe98fae(0x1c9)]('%j',_0x3d40d0)),_0x22646d['captureError'](_0x1b815e)),this['config'][_0xe98fae(0x205)]=[];else{const _0x539083=_0x27a385=>{const _0x24fa0d=_0xe98fae;_0xec9337['error'](_0x27a385[_0x24fa0d(0x129)]),_0x52358c[_0x24fa0d(0x20e)](_0x4a38a2[_0x24fa0d(0x1c9)](_0x27a385)),this[_0x24fa0d(0x173)][_0x24fa0d(0x1c0)](_0x5e30d3[_0x24fa0d(0x1c9)]('%j',_0x27a385)),_0x3d4ff9['captureError'](_0x27a385);};_0x5d1c36['on'](_0x379e2b[_0xe98fae(0x190)],_0x539083),_0x511fb1['on'](_0x379e2b[_0xe98fae(0x179)],_0x539083);}}if(this[_0xe98fae(0x208)][_0xe98fae(0x17a)]){if(_0x379e2b[_0xe98fae(0x1ac)](_0x379e2b[_0xe98fae(0x1d4)],_0x379e2b[_0xe98fae(0x1d4)]))_0x57c731[_0xe98fae(0x20e)](_0xe98fae(0x158)+_0x573f7f);else{logger['info'](_0x379e2b[_0xe98fae(0x151)](_0x379e2b['kCNcW'],this[_0xe98fae(0x208)][_0xe98fae(0x17a)]));const _0x3601de={};_0x3601de['path']=this[_0xe98fae(0x208)][_0xe98fae(0x17a)],dotenv[_0xe98fae(0x208)](_0x3601de);}}else _0x379e2b[_0xe98fae(0x1de)](_0x379e2b[_0xe98fae(0x168)],_0x379e2b[_0xe98fae(0x168)])?dotenv['config']():this['config'][_0xe98fae(0x201)]['localIdentifier']=_0x28215f[_0xe98fae(0x164)]();!this[_0xe98fae(0x208)]['browserStackLocalOptions']&&(this[_0xe98fae(0x208)]['browserStackLocalOptions']=this[_0xe98fae(0x208)]['localOptions']||{}),!this[_0xe98fae(0x208)][_0xe98fae(0x1b8)]&&(this[_0xe98fae(0x208)][_0xe98fae(0x1b8)]={});if(helper[_0xe98fae(0x207)](helper[_0xe98fae(0x13e)](this[_0xe98fae(0x208)]))||helper['isUndefined'](helper[_0xe98fae(0x1ca)](this[_0xe98fae(0x208)]))){if(_0x379e2b['IwLkP'](_0x379e2b[_0xe98fae(0x1cf)],_0x379e2b['pTlZV']))!_0x2c76eb[_0xe98fae(0x207)](this[_0xe98fae(0x208)][_0xe98fae(0x201)])&&_0x379e2b['IPQer'](this['config'][_0xe98fae(0x201)][_0xe98fae(0x187)],_0xcf6307)?this['config']['browserStackLocalOptions']['localIdentifier']=_0x340618[_0xe98fae(0x164)]():this[_0xe98fae(0x208)][_0xe98fae(0x201)]={'localIdentifier':_0x26a87f[_0xe98fae(0x164)]()};else throw new Error(_0x379e2b[_0xe98fae(0x141)]);}if(helper[_0xe98fae(0x1c2)](this[_0xe98fae(0x208)])&&helper['isUndefined'](helper[_0xe98fae(0x16f)](this['config']))){if(_0x379e2b[_0xe98fae(0x1da)](_0x379e2b[_0xe98fae(0x1b4)],_0x379e2b['hyVXp'])){if(!helper['isUndefined'](this[_0xe98fae(0x208)]['browserStackLocalOptions'])&&_0x379e2b[_0xe98fae(0x15e)](this[_0xe98fae(0x208)][_0xe98fae(0x201)][_0xe98fae(0x187)],Object))_0x379e2b[_0xe98fae(0x176)](_0x379e2b['yrpXn'],_0x379e2b['yrpXn'])?_0x379e2b[_0xe98fae(0x15b)](_0x500d1f,_0x379e2b[_0xe98fae(0x144)])():this[_0xe98fae(0x208)][_0xe98fae(0x201)]['localIdentifier']=helper[_0xe98fae(0x164)]();else{if(_0x379e2b['Icjyp'](_0x379e2b[_0xe98fae(0x17c)],_0x379e2b['xEMcC']))this['config'][_0xe98fae(0x201)]={'localIdentifier':helper[_0xe98fae(0x164)]()};else{_0x4fe6c0[_0xe98fae(0x20e)](_0x3c0da0);throw new _0x125050(_0x1a9cc0[_0xe98fae(0x1a1)]());}}}else _0x53a244[_0xe98fae(0x212)][_0xe98fae(0x18f)]=_0x5e5e35,_0x3c9d2f['fireFunnelTestEvent'](_0x379e2b[_0xe98fae(0x156)],{},this[_0xe98fae(0x208)],this[_0xe98fae(0x1e9)]);}helper['setLogLevel'](this['config'],this[_0xe98fae(0x159)],this[_0xe98fae(0x160)]);try{_0x379e2b[_0xe98fae(0x13a)](_0x379e2b[_0xe98fae(0x1bc)],_0x379e2b[_0xe98fae(0x172)])?this[_0xe98fae(0x208)]['turboScaleUrl']=_0x379e2b[_0xe98fae(0x1f2)](_0x21569f['playwrightUrl'],_0x379e2b['SEBxp']):(process[_0xe98fae(0x212)][_0xe98fae(0x18f)]=_0x2353ad['_'][0x0],helper['fireFunnelTestEvent'](_0x379e2b['xSznL'],{},this[_0xe98fae(0x208)],this[_0xe98fae(0x1e9)]));}catch(_0x42e01e){_0x379e2b[_0xe98fae(0x209)](_0x379e2b[_0xe98fae(0x1d5)],_0x379e2b[_0xe98fae(0x1f7)])?_0x2860b1[_0xe98fae(0x20e)](_0xe98fae(0x158)+_0x1f4733):logger['debug'](_0xe98fae(0x158)+_0x42e01e);}}async[a47_0x2a2ce4(0x18a)](){const _0x481101=a47_0x2a2ce4,_0x231126={'ZHofD':_0x481101(0x143),'lNfiL':function(_0x3ca7fd,_0x544d74){return _0x3ca7fd(_0x544d74);},'qJePZ':function(_0x105301,_0x24e800){return _0x105301!==_0x24e800;},'WvQWk':_0x481101(0x1db),'wDHub':'sqrJj','wHMCc':function(_0x4d95b0,_0x3afc70){return _0x4d95b0===_0x3afc70;},'YTGLV':_0x481101(0x1c1),'EOMQP':_0x481101(0x1ce),'YIsOU':_0x481101(0x199),'mTwHh':'true','plfZD':function(_0x46c80b,_0x37b412){return _0x46c80b===_0x37b412;},'JuPMA':'playwright','YNEtj':function(_0xe38233,_0x2fc614){return _0xe38233!==_0x2fc614;},'Yonhw':_0x481101(0x14e),'zMWGk':_0x481101(0x1a8),'LHuAg':function(_0x926cc9,_0x37f19e){return _0x926cc9+_0x37f19e;},'wZhTU':'?caps=','mwIIq':'srMMp','rOBtG':_0x481101(0x145),'INvfU':function(_0x3624ad,_0x2d460d){return _0x3624ad(_0x2d460d);},'Nrxmh':'unbDa'};if(_0x231126[_0x481101(0x14c)](isTurboScaleSession,this[_0x481101(0x208)])){if(_0x231126[_0x481101(0x20a)](_0x231126['WvQWk'],_0x231126['wDHub'])){const _0x326ff3=await helper['getTurboScaleGridDetails'](this[_0x481101(0x208)]);this['config'][_0x481101(0x14d)]=_0x326ff3,_0x326ff3[_0x481101(0x181)]&&(_0x231126[_0x481101(0x171)](_0x231126[_0x481101(0x188)],_0x231126[_0x481101(0x188)])?(this[_0x481101(0x208)][_0x481101(0x19f)]=!![],this['config'][_0x481101(0x201)]['localIdentifier']=_0x231126[_0x481101(0x13b)],this[_0x481101(0x208)][_0x481101(0x201)][_0x231126[_0x481101(0x17f)]]=_0x326ff3[_0x481101(0x204)][_0x481101(0x155)](','),this[_0x481101(0x208)][_0x481101(0x201)][_0x481101(0x177)]=_0x231126[_0x481101(0x128)]):_0x212aa3[_0x481101(0x1a2)](_0x231126[_0x481101(0x1ec)])),this[_0x481101(0x208)][_0x481101(0x1a3)]=_0x326ff3['url'],this[_0x481101(0x1e9)]&&_0x231126[_0x481101(0x15d)](this['framework'][_0x481101(0x1f5)](),_0x231126[_0x481101(0x19d)])&&(_0x231126[_0x481101(0x1c4)](_0x231126[_0x481101(0x1e7)],_0x231126[_0x481101(0x1e6)])?this[_0x481101(0x208)]['turboScaleUrl']=_0x231126[_0x481101(0x1ed)](_0x326ff3[_0x481101(0x20d)],_0x231126['wZhTU']):this[_0x481101(0x208)][_0x481101(0x201)]={'localIdentifier':_0x34535b[_0x481101(0x164)]()}),constants[_0x481101(0x136)]=helper[_0x481101(0x140)](this[_0x481101(0x208)]),logger[_0x481101(0x20e)]('HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20'+constants['hubUrl']);}else this[_0x481101(0x208)][_0x481101(0x167)]=!![];}helper[_0x481101(0x150)](this[_0x481101(0x208)]),this[_0x481101(0x170)]();constants[_0x481101(0x1fa)]['includes'](this[_0x481101(0x1e9)])&&(_0x231126[_0x481101(0x20a)](_0x231126[_0x481101(0x162)],_0x231126[_0x481101(0x162)])?_0x2a7e4c[_0x481101(0x208)]():await this[_0x481101(0x175)]());await this[_0x481101(0x196)]();if(![_0x231126[_0x481101(0x1ee)]][_0x481101(0x137)](this[_0x481101(0x1e9)])&&!_0x231126[_0x481101(0x1b5)](isTurboScaleSession,this[_0x481101(0x208)])){if(_0x231126['plfZD'](_0x231126['Nrxmh'],_0x231126[_0x481101(0x189)]))await this[_0x481101(0x1b9)]();else throw new _0x394319(this[_0x481101(0x208)]['error']);}}async[a47_0x2a2ce4(0x175)](){const _0x516165=a47_0x2a2ce4,_0x9a6907={};_0x9a6907['BnUKv']=_0x516165(0x1bb),_0x9a6907['Zxplv']='Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined',_0x9a6907[_0x516165(0x1a9)]=_0x516165(0x143),_0x9a6907[_0x516165(0x17b)]=function(_0x230770,_0x451210){return _0x230770===_0x451210;},_0x9a6907[_0x516165(0x17d)]=_0x516165(0x130),_0x9a6907['bZela']='nbaJX',_0x9a6907[_0x516165(0x1bd)]=function(_0x32d306,_0x43df9e){return _0x32d306===_0x43df9e;},_0x9a6907[_0x516165(0x1f6)]='userName\x20or\x20accessKey\x20is\x20not\x20defined',_0x9a6907['WFGgT']=_0x516165(0x210),_0x9a6907[_0x516165(0x195)]=function(_0x45afaa,_0x2d961d){return _0x45afaa!==_0x2d961d;},_0x9a6907['wOnjr']='oxToJ',_0x9a6907[_0x516165(0x131)]=_0x516165(0x1b2),_0x9a6907['vEwRK']=function(_0x50bbcf,_0x47abd7){return _0x50bbcf===_0x47abd7;},_0x9a6907['FlGco']=_0x516165(0x148),_0x9a6907[_0x516165(0x138)]=_0x516165(0x154),_0x9a6907['IeyQZ']='Percy\x20started\x20successfully',_0x9a6907[_0x516165(0x203)]=_0x516165(0x126),_0x9a6907[_0x516165(0x1cd)]=_0x516165(0x18e),_0x9a6907[_0x516165(0x1eb)]='SIGTERM',_0x9a6907[_0x516165(0x1d2)]=function(_0x4aeb6b,_0x4c5926){return _0x4aeb6b!==_0x4c5926;},_0x9a6907[_0x516165(0x19e)]=_0x516165(0x193);const _0x3a39e2=_0x9a6907;if(helper[_0x516165(0x14a)](this[_0x516165(0x208)][_0x516165(0x1ae)])&&(!this[_0x516165(0x1ae)]||!this['percy']['isRunning']())){if(_0x3a39e2['DbMZr'](_0x3a39e2[_0x516165(0x184)],_0x3a39e2[_0x516165(0x184)]))this[_0x516165(0x208)][_0x516165(0x192)]=_0x2b2470[_0x516165(0x14a)](_0x48f3b4[_0x516165(0x212)][_0x516165(0x12c)]),this[_0x516165(0x208)][_0x516165(0x1fc)]=this[_0x516165(0x208)]['turboScaleOptions']||{};else try{if(_0x3a39e2['aGclF'](_0x3a39e2[_0x516165(0x131)],_0x3a39e2[_0x516165(0x131)])){this[_0x516165(0x1ae)]=await percyHelper[_0x516165(0x197)](this[_0x516165(0x208)]);if(!this[_0x516165(0x1ae)]){if(_0x3a39e2[_0x516165(0x1b1)](_0x3a39e2[_0x516165(0x12e)],_0x3a39e2[_0x516165(0x12e)]))throw new Error(_0x3a39e2['ckPdp']);else _0x4d1cf3[_0x516165(0x15c)](_0x3a39e2[_0x516165(0x19b)],_0x55713e[_0x516165(0x129)]);}logger[_0x516165(0x1a0)](_0x3a39e2[_0x516165(0x1c5)]);let _0x317083=0x0;const _0x3abc02=async()=>{const _0x29f953=_0x516165,_0x5a1833={};_0x5a1833[_0x29f953(0x18c)]=_0x3a39e2[_0x29f953(0x1c3)],_0x5a1833[_0x29f953(0x12b)]=_0x3a39e2[_0x29f953(0x1a9)];const _0x7c49ce=_0x5a1833;_0x3a39e2[_0x29f953(0x17b)](_0x3a39e2[_0x29f953(0x17d)],_0x3a39e2[_0x29f953(0x149)])?(_0x329408[_0x29f953(0x207)](this['config'][_0x29f953(0x1f3)])?_0x1b383d[_0x29f953(0x1a0)](_0x7c49ce['IVEXN']):_0x1bff01[_0x29f953(0x1a2)](_0x7c49ce[_0x29f953(0x12b)]),this[_0x29f953(0x208)]['platforms']=[]):(_0x317083++,_0x3a39e2[_0x29f953(0x1bd)](_0x317083,0x1)&&await this['stopPercy']());};process['on'](_0x3a39e2[_0x516165(0x203)],_0x3abc02),process['on'](_0x3a39e2[_0x516165(0x1cd)],_0x3abc02),process['on'](_0x3a39e2[_0x516165(0x1eb)],_0x3abc02);}else throw new _0x3e90e3(_0x3a39e2[_0x516165(0x1f6)]);}catch(_0x2b136f){if(_0x3a39e2['SwVqH'](_0x3a39e2[_0x516165(0x19e)],_0x3a39e2[_0x516165(0x19e)]))_0x587954['env'][_0x516165(0x18f)]=_0x4e8ad4['_'][0x0],_0x4e77bf['fireFunnelTestEvent'](_0x3a39e2['WFGgT'],{},this['config'],this['framework']);else{logger[_0x516165(0x20e)](_0x516165(0x1d8)+_0x2b136f);throw new Error(_0x2b136f[_0x516165(0x1a1)]());}}}}async[a47_0x2a2ce4(0x1e2)](){const _0x55cbe1=a47_0x2a2ce4,_0x2b503f={};_0x2b503f[_0x55cbe1(0x127)]='Percy\x20stopped',_0x2b503f[_0x55cbe1(0x18b)]=_0x55cbe1(0x134);const _0xf8f0d8=_0x2b503f;if(this[_0x55cbe1(0x1ae)]&&this['percy']['isRunning']())try{await percyHelper[_0x55cbe1(0x1e2)](this[_0x55cbe1(0x1ae)]),logger[_0x55cbe1(0x1a0)](_0xf8f0d8['fbaUC']);}catch(_0x3a7f48){logger['error'](_0xf8f0d8[_0x55cbe1(0x18b)],_0x3a7f48[_0x55cbe1(0x129)]);}}async[a47_0x2a2ce4(0x196)](){const _0x1ad9bc=a47_0x2a2ce4,_0x3a7d87={};_0x3a7d87[_0x1ad9bc(0x1d7)]=function(_0x29919c,_0x4703f8){return _0x29919c===_0x4703f8;},_0x3a7d87['eXwhv']='Local\x20binary\x20started\x20successfully',_0x3a7d87['SPjcc']='beforeExit',_0x3a7d87[_0x1ad9bc(0x142)]=_0x1ad9bc(0x18e),_0x3a7d87[_0x1ad9bc(0x161)]='SIGTERM';const _0x2ffe51=_0x3a7d87;if(helper[_0x1ad9bc(0x14a)](this[_0x1ad9bc(0x208)][_0x1ad9bc(0x19f)])&&(!this['browserstackLocal']||!this['browserstackLocal'][_0x1ad9bc(0x166)]()))try{this[_0x1ad9bc(0x19f)]=await helper['startLocalBinary'](this['config']),logger[_0x1ad9bc(0x1a0)](_0x2ffe51[_0x1ad9bc(0x1e1)]);let _0x2fd111=0x0;const _0x1a2be5=async()=>{const _0x5e1de5=_0x1ad9bc;_0x2fd111++,_0x2ffe51['HSOvb'](_0x2fd111,0x1)&&await this[_0x5e1de5(0x1d3)]();};process['on'](_0x2ffe51[_0x1ad9bc(0x1a5)],_0x1a2be5),process['on'](_0x2ffe51[_0x1ad9bc(0x142)],_0x1a2be5),process['on'](_0x2ffe51['LBkkz'],_0x1a2be5);}catch(_0xc31816){logger['debug'](_0xc31816);throw new Error(_0xc31816[_0x1ad9bc(0x1a1)]());}}async[a47_0x2a2ce4(0x1d3)](){const _0x453bbe=a47_0x2a2ce4,_0x5c56a8={};_0x5c56a8[_0x453bbe(0x1b3)]=_0x453bbe(0x12f),_0x5c56a8[_0x453bbe(0x153)]=_0x453bbe(0x1bb);const _0x4a6d14=_0x5c56a8;if(this['browserstackLocal']&&this[_0x453bbe(0x19f)][_0x453bbe(0x166)]())try{await helper[_0x453bbe(0x1a6)](this[_0x453bbe(0x19f)]),logger[_0x453bbe(0x1a0)](_0x4a6d14[_0x453bbe(0x1b3)]);}catch(_0x497615){logger[_0x453bbe(0x15c)](_0x4a6d14['XzqHz'],_0x497615[_0x453bbe(0x129)]);}}async[a47_0x2a2ce4(0x1b9)](){const _0x53c9ae=a47_0x2a2ce4;await hubAllocator[_0x53c9ae(0x16c)](this[_0x53c9ae(0x208)]);}['setupKeepAlive'](){const _0x1e3ab1=a47_0x2a2ce4,_0xee8003={'eBzhL':function(_0x2a2c19,_0x30356a){return _0x2a2c19(_0x30356a);},'kcGXM':_0x1e3ab1(0x1df)};_0xee8003[_0x1e3ab1(0x14f)](require,_0xee8003['kcGXM'])();}[a47_0x2a2ce4(0x19a)](){const _0x21fbf1=a47_0x2a2ce4,_0x2294db={};_0x2294db[_0x21fbf1(0x157)]='unhandledRejection',_0x2294db[_0x21fbf1(0x1dc)]=_0x21fbf1(0x152);const _0x1f9227=_0x2294db,_0x5e126c=_0x50c901=>{const _0xe8df4c=_0x21fbf1;logger['error'](_0x50c901[_0xe8df4c(0x129)]),logger['debug'](util[_0xe8df4c(0x1c9)](_0x50c901)),this[_0xe8df4c(0x173)][_0xe8df4c(0x1c0)](util['format']('%j',_0x50c901)),PerformanceTester['captureError'](_0x50c901);};process['on'](_0x1f9227[_0x21fbf1(0x157)],_0x5e126c),process['on'](_0x1f9227[_0x21fbf1(0x1dc)],_0x5e126c);}}function a47_0x2ae6(){const _0x596803=['wdrkO','envFile','CxjIE','FAdYN','nanPJ','ysmDM','YIsOU','2914683kmeCDq','isTrialGrid','1611722gpDDup','4.5.0','wOnjr','hctgb','eccnz','constructor','YTGLV','Nrxmh','initialize','InFSQ','IVEXN','FJMAv','SIGINT','FRAMEWORK','qUNJh','XtEpc','turboScale','RGzal','EICin','DbMZr','setupBrowserstackLocal','startPercy','EcEaj','custom-repeater','handleExceptions','BnUKv','trhiG','JuPMA','lvMmH','browserstackLocal','info','toString','warn','turboScaleUrl','5QAJmTM','SPjcc','stopLocalBinary','jymri','CLKUx','xuWri','nPvWH','errorMessage','XUhmj','gLHBC','percy','Bawlv','aOOAH','vEwRK','HpQMK','KQvyZ','PaWqA','INvfU','KrBWc','571217YrAovR','testContextOptions','setUpHubUrl','Adpwa','Error\x20occured\x20while\x20stopping\x20local\x20binary','pAlXe','aGclF','localIdentifier','fcmIb','push','llaiK','getLocalConfig','Zxplv','YNEtj','IeyQZ','skipSessionStatus','GmlcZ','vwzLc','format','getAccessKey','lKJzP','xfChz','MsjDI','ats-repeater','pTlZV','?caps=','Tcudj','SwVqH','stopBrowserstackLocal','DKpqr','HroGY','getFinalCaps','HSOvb','Error\x20in\x20percy\x20setup\x20','uULAT','yRtpl','IiuWb','feZpA','util','PGYJP','./setKeepAlive','GbjXI','eXwhv','stopPercy','LHfOW','setEnvCaps','ZeEbq','zMWGk','Yonhw','./ats/helper','framework','lCyzn','uuNBl','ZHofD','LHuAg','rOBtG','requireSeleniumWebdriverCheck','length','kCNcW','aYpJY','parallelsPerPlatform','lfpWJ','toLowerCase','wZvTe','DWpHo','xtYyl','default','PERCY_SUPPORTED_FRAMEWORKS','4DcXdNJ','turboScaleOptions','LJhzg','dLvzJ','uJRvN','TDAnk','browserStackLocalOptions','setBrowserstackInfraFromConfig','jKXHX','customRepeaters','platforms','Ekchn','isUndefined','config','bQOqo','qJePZ','HCbDh','CHGxg','playwrightUrl','debug','./helper','SDKTestAttempted','getPackageVersion','env','userName\x20or\x20accessKey\x20is\x20not\x20defined','YsqBZ','dbVDu','beforeExit','fbaUC','mTwHh','message','BScrx','EvEiP','BROWSERSTACK_TURBOSCALE','LNDCO','FlGco','Local\x20binary\x20stopped','jNOBr','fbsBq','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','No\x20config\x20provided.','Error\x20occured\x20while\x20stopping\x20percy','JpKQv','hubUrl','includes','ckPdp','5613643yhqAVM','Nmdym','EOMQP','./percy/utils','true','getUserName','dotenv','getHubUrl','mTwuh','geFtn','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','Nreux','codeceptjs','isBrowserstackInfra','nthEu','AojFR','bZela','isTrue','EAziM','lNfiL','turboScaleGridDetails','CSfPK','eBzhL','setProxySettings','gwjMp','uncaughtException','XzqHz','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','join','xSznL','YCgVC','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','cliConfig','1038750cqwxeq','kNcVq','error','plfZD','MIlGD','tOWut','envConfig','LBkkz','mwIIq','./performance-tester','generateLocalIdentifier','15240339OeofZK','isRunning','useW3C','eSjWx','pigEZ','btrmj','7806360josPIJ','allocateHub','TVDen','setCLICaps','getLocalIdentifier','setupKeepAlive','wHMCc','nmGIP','unhandledErrors','compareVersions','setupPercy','SIMvj','forceLocal','KJaSB'];a47_0x2ae6=function(){return _0x596803;};return a47_0x2ae6();}exports[a47_0x2a2ce4(0x1f9)]=BrowserStackSetup;