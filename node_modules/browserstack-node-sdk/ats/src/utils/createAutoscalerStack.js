const a24_0x6e846e=a24_0xf9a0;(function(_0x59c9c1,_0x4ec8fa){const _0x2d2072=a24_0xf9a0,_0x1a1749=_0x59c9c1();while(!![]){try{const _0x1f57eb=-parseInt(_0x2d2072(0x16c))/0x1*(-parseInt(_0x2d2072(0x17b))/0x2)+-parseInt(_0x2d2072(0x17f))/0x3+parseInt(_0x2d2072(0x15e))/0x4+-parseInt(_0x2d2072(0x161))/0x5+-parseInt(_0x2d2072(0x159))/0x6+parseInt(_0x2d2072(0x184))/0x7*(-parseInt(_0x2d2072(0x170))/0x8)+parseInt(_0x2d2072(0x175))/0x9*(parseInt(_0x2d2072(0x157))/0xa);if(_0x1f57eb===_0x4ec8fa)break;else _0x1a1749['push'](_0x1a1749['shift']());}catch(_0x193e4b){_0x1a1749['push'](_0x1a1749['shift']());}}}(a24_0x46cb,0xb2334));const fs=require('fs'),path=require(a24_0x6e846e(0x178)),yaml=require(a24_0x6e846e(0x183)),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),Promise=require(a24_0x6e846e(0x173)),AWS=require(a24_0x6e846e(0x177))[a24_0x6e846e(0x15b)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require('../config/constants'),{logger}=require(a24_0x6e846e(0x16f));Promise[a24_0x6e846e(0x17e)](fs),addAutoscalerTags=async(_0x1e38d3,_0x5bc89c,_0x483555)=>{const _0x34fd9f=a24_0x6e846e;for(let _0x59d87f in _0x1e38d3['Resources']){_0x1e38d3[_0x34fd9f(0x17c)][_0x59d87f]['Properties']&&_0x1e38d3['Resources'][_0x59d87f][_0x34fd9f(0x172)]['Tags']&&_0x1e38d3[_0x34fd9f(0x17c)][_0x59d87f]['Properties'][_0x34fd9f(0x168)]['push'](..._0x483555);}},exports[a24_0x6e846e(0x182)]=async _0x82487e=>{const _0xf27eb6=a24_0x6e846e,_0x4186fc={'cGyju':_0xf27eb6(0x17a),'CyACg':_0xf27eb6(0x164),'PMlQH':'2010-05-15','QEpSc':'templates','oLZGC':_0xf27eb6(0x16a),'mdFnC':_0xf27eb6(0x171),'fgpoG':function(_0x5c5cfc,_0x7516cd,_0x450967,_0x186928){return _0x5c5cfc(_0x7516cd,_0x450967,_0x186928);},'AsJNR':'DELETE','oKbNq':_0xf27eb6(0x16b),'SasDO':_0xf27eb6(0x158),'fvhXN':_0xf27eb6(0x181)},_0x3fbcff=COMMON_HST_TAGS,_0x4c937c={};_0x4c937c['Key']=_0x4186fc[_0xf27eb6(0x166)],_0x4c937c[_0xf27eb6(0x15f)]=_0x82487e,_0x3fbcff['push'](_0x4c937c),_0x3fbcff[_0xf27eb6(0x165)]({'Key':_0x4186fc['CyACg'],'Value':new Date()['valueOf']()[_0xf27eb6(0x154)]()});const _0x51b990={};_0x51b990[_0xf27eb6(0x155)]=_0x4186fc[_0xf27eb6(0x15c)];const _0x2593c9=new AWS[(_0xf27eb6(0x169))](_0x51b990),_0xe08497=await fs['readFileAsync'](path['join'](__dirname,'..',_0x4186fc[_0xf27eb6(0x187)],_0x4186fc[_0xf27eb6(0x180)]),_0x4186fc['mdFnC']),_0x140d95={};_0x140d95[_0xf27eb6(0x174)]=CLOUDFORMATION_SCHEMA;const _0x429a59=yaml[_0xf27eb6(0x162)](_0xe08497,_0x140d95);_0x4186fc[_0xf27eb6(0x163)](addAutoscalerTags,_0x429a59,_0x82487e,_0x3fbcff);const _0x23fba5=JSON[_0xf27eb6(0x15a)](_0x429a59),_0x247162={};_0x247162[_0xf27eb6(0x160)]=CLUSTER_AUTOSCALER_STACK_NAME,_0x247162[_0xf27eb6(0x176)]=_0x4186fc[_0xf27eb6(0x185)],_0x247162[_0xf27eb6(0x188)]=_0x23fba5,_0x247162[_0xf27eb6(0x186)]=[{'ParameterKey':_0x4186fc['oKbNq'],'ParameterValue':_0x82487e}],_0x247162[_0xf27eb6(0x167)]=[_0x4186fc[_0xf27eb6(0x153)]],_0x247162[_0xf27eb6(0x168)]=_0x3fbcff;const _0x4c6104=_0x247162,_0x452420=await _0x2593c9['createStack'](_0x4c6104)['promise']();logger[_0xf27eb6(0x16d)](_0xf27eb6(0x15d));const _0x2ff4f7={};return _0x2ff4f7[_0xf27eb6(0x160)]=_0x452420[_0xf27eb6(0x17d)],_0x2593c9[_0xf27eb6(0x179)](_0x4186fc[_0xf27eb6(0x156)],_0x2ff4f7)[_0xf27eb6(0x16e)]();};function a24_0xf9a0(_0x1ffa07,_0x2909ec){const _0x46cb73=a24_0x46cb();return a24_0xf9a0=function(_0xf9a058,_0x34985f){_0xf9a058=_0xf9a058-0x153;let _0x2c348d=_0x46cb73[_0xf9a058];return _0x2c348d;},a24_0xf9a0(_0x1ffa07,_0x2909ec);}function a24_0x46cb(){const _0x4e907f=['createAutoscalerStack','js-yaml','10976gwMmWQ','AsJNR','Parameters','QEpSc','TemplateBody','SasDO','toString','apiVersion','fvhXN','184740exorYo','CAPABILITY_NAMED_IAM','5486190OqIMKn','stringify','awsObj','PMlQH','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','430764fLEkqk','Value','StackName','2298895hzGMSx','load','fgpoG','browserstack:creationDate','push','cGyju','Capabilities','Tags','CloudFormation','autoscaler-role-creation.yaml','ClusterName','1187171WeqDTg','debug','promise','../config/logger','24imNuUu','utf-8','Properties','bluebird','schema','1089GaQkLd','OnFailure','./AWSUtils','path','waitFor','browserstack:cluster','2RXpdgv','Resources','StackId','promisifyAll','4264380maBAjj','oLZGC','stackCreateComplete'];a24_0x46cb=function(){return _0x4e907f;};return a24_0x46cb();}