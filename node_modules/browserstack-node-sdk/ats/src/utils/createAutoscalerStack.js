const a24_0xe58e58=a24_0x7ced;function a24_0x7ced(_0x4ca69d,_0x3256b4){const _0x3b3687=a24_0x3b36();return a24_0x7ced=function(_0x7ced5a,_0x5196b4){_0x7ced5a=_0x7ced5a-0x11d;let _0x48fe72=_0x3b3687[_0x7ced5a];return _0x48fe72;},a24_0x7ced(_0x4ca69d,_0x3256b4);}(function(_0x818713,_0xe8d64a){const _0x1b3c8d=a24_0x7ced,_0x42d53c=_0x818713();while(!![]){try{const _0x383ad0=parseInt(_0x1b3c8d(0x120))/0x1*(parseInt(_0x1b3c8d(0x13a))/0x2)+parseInt(_0x1b3c8d(0x13e))/0x3+parseInt(_0x1b3c8d(0x13c))/0x4+parseInt(_0x1b3c8d(0x138))/0x5+-parseInt(_0x1b3c8d(0x149))/0x6*(parseInt(_0x1b3c8d(0x124))/0x7)+-parseInt(_0x1b3c8d(0x14d))/0x8+-parseInt(_0x1b3c8d(0x12a))/0x9;if(_0x383ad0===_0xe8d64a)break;else _0x42d53c['push'](_0x42d53c['shift']());}catch(_0x4d70cb){_0x42d53c['push'](_0x42d53c['shift']());}}}(a24_0x3b36,0x99726));function a24_0x3b36(){const _0x40c9e4=['Parameters','2010-05-15','Capabilities','425zdsqgC','toString','readFileAsync','jliuo','7yRMMDD','utf-8','gdaos','OUpiX','join','templates','978336zKUiiq','Properties','js-yaml-cloudformation-schema','Value','StackName','promise','OYFFr','stringify','CloudFormation','bluebird','DELETE','./AWSUtils','TemplateBody','StackId','147060ssZHYI','ClusterName','3646jOWCiq','../config/logger','4304676tSdJkv','debug','475197FGtlKH','browserstack:cluster','load','LSJxy','apiVersion','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','push','schema','OnFailure','YMTjx','CAPABILITY_NAMED_IAM','821298RYtatN','Resources','AhMwE','jIQry','9317200aYpeWJ','createStack','waitFor','Tags','path','Key','valueOf','awsObj','stackCreateComplete'];a24_0x3b36=function(){return _0x40c9e4;};return a24_0x3b36();}const fs=require('fs'),path=require(a24_0xe58e58(0x151)),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require(a24_0xe58e58(0x12c)),Promise=require(a24_0xe58e58(0x133)),AWS=require(a24_0xe58e58(0x135))[a24_0xe58e58(0x154)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require('../config/constants'),{logger}=require(a24_0xe58e58(0x13b));Promise['promisifyAll'](fs),addAutoscalerTags=async(_0x2d26ae,_0x5e949c,_0x49dc26)=>{const _0x2c881d=a24_0xe58e58;for(let _0x40a9f5 in _0x2d26ae['Resources']){_0x2d26ae[_0x2c881d(0x14a)][_0x40a9f5][_0x2c881d(0x12b)]&&_0x2d26ae[_0x2c881d(0x14a)][_0x40a9f5][_0x2c881d(0x12b)][_0x2c881d(0x150)]&&_0x2d26ae[_0x2c881d(0x14a)][_0x40a9f5][_0x2c881d(0x12b)]['Tags'][_0x2c881d(0x144)](..._0x49dc26);}},exports['createAutoscalerStack']=async _0x214bf5=>{const _0x3136bc=a24_0xe58e58,_0x56afba={'YMTjx':_0x3136bc(0x13f),'AhMwE':'browserstack:creationDate','jliuo':_0x3136bc(0x11e),'OUpiX':_0x3136bc(0x129),'jtLEg':'autoscaler-role-creation.yaml','kDaZy':_0x3136bc(0x125),'gdaos':function(_0x20d087,_0x27acda,_0x36cdf7,_0x4647e4){return _0x20d087(_0x27acda,_0x36cdf7,_0x4647e4);},'LSJxy':_0x3136bc(0x134),'tuVrz':_0x3136bc(0x139),'OYFFr':_0x3136bc(0x148),'jIQry':_0x3136bc(0x155)},_0x582f13=COMMON_HST_TAGS,_0x1e0762={};_0x1e0762[_0x3136bc(0x152)]=_0x56afba[_0x3136bc(0x147)],_0x1e0762[_0x3136bc(0x12d)]=_0x214bf5,_0x582f13[_0x3136bc(0x144)](_0x1e0762),_0x582f13['push']({'Key':_0x56afba[_0x3136bc(0x14b)],'Value':new Date()[_0x3136bc(0x153)]()[_0x3136bc(0x121)]()});const _0x56879b={};_0x56879b[_0x3136bc(0x142)]=_0x56afba[_0x3136bc(0x123)];const _0x5c538c=new AWS[(_0x3136bc(0x132))](_0x56879b),_0x2c3755=await fs[_0x3136bc(0x122)](path[_0x3136bc(0x128)](__dirname,'..',_0x56afba[_0x3136bc(0x127)],_0x56afba['jtLEg']),_0x56afba['kDaZy']),_0x552aba={};_0x552aba[_0x3136bc(0x145)]=CLOUDFORMATION_SCHEMA;const _0x23d2e8=yaml[_0x3136bc(0x140)](_0x2c3755,_0x552aba);_0x56afba[_0x3136bc(0x126)](addAutoscalerTags,_0x23d2e8,_0x214bf5,_0x582f13);const _0x29ca1c=JSON[_0x3136bc(0x131)](_0x23d2e8),_0x47df02={};_0x47df02['StackName']=CLUSTER_AUTOSCALER_STACK_NAME,_0x47df02[_0x3136bc(0x146)]=_0x56afba[_0x3136bc(0x141)],_0x47df02[_0x3136bc(0x136)]=_0x29ca1c,_0x47df02[_0x3136bc(0x11d)]=[{'ParameterKey':_0x56afba['tuVrz'],'ParameterValue':_0x214bf5}],_0x47df02[_0x3136bc(0x11f)]=[_0x56afba[_0x3136bc(0x130)]],_0x47df02[_0x3136bc(0x150)]=_0x582f13;const _0x40a2f2=_0x47df02,_0x40e413=await _0x5c538c[_0x3136bc(0x14e)](_0x40a2f2)['promise']();logger[_0x3136bc(0x13d)](_0x3136bc(0x143));const _0x2c28eb={};return _0x2c28eb[_0x3136bc(0x12e)]=_0x40e413[_0x3136bc(0x137)],_0x5c538c[_0x3136bc(0x14f)](_0x56afba[_0x3136bc(0x14c)],_0x2c28eb)[_0x3136bc(0x12f)]();};