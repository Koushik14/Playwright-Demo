const a28_0x25f76e=a28_0x5176;function a28_0x5176(_0x282bfe,_0x47e75c){const _0x4d7dfc=a28_0x4d7d();return a28_0x5176=function(_0x51768b,_0x4c2ac2){_0x51768b=_0x51768b-0x124;let _0x233ad4=_0x4d7dfc[_0x51768b];return _0x233ad4;},a28_0x5176(_0x282bfe,_0x47e75c);}(function(_0x57f8f9,_0x37ccaa){const _0x5c36d7=a28_0x5176,_0x48ee14=_0x57f8f9();while(!![]){try{const _0x54d96f=parseInt(_0x5c36d7(0x135))/0x1*(-parseInt(_0x5c36d7(0x125))/0x2)+parseInt(_0x5c36d7(0x156))/0x3+parseInt(_0x5c36d7(0x27c))/0x4*(parseInt(_0x5c36d7(0x1b9))/0x5)+parseInt(_0x5c36d7(0x16b))/0x6+parseInt(_0x5c36d7(0x220))/0x7+parseInt(_0x5c36d7(0x27a))/0x8+-parseInt(_0x5c36d7(0x15f))/0x9;if(_0x54d96f===_0x37ccaa)break;else _0x48ee14['push'](_0x48ee14['shift']());}catch(_0x303ec7){_0x48ee14['push'](_0x48ee14['shift']());}}}(a28_0x4d7d,0x81d0c));const fs=require('fs'),yaml=require(a28_0x25f76e(0x128)),path=require(a28_0x25f76e(0x1e6)),{v4:uuidv4}=require(a28_0x25f76e(0x221)),{logger}=require(a28_0x25f76e(0x158)),{AG_API_URL,global_registry,CLUSTER_DEP_STACK_NAME,CLUSTER_AUTOSCALER_STACK_NAME,AZURE,GCP}=require('../config/constants'),{deleteClusterStack}=require('./deleteStack'),{kubeApply}=require(a28_0x25f76e(0x171)),{delay}=require(a28_0x25f76e(0x226)),applyTemplate=async(_0x19b005,_0x576c1a,_0xa9272f={})=>{const _0x4e8242=a28_0x25f76e,_0x494770={};_0x494770[_0x4e8242(0x27d)]='true',_0x494770['LGSAV']=_0x4e8242(0x217),_0x494770[_0x4e8242(0x25b)]=_0x4e8242(0x25a),_0x494770[_0x4e8242(0x244)]='utf-8',_0x494770[_0x4e8242(0x1ae)]=_0x4e8242(0x26c),_0x494770[_0x4e8242(0x200)]=function(_0x611881,_0x26bb5a){return _0x611881!=_0x26bb5a;},_0x494770[_0x4e8242(0x1e1)]=function(_0x39194f,_0x41413e){return _0x39194f!==_0x41413e;},_0x494770[_0x4e8242(0x1fe)]=_0x4e8242(0x237),_0x494770[_0x4e8242(0x180)]='ALTOJ',_0x494770[_0x4e8242(0x14a)]=function(_0x6f76d6,_0x4175ed){return _0x6f76d6!==_0x4175ed;},_0x494770[_0x4e8242(0x1fd)]=_0x4e8242(0x231),_0x494770[_0x4e8242(0x193)]=_0x4e8242(0x214),_0x494770[_0x4e8242(0x240)]=function(_0x1c43fa,_0x1a6e42){return _0x1c43fa===_0x1a6e42;},_0x494770['iGjRO']=function(_0xb9de6,_0x22a7e2){return _0xb9de6!==_0x22a7e2;},_0x494770[_0x4e8242(0x1bb)]=_0x4e8242(0x24d),_0x494770[_0x4e8242(0x21f)]=_0x4e8242(0x189),_0x494770[_0x4e8242(0x1d4)]=_0x4e8242(0x203),_0x494770[_0x4e8242(0x258)]=function(_0x256476,_0x158db1){return _0x256476===_0x158db1;},_0x494770[_0x4e8242(0x1b8)]='JcQKM',_0x494770[_0x4e8242(0x163)]=_0x4e8242(0x1af);const _0x1f5aae=_0x494770;let _0x439273=await fs[_0x4e8242(0x1da)](path[_0x4e8242(0x1b4)](__dirname,'..',_0x1f5aae['ncxwr'],_0x19b005),_0x1f5aae[_0x4e8242(0x244)]);_0x439273=_0x439273[_0x4e8242(0x17b)](/<GridNamespace>/g,_0x576c1a),_0x439273=_0x439273[_0x4e8242(0x17b)](/<BstackURL>/g,AG_API_URL),_0x439273=_0x439273['replace'](/<ClusterName>/g,global_registry[_0x4e8242(0x1ed)]),_0x439273=_0x439273[_0x4e8242(0x17b)](/<BstackUsername>/g,global_registry[_0x4e8242(0x16f)]),_0x439273=_0x439273[_0x4e8242(0x17b)](/<BstackAccessKey>/g,global_registry[_0x4e8242(0x1b5)]),_0x439273=_0x439273['replace'](/<GridName>/g,global_registry[_0x4e8242(0x15a)]),_0x439273=_0x439273[_0x4e8242(0x17b)](/<Region>/g,global_registry[_0x4e8242(0x1cd)]),_0x439273=_0x439273['replace'](/<CloudProvider>/g,global_registry[_0x4e8242(0x1e8)]),_0x439273=_0x439273[_0x4e8242(0x17b)](/<HubImageVersion>/g,global_registry[_0x4e8242(0x140)]),_0x439273=_0x439273[_0x4e8242(0x17b)](/<BrowserImageVersion>/g,global_registry[_0x4e8242(0x146)]),_0x439273=_0x439273[_0x4e8242(0x17b)](/<PrivateGrid>/g,global_registry[_0x4e8242(0x275)]?_0x1f5aae['eYuQT']:_0x1f5aae['KqbtU']);if(_0x1f5aae[_0x4e8242(0x200)](global_registry[_0x4e8242(0x147)],null)&&_0x1f5aae['qlnTS'](global_registry[_0x4e8242(0x147)],undefined)){if(_0x1f5aae[_0x4e8242(0x1e1)](_0x1f5aae[_0x4e8242(0x1fe)],_0x1f5aae[_0x4e8242(0x180)]))_0x439273=_0x439273[_0x4e8242(0x17b)](/<GridProfileID>/g,global_registry[_0x4e8242(0x147)]);else return![];}else{if(_0x1f5aae['yrltr'](_0x1f5aae[_0x4e8242(0x1fd)],_0x1f5aae[_0x4e8242(0x193)]))_0x439273=_0x439273[_0x4e8242(0x17b)](/<GridProfileID>/g,'');else{const _0x482868={};_0x482868[_0x4e8242(0x1d6)]=''+_0x3ae562[_0x4e8242(0x24d)];const _0x26943a={'annotations':_0x482868,..._0x5e1067[_0x4e8242(0x17a)]};_0x587e95['metadata']=_0x26943a;}}const _0x131712=yaml['load'](_0x439273);if(_0x1f5aae[_0x4e8242(0x240)](global_registry[_0x4e8242(0x1e8)],AZURE)&&_0x1f5aae[_0x4e8242(0x145)](_0xa9272f[_0x1f5aae[_0x4e8242(0x1bb)]],undefined)){if(_0x1f5aae[_0x4e8242(0x240)](_0x1f5aae[_0x4e8242(0x21f)],_0x1f5aae[_0x4e8242(0x21f)])){const _0x3cb0aa={};_0x3cb0aa[_0x4e8242(0x1d6)]=''+_0xa9272f[_0x4e8242(0x24d)],_0x131712[_0x4e8242(0x17a)]={'annotations':_0x3cb0aa,..._0x131712[_0x4e8242(0x17a)]};}else{const _0x4b3a1d={'azure.workload.identity/use':_0x1f5aae['eYuQT'],..._0x15ea98[_0x4e8242(0x152)][_0x4e8242(0x260)][_0x4e8242(0x17a)]['labels']};_0x3329c9['spec'][_0x4e8242(0x260)][_0x4e8242(0x17a)]['labels']=_0x4b3a1d;}}if(_0x1f5aae[_0x4e8242(0x240)](global_registry[_0x4e8242(0x1e8)],AZURE)&&_0x1f5aae[_0x4e8242(0x240)](_0x19b005,_0x1f5aae[_0x4e8242(0x1d4)])){if(_0x1f5aae[_0x4e8242(0x258)](_0x1f5aae[_0x4e8242(0x1b8)],_0x1f5aae['BfLfl']))return _0x1f5aae[_0x4e8242(0x219)];else _0x131712[_0x4e8242(0x152)]['template'][_0x4e8242(0x17a)][_0x4e8242(0x269)]={'azure.workload.identity/use':_0x1f5aae[_0x4e8242(0x27d)],..._0x131712[_0x4e8242(0x152)][_0x4e8242(0x260)][_0x4e8242(0x17a)][_0x4e8242(0x269)]};}return _0x131712;};function a28_0x4d7d(){const _0x2499ca=['uid','nginx-private','BNKto','HImAU','ZKeyr','4|1|0|3|2','readNamespacedDeployment','api-service.yaml','hJmfj','Ckxlv','faRva','Rqqkd','Added\x20Ingress','urcIV','vxVSX','MnaJI','dxXAV','Deleted\x20cluster\x20and\x20linked\x20resources\x20successfully','TlLHM','VrMIF','Adding\x20MetricsServer\x20Service\x20Account','rhOTa','YJncH','ovSqk','scaleDownHubDeployment','XqotV','VgQLw','OuTXc','qYqXo','Adding\x20browser-node\x20service\x20account','FEexm','hBXgr','clientId','wnyCm','azhPl','sa.yaml','SxADn','uUFIZ','Added\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','Removed\x20grid\x20components','clusterissuer.yaml','fNFyW','cert-manager.yaml','sAolg','PhGuh','templates','ncxwr','qYUOt','qCJgf','uwYQj','qXSBX','template','TLkQd','createClusterRole','cqxzz','vLYpZ','15|27|34|11|29|31|19|23|16|32|24|8|7|22|13|12|35|3|5|4|20|14|6|10|30|18|2|0|1|9|21|17|28|33|26|25','gMXpj','autoscaler','RwrVu','labels','cluster-role-binding.yaml','CYgwO','false','Adding\x20MetricsServer\x20Components','createNamespacedServiceAccount','rnzlv','getNamespaceUID','Adding\x20Cert\x20Manager\x20CRDs','dXAbk','whbwM','KZlTj','isPrivateGrid','pqNbP','ytJdy','utRQq','qeNcc','928176OPCQUD','wobsp','459136pfuOef','eYuQT','qjuCE','YcQSf','RNNat','cluster-role.yaml','Added\x20VPC\x20CNI\x20ConfigMaps','GiFfG','COkKp','length','384FmNCLo','YCCLX','vxVUN','js-yaml','qNLuL','eSxWc','deployer-srvacct-binding-','clusterrole.yaml','dtNls','createNamespacedDeployment','Adding\x20Turboscale\x20Agent','eScGS','ingress.yaml','ZDljc','replicas','annotations','1243mKesBi','ZEvjL','cert-manager','nginx','Deleted\x20Turboscale\x20Agent','nVFqi','deleteAgent','statusCode','hpvyn','message','Deleted\x20ingress-nginx','hubVersion','service.beta.kubernetes.io/aws-load-balancer-internal:\x20\x22true\x22','service.yaml','4|0|7|9|1|12|3|11|10|5|6|2|13|15|14|8','VkTtA','iGjRO','browserVersion','gridProfileId','QdiTB','networking.gke.io/load-balancer-type:\x20\x22Internal\x22','yrltr','ingress-nginx','createNamespacedService','Deleted\x20cert-manager','FPuPp','service-account.yaml','browser-node-cluster-role.yaml','SbqBP','spec','bSLEy','code','sPyzn','355569GPWpsz','ndzjR','../config/logger','Deleting\x20ingress-nginx','gridName','ohnYJ','VHtXv','scaleUpHubDeployment','Adding\x20Autoscaler\x20clusterRole','13751748TbeihT','BmVZC','YZAJe','Adding\x20Cert\x20Manager','BfLfl','jmsou','ntIQD','WZWUP','loadAll','KoIIc','Deleting\x20','KnHNf','1005600taPqLP','weYZH','listNamespacedService','wODyS','bstackUsername','Removing\x20grid\x20components','./utilityMethods','metrics-server','fcYjD','Added\x20Cert\x20Manager\x20CRDs','5|3|0|9|1|7|4|6|8|2','replaceNamespacedDeployment','zIyDA','RTqZT','TYglN','metadata','replace','TXjnH','ERHdI','helper.yaml','Adding\x20MetricsServer\x20clusterRoleBinding','tzwxF','deployment.yaml','LFMsZ','namespace','pods-and-services.yaml','pCdLz','MIjtO','NNuzo','hipmn','ZspEf','bfBXh','MrqXC','AUFRb','TPPRw','KrwlG','default','debug','crds.yaml','CtzhS','KwOox','utf-8','Adding\x20Autoscaler\x20clusterRoleBinding','YQdFo','Added\x20browser-node-role\x20cluster\x20role','vZgdT','createNamespacedRoleBinding','browserstack','kygUH','<ClusterName>','YoyKh','Adding\x20Ingress','ToSrO','Scaled\x20down\x20deployment','deleteClusterAndDependencies','all','hkbVo','load','kube-system','YfgFb','eSrKQ','XWFYU','fIola','info','Added\x20hubdeployment','SovPX','ciiyI','KqbtU','RWrwZ','Adding\x20browser-node-role\x20cluster\x20role','createClusterRoleBinding','Adding\x20hubdeployment','LcsDD','join','bstackAccesskey','Adding\x20MetricsServer\x20Service','name','eCjaf','40gfyaXt','TAKkj','aliDT','metricsServerServiceExists','namespaceExists','Adding\x20MetricsServer\x20Deployment','gqIPA','PaRtA','UjOCl','EJTyq','\x20cloudformation\x20stacks\x20from\x20region\x20','UKtjR','addAutoScalerComponents','Adding\x20hubservice','Ayyop','nOCBz','Added\x20browser-node-role-binding\x20role\x20binding','Added\x20Cert\x20Issuer','vpc-cni-cm.yaml','FHxcv','clusterRegion','WzNmI','deleteNamespace','QXTmu','epwei','rOiXb','addMetricServerComponents','bvKrG','fKnnc','azure.workload.identity/client-id','Ooefq','Added\x20browser-node\x20service\x20account','WKEBK','readFileAsync','readNamespace','drhXa','Added\x20Nginx\x20Pods\x20and\x20deployments','YUwgI','UDyqc','MWKuN','qlnTS','browser-node-cluster-role-binding.yaml','aVzYQ','xycmH','CGPBL','path','Adding\x20MetricsServer\x20clusterRole\x20for\x20aggregated\x20reader','cloudProvider','hub-service.yaml','body','removeGridComponents','WyJSz','clusterName','cluster-role-binding-auth-delegator.yaml','Adding\x20Nginx\x20Pods\x20and\x20deployments','zgtAa','cluster-role-aggregated-reader.yaml','VlKAu','Deleting\x20Turboscale\x20Agent','fQgWL','Adding\x20Autoscaler\x20namespacedRole','Deleting\x20clusterrolebinding','imKrJ','Adding\x20Autoscaler\x20namespacedRoleBinding','lNJRV','BDZVj','service.beta.kubernetes.io/azure-load-balancer-internal:\x20\x22true\x22','pdntD','cRsJg','glIvH','Added\x20Turboscale\x20Agent','pYKql','Scaling\x20down\x20deployment','split','hub-deployment.yaml','GVudm','kbbIM','HpPnW','browserstack-turboscale-grid','iPaIN','Adding\x20clusterrolebinding','CayjB','Added\x20Autoscaler\x20Components','GngQs','role-binding.yaml','guWVT','browser-node-service-account.yaml','Adding\x20Autoscaler\x20Components','replaceNamespacedServiceAccount','hppKt','fJeHf','RMpOg','wMkBS','yujnc','123456','hzOsW','LGSAV','eWtry','VVFVj','HuzIB','Adding\x20browser-node-role-binding\x20role\x20binding','KPDsd','KdgPa','6845545vVTupo','uuid','Adding\x20VPC\x20CNI\x20CM','QAQUa','qZqTO','rsXTl','../utils/webSocketUtils','KmEOu','Added\x20hubservice','isNewAWSCluster','QkYow','createNamespacedRole','Adding\x20Nginx\x20Roles\x20and\x20Service\x20Accounts'];a28_0x4d7d=function(){return _0x2499ca;};return a28_0x4d7d();}exports[a28_0x25f76e(0x1c5)]=async(_0x2d1259,_0x50bf86,_0x4e28d4,_0x2e72bb,_0x447f94,_0x26cbdc,_0x2283ba)=>{const _0xc8148=a28_0x25f76e,_0x43d799={};_0x43d799[_0xc8148(0x18d)]='Adding\x20Autoscaler\x20Service\x20Account',_0x43d799['CayjB']='templates',_0x43d799['hppKt']=_0xc8148(0x267),_0x43d799[_0xc8148(0x242)]=_0xc8148(0x250),_0x43d799[_0xc8148(0x192)]=_0xc8148(0x194),_0x43d799[_0xc8148(0x153)]='eks.amazonaws.com/role-arn',_0x43d799[_0xc8148(0x1e5)]='kube-system',_0x43d799[_0xc8148(0x23c)]=_0xc8148(0x15e),_0x43d799[_0xc8148(0x179)]=_0xc8148(0x12c),_0x43d799[_0xc8148(0x1fa)]=_0xc8148(0x1f5),_0x43d799['fNFyW']='role.yaml',_0x43d799['MrqXC']=_0xc8148(0x195),_0x43d799[_0xc8148(0x249)]=_0xc8148(0x26a),_0x43d799[_0xc8148(0x1c4)]=_0xc8148(0x1f8),_0x43d799[_0xc8148(0x1d5)]=_0xc8148(0x20d),_0x43d799['hkbVo']='Adding\x20Autoscaler\x20Deployment',_0x43d799['vxVSX']=_0xc8148(0x181),_0x43d799[_0xc8148(0x130)]=_0xc8148(0x19c);const _0x1f9591=_0x43d799;let _0x5935ec=null,_0x26408c=null;logger[_0xc8148(0x1aa)](_0x1f9591[_0xc8148(0x18d)]),_0x26408c=await fs[_0xc8148(0x1da)](path[_0xc8148(0x1b4)](__dirname,'..',_0x1f9591[_0xc8148(0x20a)],_0x1f9591['hppKt'],_0x1f9591[_0xc8148(0x242)]),_0x1f9591[_0xc8148(0x192)]),_0x5935ec=yaml[_0xc8148(0x1a4)](_0x26408c),_0x5935ec[_0xc8148(0x17a)][_0xc8148(0x134)][_0x1f9591['bSLEy']]=_0x2283ba;const _0x16477c={};_0x16477c['namespace']=_0x1f9591[_0xc8148(0x1e5)],_0x16477c['body']=_0x5935ec,await _0x2d1259[_0xc8148(0x26e)](_0x16477c),logger[_0xc8148(0x1aa)](_0x1f9591[_0xc8148(0x23c)]),_0x26408c=await fs[_0xc8148(0x1da)](path['join'](__dirname,'..',_0x1f9591[_0xc8148(0x20a)],_0x1f9591[_0xc8148(0x212)],_0x1f9591[_0xc8148(0x179)]),_0x1f9591['CtzhS']),_0x5935ec=yaml[_0xc8148(0x1a4)](_0x26408c);const _0x7d4d3={};_0x7d4d3[_0xc8148(0x1ea)]=_0x5935ec,await _0x2e72bb[_0xc8148(0x262)](_0x7d4d3),logger[_0xc8148(0x1aa)](_0x1f9591[_0xc8148(0x1fa)]),_0x26408c=await fs['readFileAsync'](path[_0xc8148(0x1b4)](__dirname,'..',_0x1f9591[_0xc8148(0x20a)],_0x1f9591[_0xc8148(0x212)],_0x1f9591[_0xc8148(0x256)]),_0x1f9591[_0xc8148(0x192)]),_0x5935ec=yaml['load'](_0x26408c);const _0xffd46d={};_0xffd46d[_0xc8148(0x183)]=_0x1f9591[_0xc8148(0x1e5)],_0xffd46d[_0xc8148(0x1ea)]=_0x5935ec,await _0x2e72bb[_0xc8148(0x22b)](_0xffd46d),logger[_0xc8148(0x1aa)](_0x1f9591[_0xc8148(0x18b)]),_0x26408c=await fs['readFileAsync'](path[_0xc8148(0x1b4)](__dirname,'..',_0x1f9591[_0xc8148(0x20a)],_0x1f9591['hppKt'],_0x1f9591[_0xc8148(0x249)]),_0x1f9591['CtzhS']),_0x5935ec=yaml[_0xc8148(0x1a4)](_0x26408c);const _0x383409={};_0x383409[_0xc8148(0x1ea)]=_0x5935ec,await _0x2e72bb['createClusterRoleBinding'](_0x383409),logger[_0xc8148(0x1aa)](_0x1f9591[_0xc8148(0x1c4)]),_0x26408c=await fs[_0xc8148(0x1da)](path[_0xc8148(0x1b4)](__dirname,'..',_0x1f9591[_0xc8148(0x20a)],_0x1f9591['hppKt'],_0x1f9591[_0xc8148(0x1d5)]),_0x1f9591[_0xc8148(0x192)]),_0x5935ec=yaml[_0xc8148(0x1a4)](_0x26408c);const _0x3ddd6a={};_0x3ddd6a[_0xc8148(0x183)]=_0x1f9591['CGPBL'],_0x3ddd6a['body']=_0x5935ec,await _0x2e72bb[_0xc8148(0x199)](_0x3ddd6a),logger[_0xc8148(0x1aa)](_0x1f9591[_0xc8148(0x1a3)]),_0x26408c=await fs[_0xc8148(0x1da)](path[_0xc8148(0x1b4)](__dirname,'..',_0x1f9591[_0xc8148(0x20a)],_0x1f9591[_0xc8148(0x212)],_0x1f9591[_0xc8148(0x23b)]),_0x1f9591['CtzhS']),_0x26408c=_0x26408c[_0xc8148(0x17b)](_0x1f9591[_0xc8148(0x130)],_0x26cbdc),_0x5935ec=yaml['load'](_0x26408c);const _0x2b233a={};_0x2b233a[_0xc8148(0x183)]=_0x1f9591['CGPBL'],_0x2b233a[_0xc8148(0x1ea)]=_0x5935ec,await _0x50bf86['createNamespacedDeployment'](_0x2b233a);},exports[a28_0x25f76e(0x1d3)]=async(_0x69581,_0x9c0f75,_0x10b06a,_0x451816)=>{const _0x5ec77b=a28_0x25f76e,_0x1f9521={};_0x1f9521[_0x5ec77b(0x18c)]=_0x5ec77b(0x265),_0x1f9521['iPaIN']='kube-system',_0x1f9521[_0x5ec77b(0x205)]=_0x5ec77b(0x1be),_0x1f9521[_0x5ec77b(0x1fc)]=_0x5ec77b(0x25a),_0x1f9521[_0x5ec77b(0x1a8)]=_0x5ec77b(0x172),_0x1f9521['drhXa']=_0x5ec77b(0x1ee),_0x1f9521[_0x5ec77b(0x1c1)]=_0x5ec77b(0x194),_0x1f9521['ZDljc']='Adding\x20MetricsServer\x20namespacedRoleBinding',_0x1f9521[_0x5ec77b(0x24f)]=_0x5ec77b(0x181),_0x1f9521[_0x5ec77b(0x17d)]='cluster-role-binding.yaml',_0x1f9521['LFMsZ']=_0x5ec77b(0x241),_0x1f9521[_0x5ec77b(0x243)]='Adding\x20MetricsServer\x20clusterRole',_0x1f9521[_0x5ec77b(0x20e)]=_0x5ec77b(0x142),_0x1f9521[_0x5ec77b(0x25d)]=_0x5ec77b(0x17f),_0x1f9521[_0x5ec77b(0x165)]=_0x5ec77b(0x20d),_0x1f9521[_0x5ec77b(0x1b3)]=_0x5ec77b(0x14f),_0x1f9521[_0x5ec77b(0x14e)]='Adding\x20MetricsServer\x20API\x20Service',_0x1f9521[_0x5ec77b(0x266)]=_0x5ec77b(0x1e7),_0x1f9521[_0x5ec77b(0x1c2)]=_0x5ec77b(0x1b6),_0x1f9521[_0x5ec77b(0x224)]=_0x5ec77b(0x1f1),_0x1f9521[_0x5ec77b(0x127)]=_0x5ec77b(0x281),_0x1f9521['koAQY']=_0x5ec77b(0x234);const _0x5f0f76=_0x1f9521,_0x5ba875=_0x5f0f76['AUFRb'][_0x5ec77b(0x202)]('|');let _0x125bd6=0x0;while(!![]){switch(_0x5ba875[_0x125bd6++]){case'0':const _0x5346b3={};_0x5346b3['namespace']=_0x5f0f76[_0x5ec77b(0x208)],_0x5346b3['body']=templateBody,await _0x69581['createNamespacedService'](_0x5346b3);continue;case'1':logger[_0x5ec77b(0x1aa)](_0x5f0f76[_0x5ec77b(0x205)]);continue;case'2':templateBody=yaml[_0x5ec77b(0x1a4)](yamlTemplate);continue;case'3':yamlTemplate=await fs['readFileAsync'](path[_0x5ec77b(0x1b4)](__dirname,'..',_0x5f0f76[_0x5ec77b(0x1fc)],_0x5f0f76['XWFYU'],_0x5f0f76[_0x5ec77b(0x1dc)]),_0x5f0f76['UjOCl']);continue;case'4':const _0x592d0b={};_0x592d0b[_0x5ec77b(0x1ea)]=templateBody,await _0x10b06a[_0x5ec77b(0x1b1)](_0x592d0b);continue;case'5':templateBody=yaml[_0x5ec77b(0x1a4)](yamlTemplate);continue;case'6':templateBody=yaml[_0x5ec77b(0x1a4)](yamlTemplate);continue;case'7':logger[_0x5ec77b(0x1aa)](_0x5f0f76[_0x5ec77b(0x132)]);continue;case'8':const _0x564c0f={};_0x564c0f[_0x5ec77b(0x1ea)]=templateBody,await _0x10b06a['createClusterRole'](_0x564c0f);continue;case'9':yamlTemplate=await fs[_0x5ec77b(0x1da)](path[_0x5ec77b(0x1b4)](__dirname,'..',_0x5f0f76[_0x5ec77b(0x1fc)],_0x5f0f76[_0x5ec77b(0x1a8)],_0x5f0f76[_0x5ec77b(0x24f)]),_0x5f0f76[_0x5ec77b(0x1c1)]);continue;case'10':const _0x16997f={};_0x16997f['body']=templateBody,await _0x10b06a[_0x5ec77b(0x1b1)](_0x16997f);continue;case'11':const _0x48abe0={};_0x48abe0[_0x5ec77b(0x183)]=_0x5f0f76[_0x5ec77b(0x208)],_0x48abe0[_0x5ec77b(0x1ea)]=templateBody,await _0x69581['createNamespacedServiceAccount'](_0x48abe0);continue;case'12':const _0x2d3a0c={};_0x2d3a0c['namespace']=_0x5f0f76[_0x5ec77b(0x208)],_0x2d3a0c[_0x5ec77b(0x1ea)]=templateBody,await _0x10b06a[_0x5ec77b(0x199)](_0x2d3a0c);continue;case'13':templateBody=yaml[_0x5ec77b(0x1a4)](yamlTemplate);continue;case'14':yamlTemplate=await fs[_0x5ec77b(0x1da)](path[_0x5ec77b(0x1b4)](__dirname,'..',_0x5f0f76[_0x5ec77b(0x1fc)],_0x5f0f76[_0x5ec77b(0x1a8)],_0x5f0f76[_0x5ec77b(0x17d)]),_0x5f0f76[_0x5ec77b(0x1c1)]);continue;case'15':logger[_0x5ec77b(0x1aa)](_0x5f0f76[_0x5ec77b(0x182)]);continue;case'16':logger[_0x5ec77b(0x1aa)](_0x5f0f76[_0x5ec77b(0x243)]);continue;case'17':const _0x3d74e3={};_0x3d74e3[_0x5ec77b(0x183)]=_0x5f0f76[_0x5ec77b(0x208)],_0x3d74e3[_0x5ec77b(0x1ea)]=templateBody,await _0x9c0f75[_0x5ec77b(0x12e)](_0x3d74e3);continue;case'18':yamlTemplate=await fs['readFileAsync'](path[_0x5ec77b(0x1b4)](__dirname,'..',_0x5f0f76[_0x5ec77b(0x1fc)],_0x5f0f76['XWFYU'],_0x5f0f76[_0x5ec77b(0x20e)]),_0x5f0f76[_0x5ec77b(0x1c1)]);continue;case'19':templateBody=yaml['load'](yamlTemplate);continue;case'20':logger[_0x5ec77b(0x1aa)](_0x5f0f76[_0x5ec77b(0x25d)]);continue;case'21':templateBody=yaml[_0x5ec77b(0x1a4)](yamlTemplate);continue;case'22':yamlTemplate=await fs[_0x5ec77b(0x1da)](path[_0x5ec77b(0x1b4)](__dirname,'..',_0x5f0f76[_0x5ec77b(0x1fc)],_0x5f0f76[_0x5ec77b(0x1a8)],_0x5f0f76[_0x5ec77b(0x165)]),_0x5f0f76[_0x5ec77b(0x1c1)]);continue;case'23':const _0x4aded2={};_0x4aded2['body']=templateBody,await _0x10b06a[_0x5ec77b(0x262)](_0x4aded2);continue;case'24':templateBody=yaml['load'](yamlTemplate);continue;case'25':const _0x5240f3={};_0x5240f3[_0x5ec77b(0x1ea)]=templateBody,await _0x451816['createAPIService'](_0x5240f3);continue;case'26':templateBody=yaml[_0x5ec77b(0x1a4)](yamlTemplate);continue;case'27':yamlTemplate=await fs[_0x5ec77b(0x1da)](path[_0x5ec77b(0x1b4)](__dirname,'..',_0x5f0f76[_0x5ec77b(0x1fc)],_0x5f0f76['XWFYU'],_0x5f0f76['LcsDD']),_0x5f0f76['UjOCl']);continue;case'28':logger[_0x5ec77b(0x1aa)](_0x5f0f76[_0x5ec77b(0x14e)]);continue;case'29':logger[_0x5ec77b(0x1aa)](_0x5f0f76['gMXpj']);continue;case'30':logger[_0x5ec77b(0x1aa)](_0x5f0f76[_0x5ec77b(0x1c2)]);continue;case'31':yamlTemplate=await fs[_0x5ec77b(0x1da)](path[_0x5ec77b(0x1b4)](__dirname,'..',_0x5f0f76[_0x5ec77b(0x1fc)],_0x5f0f76[_0x5ec77b(0x1a8)],_0x5f0f76[_0x5ec77b(0x224)]),_0x5f0f76[_0x5ec77b(0x1c1)]);continue;case'32':yamlTemplate=await fs[_0x5ec77b(0x1da)](path[_0x5ec77b(0x1b4)](__dirname,'..',_0x5f0f76[_0x5ec77b(0x1fc)],_0x5f0f76['XWFYU'],_0x5f0f76[_0x5ec77b(0x127)]),_0x5f0f76[_0x5ec77b(0x1c1)]);continue;case'33':yamlTemplate=await fs[_0x5ec77b(0x1da)](path['join'](__dirname,'..',_0x5f0f76[_0x5ec77b(0x1fc)],_0x5f0f76[_0x5ec77b(0x1a8)],_0x5f0f76['koAQY']),_0x5f0f76[_0x5ec77b(0x1c1)]);continue;case'34':templateBody=yaml['load'](yamlTemplate);continue;case'35':logger[_0x5ec77b(0x1aa)](_0x5f0f76['qCJgf']);continue;}break;}},exports[a28_0x25f76e(0x1bc)]=async _0x195e43=>{const _0x3bfbda=a28_0x25f76e,_0x5c4d28={};_0x5c4d28['ciiyI']='service.beta.kubernetes.io/azure-load-balancer-internal:\x20\x22true\x22',_0x5c4d28['Ayyop']=_0x3bfbda(0x1a5),_0x5c4d28['XUXSL']=function(_0x2b8765,_0x39f193){return _0x2b8765<_0x39f193;},_0x5c4d28[_0x3bfbda(0x1df)]=function(_0x4c9e74,_0x32b66c){return _0x4c9e74!==_0x32b66c;},_0x5c4d28[_0x3bfbda(0x16c)]=_0x3bfbda(0x238),_0x5c4d28[_0x3bfbda(0x166)]=function(_0x43b5a7,_0x2060ff){return _0x43b5a7===_0x2060ff;},_0x5c4d28[_0x3bfbda(0x1f2)]='metrics-server',_0x5c4d28[_0x3bfbda(0x16a)]=function(_0x583ca4,_0x37c365){return _0x583ca4!==_0x37c365;},_0x5c4d28[_0x3bfbda(0x1a7)]=_0x3bfbda(0x1d2),_0x5c4d28[_0x3bfbda(0x186)]=_0x3bfbda(0x1d0);const _0x416014=_0x5c4d28,_0xa6e985={};_0xa6e985[_0x3bfbda(0x183)]=_0x416014[_0x3bfbda(0x1c7)];const _0x3a80eb=await _0x195e43[_0x3bfbda(0x16d)](_0xa6e985),_0x575f65=_0x3a80eb?.['items'];for(let _0x1f5a1c=0x0;_0x416014['XUXSL'](_0x1f5a1c,_0x575f65[_0x3bfbda(0x124)]);_0x1f5a1c++){if(_0x416014['UDyqc'](_0x416014['weYZH'],_0x416014['weYZH']))_0x1d0bc8=_0x416014[_0x3bfbda(0x1ad)];else{if(_0x416014[_0x3bfbda(0x166)](_0x575f65[_0x1f5a1c][_0x3bfbda(0x17a)][_0x3bfbda(0x1b7)],_0x416014[_0x3bfbda(0x1f2)])){if(_0x416014[_0x3bfbda(0x16a)](_0x416014[_0x3bfbda(0x1a7)],_0x416014['MIjtO']))return!![];else _0x5e8680[_0x3bfbda(0x190)](_0x1f0e19[_0x3bfbda(0x13e)]);}}}return![];},exports[a28_0x25f76e(0x1bd)]=async(_0x204953,_0x1fe78f)=>{const _0x16284a=a28_0x25f76e,_0x469904={};_0x469904['wobsp']=function(_0x1e6880,_0x342dc7){return _0x1e6880===_0x342dc7;},_0x469904[_0x16284a(0x1bf)]=_0x16284a(0x172),_0x469904[_0x16284a(0x12a)]=function(_0x126c5e,_0x141bed){return _0x126c5e!==_0x141bed;},_0x469904[_0x16284a(0x1de)]=_0x16284a(0x198),_0x469904['UiGrz']=_0x16284a(0x247),_0x469904[_0x16284a(0x1f4)]=_0x16284a(0x283);const _0x3a2320=_0x469904;try{if(_0x3a2320[_0x16284a(0x12a)](_0x3a2320['YUwgI'],_0x3a2320['UiGrz'])){const _0x9fc934={};_0x9fc934[_0x16284a(0x1b7)]=_0x1fe78f;const _0x264802=await _0x204953[_0x16284a(0x1db)](_0x9fc934);return!![];}else{if(_0x3a2320['wobsp'](_0xe0af55[_0x16284a(0x13c)],0x199)||_0x3a2320[_0x16284a(0x27b)](_0x424af7[_0x16284a(0x154)],0x199))_0x341ef4[_0x16284a(0x190)](_0x1d2efb['message']);else throw _0x1f6ca9;}}catch(_0x1bb310){if(_0x3a2320[_0x16284a(0x27b)](_0x3a2320[_0x16284a(0x1f4)],_0x3a2320[_0x16284a(0x1f4)]))return![];else{if(_0x3a2320['wobsp'](_0x47d264[_0x47deca][_0x16284a(0x17a)][_0x16284a(0x1b7)],_0x3a2320[_0x16284a(0x1bf)]))return!![];}}},exports[a28_0x25f76e(0x270)]=async(_0x582fd0,_0x3c9de0)=>{const _0x5bc7cf=a28_0x25f76e,_0x2d3710={};_0x2d3710['VVFVj']=_0x5bc7cf(0x149),_0x2d3710[_0x5bc7cf(0x1ce)]=function(_0x59d59f,_0x205c86){return _0x59d59f===_0x205c86;},_0x2d3710[_0x5bc7cf(0x223)]=_0x5bc7cf(0x1ba),_0x2d3710[_0x5bc7cf(0x18e)]=function(_0xcda746,_0x26db50){return _0xcda746===_0x26db50;},_0x2d3710[_0x5bc7cf(0x1ac)]=_0x5bc7cf(0x261),_0x2d3710[_0x5bc7cf(0x277)]=_0x5bc7cf(0x217);const _0xf99035=_0x2d3710;try{if(_0xf99035[_0x5bc7cf(0x1ce)](_0xf99035[_0x5bc7cf(0x223)],_0xf99035[_0x5bc7cf(0x223)])){const _0x83527d={};_0x83527d[_0x5bc7cf(0x1b7)]=_0x3c9de0;const _0x29a672=await _0x582fd0['readNamespace'](_0x83527d),_0x25c62a=_0x29a672?.['metadata']?.[_0x5bc7cf(0x22d)];return _0x25c62a;}else _0x50ae65=_0xf99035[_0x5bc7cf(0x21b)];}catch(_0x544ff2){if(_0xf99035[_0x5bc7cf(0x18e)](_0xf99035['SovPX'],_0xf99035[_0x5bc7cf(0x1ac)]))return _0xf99035['ytJdy'];else _0x3a5ab4=_0x403fb7['replace'](/<GridProfileID>/g,'');}},exports['addGridComponents']=async(_0x5e1277,_0x372211,_0x2d0378,_0x1a5aff,_0x376986,_0x5f3d9d,_0x20faa1,_0x4dd380,_0x53208d,_0x52707f={},_0x207e4a)=>{const _0x5bccd5=a28_0x25f76e,_0x354086={'KPDsd':_0x5bccd5(0x141),'rsXTl':_0x5bccd5(0x209),'WyJSz':function(_0x104134,_0x1024f9,_0x468e58){return _0x104134(_0x1024f9,_0x468e58);},'uUphc':_0x5bccd5(0x26a),'PhGuh':'Added\x20clusterrolebinding','CYgwO':function(_0x4007be,_0x4e6fe5){return _0x4007be!=_0x4e6fe5;},'KmEOu':function(_0x48bfe5,_0x37eb30){return _0x48bfe5!==_0x37eb30;},'urcIV':function(_0x5cde78,_0x297835){return _0x5cde78===_0x297835;},'hBXgr':_0x5bccd5(0x1e3),'ohnYJ':_0x5bccd5(0x144),'nVFqi':_0x5bccd5(0x210),'YCCLX':_0x5bccd5(0x20b),'YZAJe':_0x5bccd5(0x252),'QdiTB':_0x5bccd5(0x26d),'JJuox':'Added\x20MetricsServer\x20Components','BnAKl':'plZET','cfgZf':_0x5bccd5(0x24a),'lNJRV':function(_0x2c06ca,_0x1e8472,_0x2929f9,_0x165d53){return _0x2c06ca(_0x1e8472,_0x2929f9,_0x165d53);},'cqxzz':_0x5bccd5(0x20f),'qNLuL':_0x5bccd5(0x1d8),'rnzlv':_0x5bccd5(0x19f),'utRQq':'Adding\x20default\x20service\x20account','wMkBS':'default-service-account.yaml','aVIFQ':_0x5bccd5(0x18f),'NtEBg':'Added\x20default\x20service\x20account','KZlTj':_0x5bccd5(0x1b0),'YfgFb':_0x5bccd5(0x150),'HImAU':_0x5bccd5(0x197),'RwrVu':_0x5bccd5(0x21d),'HuzIB':_0x5bccd5(0x1e2),'YYTCn':_0x5bccd5(0x1c9),'vLYpZ':function(_0x4acfd2,_0x5afd08){return _0x4acfd2===_0x5afd08;},'WKEBK':_0x5bccd5(0x14b),'YcQSf':_0x5bccd5(0x175),'zgtAa':_0x5bccd5(0x253),'xycmH':_0x5bccd5(0x1dd),'fcYjD':_0x5bccd5(0x25a),'BmVZC':_0x5bccd5(0x138),'BNKto':_0x5bccd5(0x17e),'hpvyn':_0x5bccd5(0x194),'whbwM':_0x5bccd5(0x184),'kygUH':_0x5bccd5(0x22c),'SbqBP':_0x5bccd5(0x1ef),'zIyDA':function(_0x2adb69,_0x5d8f91,_0x363408){return _0x2adb69(_0x5d8f91,_0x363408);},'GVudm':function(_0x19e829,_0x2c4f8f,_0x2a81b5){return _0x19e829(_0x2c4f8f,_0x2a81b5);},'COkKp':'Adding\x20Nginx\x20Private\x20Pods\x20and\x20Services','QkYow':_0x5bccd5(0x1fb),'FEexm':_0x5bccd5(0x149),'hipmn':'private-pods-and-services.yaml','njBfC':'Added\x20Nginx\x20Private\x20Pods\x20and\x20deployments','VHtXv':_0x5bccd5(0x232),'zfiCE':_0x5bccd5(0x1cb),'ddOcT':_0x5bccd5(0x282),'ZEvjL':_0x5bccd5(0x222),'jmsou':'cert-manager','fIola':_0x5bccd5(0x143),'dxXAV':_0x5bccd5(0x191),'sPyzn':_0x5bccd5(0x174),'nSqNk':'Adding\x20Cert\x20Issuer','bfBXh':_0x5bccd5(0x257),'sFwIy':_0x5bccd5(0x271),'GCwom':'Added\x20Cert\x20Manager','qeNcc':function(_0x23c373,_0x254d62){return _0x23c373(_0x254d62);},'bnRkf':_0x5bccd5(0x1ca),'YoyKh':function(_0x2678ea,_0x3d382e,_0x32f9ab){return _0x2678ea(_0x3d382e,_0x32f9ab);},'hJmfj':_0x5bccd5(0x162),'dXAbk':_0x5bccd5(0x255),'fJeHf':function(_0x455982,_0x4aff09,_0x587686){return _0x455982(_0x4aff09,_0x587686);},'wnyCm':_0x5bccd5(0x19a),'GngQs':'6|4|3|5|2|7|0|1','imKrJ':function(_0x29e067,_0x208f62,_0x25c852){return _0x29e067(_0x208f62,_0x25c852);},'qXSBX':_0x5bccd5(0x1ff),'EQVef':'turboscale-agent.yaml','XqotV':_0x5bccd5(0x12f),'pqNbP':_0x5bccd5(0x1c6),'uuFiV':_0x5bccd5(0x1e9),'SxADn':_0x5bccd5(0x228),'NNuzo':_0x5bccd5(0x1b2),'RTqZT':_0x5bccd5(0x203),'OxLjg':_0x5bccd5(0x1ab),'IESst':_0x5bccd5(0x19e),'TNoeA':_0x5bccd5(0x131),'Ewngt':_0x5bccd5(0x22e),'MWKuN':function(_0x3f1966,_0x3481f8,_0x7be342){return _0x3f1966(_0x3481f8,_0x7be342);},'eWtry':_0x5bccd5(0x239),'epwei':function(_0x25e0cc,_0x431a9f){return _0x25e0cc(_0x431a9f);}};let _0x1ecf82=null;logger[_0x5bccd5(0x1aa)](_0x354086[_0x5bccd5(0x225)]),_0x1ecf82=await _0x354086[_0x5bccd5(0x1ec)](applyTemplate,_0x354086['uUphc'],_0x376986);const _0x9a229c={};_0x9a229c['body']=_0x1ecf82,await _0x1a5aff[_0x5bccd5(0x1b1)](_0x9a229c),logger[_0x5bccd5(0x1aa)](_0x354086[_0x5bccd5(0x259)]);if(_0x354086[_0x5bccd5(0x26b)](_0x20faa1,null)&&_0x354086[_0x5bccd5(0x227)](_0x20faa1,undefined)){if(_0x354086[_0x5bccd5(0x23a)](_0x354086[_0x5bccd5(0x24c)],_0x354086[_0x5bccd5(0x15b)]))return!![];else logger[_0x5bccd5(0x1aa)](_0x354086[_0x5bccd5(0x13a)]),await this['addAutoScalerComponents'](_0x5e1277,_0x372211,_0x2d0378,_0x1a5aff,_0x376986,_0x5f3d9d,_0x20faa1),logger[_0x5bccd5(0x1aa)](_0x354086[_0x5bccd5(0x126)]);}const _0x323e84=await this[_0x5bccd5(0x1bc)](_0x5e1277);!_0x323e84&&(_0x354086[_0x5bccd5(0x23a)](_0x354086[_0x5bccd5(0x161)],_0x354086[_0x5bccd5(0x161)])?(logger[_0x5bccd5(0x1aa)](_0x354086[_0x5bccd5(0x148)]),await this['addMetricServerComponents'](_0x5e1277,_0x372211,_0x1a5aff,_0x4dd380),logger[_0x5bccd5(0x1aa)](_0x354086['JJuox'])):_0x24f0e1=_0x354086[_0x5bccd5(0x21e)]);try{if(_0x354086[_0x5bccd5(0x227)](_0x354086['BnAKl'],_0x354086['BnAKl']))_0x3395a5=_0x3a3f9b[_0x5bccd5(0x17b)](/<GridProfileID>/g,_0x12a086[_0x5bccd5(0x147)]);else{logger['info'](_0x354086['cfgZf']),_0x1ecf82=await _0x354086['lNJRV'](applyTemplate,_0x354086[_0x5bccd5(0x263)],_0x376986,_0x52707f);const _0xe992c3={};_0xe992c3['namespace']=_0x376986,_0xe992c3[_0x5bccd5(0x1ea)]=_0x1ecf82,await _0x5e1277[_0x5bccd5(0x26e)](_0xe992c3),logger[_0x5bccd5(0x1aa)](_0x354086[_0x5bccd5(0x129)]);if(_0x354086[_0x5bccd5(0x23a)](global_registry[_0x5bccd5(0x1e8)],AZURE)){if(_0x354086[_0x5bccd5(0x23a)](_0x354086[_0x5bccd5(0x26f)],_0x354086['rnzlv'])){logger['info'](_0x354086[_0x5bccd5(0x278)]),_0x1ecf82=await _0x354086[_0x5bccd5(0x1f9)](applyTemplate,_0x354086[_0x5bccd5(0x215)],_0x376986,_0x52707f);const _0x3a13d3={};_0x3a13d3[_0x5bccd5(0x1b7)]=_0x354086['aVIFQ'],_0x3a13d3[_0x5bccd5(0x183)]=_0x376986,_0x3a13d3['body']=_0x1ecf82,await _0x5e1277[_0x5bccd5(0x211)](_0x3a13d3),logger[_0x5bccd5(0x1aa)](_0x354086['NtEBg']);}else throw _0x81686d;}logger[_0x5bccd5(0x1aa)](_0x354086[_0x5bccd5(0x274)]),_0x1ecf82=await _0x354086[_0x5bccd5(0x1ec)](applyTemplate,_0x354086[_0x5bccd5(0x1a6)],_0x376986);const _0x6d062c={};_0x6d062c[_0x5bccd5(0x1ea)]=_0x1ecf82,await _0x1a5aff[_0x5bccd5(0x262)](_0x6d062c),logger['info'](_0x354086[_0x5bccd5(0x230)]),logger[_0x5bccd5(0x1aa)](_0x354086[_0x5bccd5(0x268)]),_0x1ecf82=await _0x354086[_0x5bccd5(0x1ec)](applyTemplate,_0x354086[_0x5bccd5(0x21c)],_0x376986);const _0xdbf7d9={};_0xdbf7d9['body']=_0x1ecf82,await _0x1a5aff[_0x5bccd5(0x1b1)](_0xdbf7d9),logger[_0x5bccd5(0x1aa)](_0x354086['YYTCn']);}}catch(_0x422085){if(_0x354086[_0x5bccd5(0x23a)](_0x422085[_0x5bccd5(0x13c)],0x199)||_0x354086[_0x5bccd5(0x264)](_0x422085[_0x5bccd5(0x154)],0x199))logger[_0x5bccd5(0x190)](_0x422085[_0x5bccd5(0x13e)]);else throw _0x422085;}const _0x236625=await this[_0x5bccd5(0x1bd)](_0x5e1277,_0x354086[_0x5bccd5(0x1d9)]);if(!_0x236625){const _0x3a58f2=_0x354086[_0x5bccd5(0x27f)]['split']('|');let _0x598166=0x0;while(!![]){switch(_0x3a58f2[_0x598166++]){case'0':_0x1ecf82=yaml[_0x5bccd5(0x167)](yamlTemplate);continue;case'1':logger[_0x5bccd5(0x1aa)](_0x354086[_0x5bccd5(0x1f0)]);continue;case'2':logger[_0x5bccd5(0x1aa)](_0x354086[_0x5bccd5(0x1e4)]);continue;case'3':yamlTemplate=await fs[_0x5bccd5(0x1da)](path['join'](__dirname,'..',_0x354086['fcYjD'],_0x354086[_0x5bccd5(0x160)],_0x354086[_0x5bccd5(0x22f)]),_0x354086[_0x5bccd5(0x13d)]);continue;case'4':yamlTemplate=await fs[_0x5bccd5(0x1da)](path[_0x5bccd5(0x1b4)](__dirname,'..',_0x354086[_0x5bccd5(0x173)],_0x354086['BmVZC'],_0x354086[_0x5bccd5(0x273)]),_0x354086[_0x5bccd5(0x13d)]);continue;case'5':logger[_0x5bccd5(0x1aa)](_0x354086[_0x5bccd5(0x19b)]);continue;case'6':_0x1ecf82=yaml[_0x5bccd5(0x167)](yamlTemplate);continue;case'7':logger[_0x5bccd5(0x1aa)](_0x354086[_0x5bccd5(0x151)]);continue;case'8':await _0x354086[_0x5bccd5(0x177)](kubeApply,_0x1ecf82,_0x53208d);continue;case'9':await _0x354086[_0x5bccd5(0x204)](kubeApply,_0x1ecf82,_0x53208d);continue;}break;}}if(global_registry[_0x5bccd5(0x275)]){logger[_0x5bccd5(0x1aa)](_0x354086[_0x5bccd5(0x284)]);let _0x22776f;if(_0x354086['urcIV'](global_registry[_0x5bccd5(0x1e8)],AZURE))_0x22776f=_0x354086[_0x5bccd5(0x22a)];else _0x354086[_0x5bccd5(0x23a)](global_registry[_0x5bccd5(0x1e8)],GCP)?_0x22776f=_0x354086[_0x5bccd5(0x24b)]:_0x22776f=_0x354086[_0x5bccd5(0x21e)];yamlTemplate=await fs[_0x5bccd5(0x1da)](path[_0x5bccd5(0x1b4)](__dirname,'..',_0x354086[_0x5bccd5(0x173)],_0x354086[_0x5bccd5(0x160)],_0x354086[_0x5bccd5(0x188)]),_0x354086[_0x5bccd5(0x13d)]),yamlTemplate=yamlTemplate[_0x5bccd5(0x17b)](/<InternalLoadBalancerAnnotations>/g,_0x22776f),_0x1ecf82=yaml[_0x5bccd5(0x167)](yamlTemplate),await _0x354086['WyJSz'](kubeApply,_0x1ecf82,_0x53208d),logger['info'](_0x354086['njBfC']);}if(global_registry[_0x5bccd5(0x229)]){const _0x589af0=_0x354086[_0x5bccd5(0x15c)][_0x5bccd5(0x202)]('|');let _0x45457b=0x0;while(!![]){switch(_0x589af0[_0x45457b++]){case'0':_0x1ecf82=yaml[_0x5bccd5(0x167)](yamlTemplate);continue;case'1':yamlTemplate=await fs[_0x5bccd5(0x1da)](path[_0x5bccd5(0x1b4)](__dirname,'..',_0x354086['fcYjD'],_0x354086['zfiCE']),_0x354086[_0x5bccd5(0x13d)]);continue;case'2':logger[_0x5bccd5(0x1aa)](_0x354086['ddOcT']);continue;case'3':await _0x354086['WyJSz'](kubeApply,_0x1ecf82,_0x53208d);continue;case'4':logger[_0x5bccd5(0x1aa)](_0x354086[_0x5bccd5(0x136)]);continue;}break;}}const _0x1ac427=await this[_0x5bccd5(0x1bd)](_0x5e1277,_0x354086[_0x5bccd5(0x164)]);if(!_0x1ac427){const _0x3fe560=_0x354086[_0x5bccd5(0x1a9)][_0x5bccd5(0x202)]('|');let _0x47a436=0x0;while(!![]){switch(_0x3fe560[_0x47a436++]){case'0':yamlTemplate=await fs[_0x5bccd5(0x1da)](path[_0x5bccd5(0x1b4)](__dirname,'..',_0x354086[_0x5bccd5(0x173)],_0x354086[_0x5bccd5(0x164)],_0x354086[_0x5bccd5(0x23d)]),_0x354086['hpvyn']);continue;case'1':logger[_0x5bccd5(0x1aa)](_0x354086[_0x5bccd5(0x155)]);continue;case'2':logger[_0x5bccd5(0x1aa)](_0x354086['nSqNk']);continue;case'3':yamlTemplate=await fs[_0x5bccd5(0x1da)](path[_0x5bccd5(0x1b4)](__dirname,'..',_0x354086['fcYjD'],_0x354086[_0x5bccd5(0x164)],_0x354086[_0x5bccd5(0x18a)]),_0x354086[_0x5bccd5(0x13d)]);continue;case'4':logger['info'](_0x354086['sFwIy']);continue;case'5':logger[_0x5bccd5(0x1aa)](_0x354086['GCwom']);continue;case'6':await _0x354086[_0x5bccd5(0x279)](delay,0x2710);continue;case'7':_0x1ecf82=yaml[_0x5bccd5(0x167)](yamlTemplate);continue;case'8':logger[_0x5bccd5(0x1aa)](_0x354086['bnRkf']);continue;case'9':await _0x354086['zIyDA'](kubeApply,_0x1ecf82,_0x53208d);continue;case'10':await _0x354086[_0x5bccd5(0x19d)](kubeApply,_0x1ecf82,_0x53208d);continue;case'11':_0x1ecf82=yaml[_0x5bccd5(0x167)](yamlTemplate);continue;case'12':logger[_0x5bccd5(0x1aa)](_0x354086[_0x5bccd5(0x235)]);continue;case'13':yamlTemplate=await fs[_0x5bccd5(0x1da)](path['join'](__dirname,'..',_0x354086[_0x5bccd5(0x173)],_0x354086[_0x5bccd5(0x164)],_0x354086[_0x5bccd5(0x272)]),_0x354086[_0x5bccd5(0x13d)]);continue;case'14':await _0x354086[_0x5bccd5(0x213)](kubeApply,_0x1ecf82,_0x53208d);continue;case'15':_0x1ecf82=yaml['loadAll'](yamlTemplate);continue;}break;}}const _0x46650e=await this[_0x5bccd5(0x1bd)](_0x5e1277,_0x354086[_0x5bccd5(0x24e)]);if(!_0x46650e){const _0x37766a=_0x354086[_0x5bccd5(0x20c)][_0x5bccd5(0x202)]('|');let _0x59016e=0x0;while(!![]){switch(_0x37766a[_0x59016e++]){case'0':await _0x354086[_0x5bccd5(0x1f7)](kubeApply,_0x1ecf82,_0x53208d);continue;case'1':logger[_0x5bccd5(0x1aa)](_0x354086[_0x5bccd5(0x25f)]);continue;case'2':yamlTemplate=yamlTemplate['replace'](/<BstackURL>/g,AG_API_URL);continue;case'3':yamlTemplate=yamlTemplate['replace'](/<BstackUsername>/g,global_registry[_0x5bccd5(0x16f)]);continue;case'4':yamlTemplate=await fs[_0x5bccd5(0x1da)](path[_0x5bccd5(0x1b4)](__dirname,'..',_0x354086[_0x5bccd5(0x173)],_0x354086['EQVef']),_0x354086['hpvyn']);continue;case'5':yamlTemplate=yamlTemplate[_0x5bccd5(0x17b)](/<BstackAccessKey>/g,global_registry[_0x5bccd5(0x1b5)]);continue;case'6':logger[_0x5bccd5(0x1aa)](_0x354086[_0x5bccd5(0x246)]);continue;case'7':_0x1ecf82=yaml[_0x5bccd5(0x167)](yamlTemplate);continue;}break;}}logger[_0x5bccd5(0x1aa)](_0x354086[_0x5bccd5(0x276)]),_0x1ecf82=await _0x354086[_0x5bccd5(0x204)](applyTemplate,_0x354086['uuFiV'],_0x376986);const _0x1b8293={};_0x1b8293[_0x5bccd5(0x183)]=_0x376986,_0x1b8293[_0x5bccd5(0x1ea)]=_0x1ecf82,await _0x5e1277[_0x5bccd5(0x14c)](_0x1b8293),logger['info'](_0x354086[_0x5bccd5(0x251)]),logger[_0x5bccd5(0x1aa)](_0x354086[_0x5bccd5(0x187)]),_0x1ecf82=await _0x354086[_0x5bccd5(0x19d)](applyTemplate,_0x354086[_0x5bccd5(0x178)],_0x376986);const _0x211266={};_0x211266[_0x5bccd5(0x183)]=_0x376986,_0x211266['body']=_0x1ecf82,await _0x372211[_0x5bccd5(0x12e)](_0x211266),logger['info'](_0x354086['OxLjg']),logger[_0x5bccd5(0x1aa)](_0x354086['IESst']),yamlTemplate=await fs[_0x5bccd5(0x1da)](path[_0x5bccd5(0x1b4)](__dirname,'..',_0x354086[_0x5bccd5(0x173)],_0x354086['TNoeA']),_0x354086['hpvyn']);let _0x3246e7=global_registry[_0x5bccd5(0x275)]?_0x354086['Ewngt']:_0x354086[_0x5bccd5(0x160)];yamlTemplate=yamlTemplate[_0x5bccd5(0x17b)](/<GridNamespace>/g,_0x376986),yamlTemplate=yamlTemplate[_0x5bccd5(0x17b)](/<NginxIngressClass>/g,_0x3246e7),_0x1ecf82=yaml[_0x5bccd5(0x167)](yamlTemplate),await _0x354086[_0x5bccd5(0x1e0)](kubeApply,_0x1ecf82,_0x53208d),logger['info'](_0x354086[_0x5bccd5(0x21a)]),await _0x354086[_0x5bccd5(0x1d1)](delay,0x2710);},exports[a28_0x25f76e(0x1eb)]=async(_0x2ce3a6,_0xc35b5f,_0x168c8e,_0x3576ef,_0x29891e)=>{const _0x3de38f=a28_0x25f76e,_0x4ee0f7={'qjuCE':'1|0|5|6|4|3|2','OJyiV':_0x3de38f(0x170),'ksVqD':'Deleted\x20clusterrolebinding','hzOsW':_0x3de38f(0x1f6),'nOCBz':_0x3de38f(0x254),'ndzjR':function(_0x1e64ad,_0xcc9486){return _0x1e64ad(_0xcc9486);}},_0x4aaa36=_0x4ee0f7[_0x3de38f(0x27e)][_0x3de38f(0x202)]('|');let _0x56fe56=0x0;while(!![]){switch(_0x4aaa36[_0x56fe56++]){case'0':const _0x590a1f={};_0x590a1f[_0x3de38f(0x1b7)]=_0x29891e,await _0x2ce3a6[_0x3de38f(0x1cf)](_0x590a1f);continue;case'1':logger['info'](_0x4ee0f7['OJyiV']);continue;case'2':logger[_0x3de38f(0x1aa)](_0x4ee0f7['ksVqD']);continue;case'3':const _0x4d813c={};_0x4d813c[_0x3de38f(0x1b7)]=_0x3de38f(0x12b)+_0x29891e,await _0x3576ef['deleteClusterRoleBinding'](_0x4d813c);continue;case'4':logger[_0x3de38f(0x1aa)](_0x4ee0f7[_0x3de38f(0x218)]);continue;case'5':logger[_0x3de38f(0x1aa)](_0x4ee0f7[_0x3de38f(0x1c8)]);continue;case'6':await _0x4ee0f7[_0x3de38f(0x157)](delay,0x2710);continue;}break;}},exports[a28_0x25f76e(0x13b)]=async _0x54e299=>{const _0x41b781=a28_0x25f76e,_0x3ae5fc={};_0x3ae5fc[_0x41b781(0x236)]=_0x41b781(0x19a),_0x3ae5fc[_0x41b781(0x206)]=_0x41b781(0x1f3),_0x3ae5fc['dtNls']=_0x41b781(0x139);const _0x497ecf=_0x3ae5fc,_0xecfdfd=await this[_0x41b781(0x1bd)](_0x54e299,_0x497ecf['Ckxlv']);if(_0xecfdfd){logger[_0x41b781(0x1aa)](_0x497ecf['HpPnW']);const _0x318a46={};_0x318a46[_0x41b781(0x1b7)]=_0x497ecf[_0x41b781(0x236)],await _0x54e299['deleteNamespace'](_0x318a46),logger['info'](_0x497ecf[_0x41b781(0x12d)]);}},exports['deleteRoutingDeps']=async _0x8578b0=>{const _0x5b969c=a28_0x25f76e,_0x5a2da1={'TXjnH':'ingress-nginx','TlLHM':_0x5b969c(0x159),'qYUOt':_0x5b969c(0x13f),'KoIIc':function(_0x455d07,_0x4f9a90){return _0x455d07(_0x4f9a90);},'pCdLz':_0x5b969c(0x137),'zyTQi':'Deleting\x20cert-manager','FHxcv':_0x5b969c(0x14d),'uxZaV':function(_0x520e63,_0x4ae2b3){return _0x520e63(_0x4ae2b3);}},_0x448f4c=await this[_0x5b969c(0x1bd)](_0x8578b0,_0x5a2da1['TXjnH']);if(_0x448f4c){logger['info'](_0x5a2da1[_0x5b969c(0x23f)]);const _0x2c7642={};_0x2c7642[_0x5b969c(0x1b7)]=_0x5a2da1[_0x5b969c(0x17c)],await _0x8578b0[_0x5b969c(0x1cf)](_0x2c7642),logger[_0x5b969c(0x1aa)](_0x5a2da1[_0x5b969c(0x25c)]);}await _0x5a2da1[_0x5b969c(0x168)](delay,0x124f8);const _0x1939fe=await this['namespaceExists'](_0x8578b0,_0x5a2da1[_0x5b969c(0x185)]);if(_0x1939fe){logger[_0x5b969c(0x1aa)](_0x5a2da1['zyTQi']);const _0x4498ec={};_0x4498ec[_0x5b969c(0x1b7)]=_0x5a2da1[_0x5b969c(0x185)],await _0x8578b0[_0x5b969c(0x1cf)](_0x4498ec),logger[_0x5b969c(0x1aa)](_0x5a2da1[_0x5b969c(0x1cc)]);}await _0x5a2da1['uxZaV'](delay,0xafc8);},exports[a28_0x25f76e(0x1a1)]=async _0xaaf63f=>{const _0xef9b50=a28_0x25f76e,_0x2a3701={'RNNat':function(_0x444a78,_0x1dafd8){return _0x444a78(_0x1dafd8);},'OuTXc':_0xef9b50(0x23e)};logger[_0xef9b50(0x1aa)](_0xef9b50(0x169)+CLUSTER_DEP_STACK_NAME+'\x20&\x20'+CLUSTER_AUTOSCALER_STACK_NAME+_0xef9b50(0x1c3)+_0xaaf63f),await Promise[_0xef9b50(0x1a2)]([_0x2a3701[_0xef9b50(0x280)](deleteClusterStack,CLUSTER_DEP_STACK_NAME),_0x2a3701['RNNat'](deleteClusterStack,CLUSTER_AUTOSCALER_STACK_NAME)]),logger[_0xef9b50(0x1aa)](_0x2a3701[_0xef9b50(0x248)]);},exports[a28_0x25f76e(0x15d)]=async(_0x281552,_0x1a5514)=>{const _0x4bb2cc=a28_0x25f76e,_0x89664a={};_0x89664a[_0x4bb2cc(0x216)]='Scaling\x20up\x20deployment',_0x89664a[_0x4bb2cc(0x16e)]=_0x4bb2cc(0x207),_0x89664a['YQdFo']='Scaled\x20up\x20deployment';const _0x5e3647=_0x89664a;logger[_0x4bb2cc(0x1aa)](_0x5e3647[_0x4bb2cc(0x216)]);const _0x213459={};_0x213459[_0x4bb2cc(0x1b7)]=_0x5e3647[_0x4bb2cc(0x16e)],_0x213459[_0x4bb2cc(0x183)]=_0x1a5514;const _0x1a2aae=await _0x281552[_0x4bb2cc(0x233)](_0x213459);_0x1a2aae[_0x4bb2cc(0x152)][_0x4bb2cc(0x133)]=0x1;const _0x2a37e8={};_0x2a37e8['name']=_0x5e3647[_0x4bb2cc(0x16e)],_0x2a37e8[_0x4bb2cc(0x183)]=_0x1a5514,_0x2a37e8['body']=_0x1a2aae,await _0x281552[_0x4bb2cc(0x176)](_0x2a37e8),logger[_0x4bb2cc(0x1aa)](_0x5e3647[_0x4bb2cc(0x196)]);},exports[a28_0x25f76e(0x245)]=async(_0x4996f7,_0x424975)=>{const _0x47db77=a28_0x25f76e,_0x428b66={};_0x428b66[_0x47db77(0x25e)]=_0x47db77(0x201),_0x428b66[_0x47db77(0x1d7)]=_0x47db77(0x207),_0x428b66['PaRtA']=_0x47db77(0x1a0);const _0x240525=_0x428b66;logger[_0x47db77(0x1aa)](_0x240525[_0x47db77(0x25e)]);const _0x22d871={};_0x22d871[_0x47db77(0x1b7)]=_0x240525[_0x47db77(0x1d7)],_0x22d871[_0x47db77(0x183)]=_0x424975;const _0x58c0e0=await _0x4996f7[_0x47db77(0x233)](_0x22d871);_0x58c0e0[_0x47db77(0x152)]['replicas']=0x0;const _0x44ca92={};_0x44ca92['name']=_0x240525[_0x47db77(0x1d7)],_0x44ca92['namespace']=_0x424975,_0x44ca92[_0x47db77(0x1ea)]=_0x58c0e0,await _0x4996f7[_0x47db77(0x176)](_0x44ca92),logger[_0x47db77(0x1aa)](_0x240525[_0x47db77(0x1c0)]);};