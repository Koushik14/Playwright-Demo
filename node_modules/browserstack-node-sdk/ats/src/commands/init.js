const a12_0x1d6446=a12_0x5318;function a12_0x5318(_0x20e811,_0x5cf9fb){const _0x213032=a12_0x2130();return a12_0x5318=function(_0x531854,_0x574bd8){_0x531854=_0x531854-0x15d;let _0x1fac0a=_0x213032[_0x531854];return _0x1fac0a;},a12_0x5318(_0x20e811,_0x5cf9fb);}(function(_0xa0f253,_0x4118b2){const _0x3dff21=a12_0x5318,_0x2c73dd=_0xa0f253();while(!![]){try{const _0x86e6b8=-parseInt(_0x3dff21(0x193))/0x1+-parseInt(_0x3dff21(0x1c4))/0x2*(parseInt(_0x3dff21(0x179))/0x3)+-parseInt(_0x3dff21(0x192))/0x4+-parseInt(_0x3dff21(0x160))/0x5*(parseInt(_0x3dff21(0x1c7))/0x6)+parseInt(_0x3dff21(0x163))/0x7+-parseInt(_0x3dff21(0x17f))/0x8*(parseInt(_0x3dff21(0x19d))/0x9)+-parseInt(_0x3dff21(0x1ba))/0xa*(-parseInt(_0x3dff21(0x184))/0xb);if(_0x86e6b8===_0x4118b2)break;else _0x2c73dd['push'](_0x2c73dd['shift']());}catch(_0x17fbd9){_0x2c73dd['push'](_0x2c73dd['shift']());}}}(a12_0x2130,0xb1fd8));function a12_0x2130(){const _0x4df37c=['AzvXc','XMNmN','ORWAO','JTMDZ','11fuJMxL','username','epilogue','ERROR','pKbhb','stack','existsSync','DFuYm','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','OBpyJ','strict','readFileSync','nHGHc','uRlqV','2562324jCLLpR','124013vhMkqU','HYEBI','PDkEH','eOpOx','QxYiG','qXbbO','TzlFj','Jaoqa','bstackUsername','Qgybc','4225113trhOfO','BROWSERSTACK_USERNAME','eoCPR','../config/logger','argv','parse','help','uqzGK','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','string','debug','../utils/utilityMethods','/automate/plan.json','recommendCommands','vjjVR','DwfCx','dclwp','unknown-error','cJdnk','got','../utils/instrumentationUtils','type','PeqaO','exit','init','stringify','wqfha','yVkJo','nEwMR','29017310brZnuJ','Eryjm','options','xnmXN','Tytqo','BROWSERSTACK_ACCESS_KEY','../utils/userInput','wvDyE','desc','init-called','155036nZSzjL','builder','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','48BqWJCE','oDMPI','GwpKR','TXNSG','573185fmLvkF','mkdirSync','GzWwy','5848577gJhGqR','bstack-username','eirJJ','error','bstackAccesskey','GET','VXlxG','aMroC','dHUPK','asovt','PRGuw','requestId','ykPgK','ubPBT','description','bstack-accesskey','statusCode','env','usage','aNXCV','password','hNQkq','15FpOYTI','bfIWK','utf-8','WliDt','writeFileSync','FkbkZ','16aLqJwx'];a12_0x2130=function(){return _0x4df37c;};return a12_0x2130();}const fs=require('fs'),util=require('util'),got=require(a12_0x1d6446(0x1b0)),{v4:uuidv4}=require('uuid'),{logger}=require(a12_0x1d6446(0x1a0)),{inputBstackKeys}=require(a12_0x1d6446(0x1c0)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require('../config/constants'),{getDirForConfig,getCredentialsPath,getAuthHeader}=require(a12_0x1d6446(0x1a8)),{sendInstrumentationEvent}=require(a12_0x1d6446(0x1b1));exports['command']='init',exports[a12_0x1d6446(0x1c2)]=a12_0x1d6446(0x1c6),exports[a12_0x1d6446(0x1c5)]=function(_0x16bb12){const _0x4c5a74=a12_0x1d6446,_0x5b0d24={};_0x5b0d24[_0x4c5a74(0x16a)]=_0x4c5a74(0x1a5),_0x5b0d24[_0x4c5a74(0x1bb)]=_0x4c5a74(0x1a6),_0x5b0d24[_0x4c5a74(0x16c)]='Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x5b0d24[_0x4c5a74(0x16b)]=_0x4c5a74(0x1a3);const _0x13d912=_0x5b0d24,_0x40bb55={};_0x40bb55[_0x4c5a74(0x171)]=_0x13d912[_0x4c5a74(0x16a)],_0x40bb55[_0x4c5a74(0x1b2)]=_0x13d912[_0x4c5a74(0x1bb)];const _0x16f4fc={};_0x16f4fc[_0x4c5a74(0x171)]=_0x13d912[_0x4c5a74(0x16c)],_0x16f4fc['type']=_0x13d912[_0x4c5a74(0x1bb)];const _0x5941f3={};return _0x5941f3[_0x4c5a74(0x164)]=_0x40bb55,_0x5941f3[_0x4c5a74(0x172)]=_0x16f4fc,_0x16bb12[_0x4c5a74(0x175)](HELP_HEADER_MESSAGE[_0x4c5a74(0x1b5)])[_0x4c5a74(0x186)](HELP_FOOTER_MESSAGE)[_0x4c5a74(0x1bc)](_0x5941f3)[_0x4c5a74(0x1aa)]()[_0x4c5a74(0x18e)]()[_0x4c5a74(0x1a3)](_0x13d912[_0x4c5a74(0x16b)])[_0x4c5a74(0x1a1)];},exports['handler']=async function(_0x1fce1b){const _0x28f7da=a12_0x1d6446,_0x1fb976={'wqfha':_0x28f7da(0x17b),'pKbhb':function(_0x478a56){return _0x478a56();},'ORWAO':_0x28f7da(0x1a5),'PDkEH':_0x28f7da(0x1a6),'cJdnk':_0x28f7da(0x18c),'eirJJ':'help','ubPBT':function(_0x12dd5e,_0x5d2e21,_0x5cc16e,_0x2cef78,_0x189ed1,_0x2cd7e9,_0x194ace){return _0x12dd5e(_0x5d2e21,_0x5cc16e,_0x2cef78,_0x189ed1,_0x2cd7e9,_0x194ace);},'hNQkq':_0x28f7da(0x1c3),'nHGHc':function(_0x2eec70,_0x5515ee){return _0x2eec70!==_0x5515ee;},'bfIWK':_0x28f7da(0x1c1),'TzlFj':function(_0x2c062f,_0x33f130){return _0x2c062f===_0x33f130;},'nEwMR':_0x28f7da(0x176),'Jaoqa':function(_0x407362,_0x531c50){return _0x407362===_0x531c50;},'Tytqo':'hESYG','Qgybc':_0x28f7da(0x17c),'VXlxG':function(_0x3c4eb2,_0x447898){return _0x3c4eb2!==_0x447898;},'GwpKR':_0x28f7da(0x15f),'eOpOx':_0x28f7da(0x1ad),'DFuYm':_0x28f7da(0x1ab),'AzvXc':function(_0x14a327,_0x5997d7){return _0x14a327===_0x5997d7;},'DwfCx':function(_0x2b7206,_0x1f3547){return _0x2b7206===_0x1f3547;},'CutZg':function(_0x58cb8f,_0x130ba5){return _0x58cb8f===_0x130ba5;},'FkbkZ':_0x28f7da(0x197),'XMNmN':'AYZBd','qXbbO':'BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','eoCPR':_0x28f7da(0x168),'GzWwy':function(_0x558e65,_0x1fb13d,_0xf4bd3){return _0x558e65(_0x1fb13d,_0xf4bd3);},'xnmXN':_0x28f7da(0x1b3),'ykPgK':function(_0x54a732,_0x5dae2b){return _0x54a732===_0x5dae2b;},'yVkJo':'NekoU','JTMDZ':_0x28f7da(0x191),'OBpyJ':function(_0x6b4253){return _0x6b4253();},'PRGuw':_0x28f7da(0x15d),'mDGwA':'Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','HYEBI':'wrong-creds','uqzGK':_0x28f7da(0x1ae)};try{global_registry[_0x28f7da(0x16e)]=_0x1fb976[_0x28f7da(0x188)](uuidv4),_0x1fb976[_0x28f7da(0x170)](sendInstrumentationEvent,_0x1fce1b,_0x1fb976[_0x28f7da(0x178)],messageTypes['INFO'],null,null,_0x1fce1b);const _0x1a8a2b=_0x1fb976['pKbhb'](getDirForConfig);!fs['existsSync'](_0x1a8a2b)&&(_0x1fb976[_0x28f7da(0x190)](_0x1fb976[_0x28f7da(0x17a)],_0x1fb976[_0x28f7da(0x17a)])?_0x167715=_0xe12b5a['env'][_0x28f7da(0x1bf)]:fs[_0x28f7da(0x161)](_0x1a8a2b));let _0x2013ab,_0x5ba0fb;process[_0x28f7da(0x174)][_0x28f7da(0x19e)]&&(_0x1fb976[_0x28f7da(0x199)](_0x1fb976[_0x28f7da(0x1b9)],_0x1fb976['nEwMR'])?_0x2013ab=process[_0x28f7da(0x174)][_0x28f7da(0x19e)]:_0x19aa5f=_0xfa967f[_0x28f7da(0x1a2)](_0x43a382['readFileSync'](_0x215c52,_0x1fb976[_0x28f7da(0x1b7)])));process[_0x28f7da(0x174)][_0x28f7da(0x1bf)]&&(_0x1fb976[_0x28f7da(0x19a)](_0x1fb976[_0x28f7da(0x1be)],_0x1fb976[_0x28f7da(0x19c)])?_0x5ddb25=_0x4e0cb9['bstackUsername']:_0x5ba0fb=process[_0x28f7da(0x174)][_0x28f7da(0x1bf)]);if(_0x1fce1b[_0x28f7da(0x19b)]){if(_0x1fb976[_0x28f7da(0x169)](_0x1fb976[_0x28f7da(0x15e)],_0x1fb976[_0x28f7da(0x15e)])){let _0x2f811a={};const _0x27f960=_0x1fb976[_0x28f7da(0x188)](_0x49b80b);_0x4501d0[_0x28f7da(0x18a)](_0x27f960)&&(_0x2f811a=_0x4b5d7c[_0x28f7da(0x1a2)](_0x44718f['readFileSync'](_0x27f960,_0x1fb976[_0x28f7da(0x1b7)])));const _0x302649={};_0x302649[_0x28f7da(0x185)]=_0x416b0d,_0x302649[_0x28f7da(0x177)]=_0x454207,_0x2f811a['Browserstack']=_0x302649,_0x59426f[_0x28f7da(0x17d)](_0x27f960,_0x3974d2['stringify'](_0x2f811a)),_0xb9a3c5[_0x28f7da(0x1b4)](0x0);}else _0x2013ab=_0x1fce1b[_0x28f7da(0x19b)];}_0x1fce1b['bstackAccesskey']&&(_0x1fb976[_0x28f7da(0x169)](_0x1fb976[_0x28f7da(0x196)],_0x1fb976[_0x28f7da(0x18b)])?_0x5ba0fb=_0x1fce1b[_0x28f7da(0x167)]:_0xbdede3=_0x24680a[_0x28f7da(0x174)][_0x28f7da(0x19e)]);if(_0x1fb976['AzvXc'](_0x2013ab,undefined)||_0x1fb976[_0x28f7da(0x1ac)](_0x5ba0fb,undefined)){if(_0x1fb976['CutZg'](_0x1fb976[_0x28f7da(0x17e)],_0x1fb976[_0x28f7da(0x181)]))_0x3528f3['mkdirSync'](_0x4dcba5);else{logger[_0x28f7da(0x1a7)](_0x1fb976[_0x28f7da(0x198)]);const [_0x2cb727,_0xc50bb9]=await _0x1fb976[_0x28f7da(0x188)](inputBstackKeys);_0x2013ab=_0x2cb727,_0x5ba0fb=_0xc50bb9;}}let _0x3e2c59=![];const _0x26bc68='https://'+_0x2013ab+':'+_0x5ba0fb+'@'+BS_API_URL+_0x28f7da(0x1a9),_0x24ae2e={'method':_0x1fb976[_0x28f7da(0x19f)],'headers':_0x1fb976['GzWwy'](getAuthHeader,_0x2013ab,_0x5ba0fb)},_0x13ba90=await _0x1fb976[_0x28f7da(0x162)](got,_0x26bc68,_0x24ae2e);_0x1fb976[_0x28f7da(0x190)](_0x13ba90,null)&&_0x1fb976[_0x28f7da(0x190)](_0x13ba90,undefined)&&_0x1fb976[_0x28f7da(0x180)](_0x13ba90[_0x28f7da(0x173)],0xc8)&&(_0x1fb976[_0x28f7da(0x169)](_0x1fb976[_0x28f7da(0x1bd)],_0x1fb976['xnmXN'])?_0x976b91=_0x1ac391['bstackAccesskey']:_0x3e2c59=!![]);if(_0x3e2c59){if(_0x1fb976[_0x28f7da(0x16f)](_0x1fb976[_0x28f7da(0x1b8)],_0x1fb976[_0x28f7da(0x183)])){const _0xf2d40e={};_0xf2d40e[_0x28f7da(0x171)]=_0x1fb976[_0x28f7da(0x182)],_0xf2d40e[_0x28f7da(0x1b2)]=_0x1fb976[_0x28f7da(0x195)];const _0x7c9f9c={};_0x7c9f9c[_0x28f7da(0x171)]=_0x1fb976[_0x28f7da(0x1af)],_0x7c9f9c['type']=_0x1fb976[_0x28f7da(0x195)];const _0x107c2a={};return _0x107c2a['bstack-username']=_0xf2d40e,_0x107c2a[_0x28f7da(0x172)]=_0x7c9f9c,_0x54fdda['usage'](_0x387b01[_0x28f7da(0x1b5)])[_0x28f7da(0x186)](_0x3ed0ea)[_0x28f7da(0x1bc)](_0x107c2a)[_0x28f7da(0x1aa)]()[_0x28f7da(0x18e)]()['help'](_0x1fb976[_0x28f7da(0x165)])['argv'];}else{let _0x44a580={};const _0x510654=_0x1fb976[_0x28f7da(0x18d)](getCredentialsPath);fs[_0x28f7da(0x18a)](_0x510654)&&(_0x1fb976[_0x28f7da(0x16f)](_0x1fb976[_0x28f7da(0x16d)],_0x1fb976[_0x28f7da(0x16d)])?_0x44a580=JSON[_0x28f7da(0x1a2)](fs[_0x28f7da(0x18f)](_0x510654,_0x1fb976[_0x28f7da(0x1b7)])):_0xd57483=!![]);const _0x4f2260={};_0x4f2260[_0x28f7da(0x185)]=_0x2013ab,_0x4f2260[_0x28f7da(0x177)]=_0x5ba0fb,_0x44a580['Browserstack']=_0x4f2260,fs[_0x28f7da(0x17d)](_0x510654,JSON[_0x28f7da(0x1b6)](_0x44a580)),process[_0x28f7da(0x1b4)](0x0);}}else logger['error'](_0x1fb976['mDGwA']),await _0x1fb976[_0x28f7da(0x170)](sendInstrumentationEvent,_0x1fce1b,_0x1fb976['hNQkq'],messageTypes[_0x28f7da(0x187)],_0x1fb976[_0x28f7da(0x194)],null,_0x1fce1b),process[_0x28f7da(0x1b4)](0x1);}catch(_0x23087b){logger[_0x28f7da(0x166)](_0x23087b[_0x28f7da(0x189)]),await _0x1fb976[_0x28f7da(0x170)](sendInstrumentationEvent,_0x1fce1b,_0x1fb976[_0x28f7da(0x178)],messageTypes[_0x28f7da(0x187)],_0x1fb976[_0x28f7da(0x1a4)],_0x23087b,_0x1fce1b),process[_0x28f7da(0x1b4)](0x1);}};