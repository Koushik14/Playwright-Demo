const a9_0x4f1d9c=a9_0x5387;(function(_0x5eef9d,_0x430751){const _0x3ad3a0=a9_0x5387,_0x5b2325=_0x5eef9d();while(!![]){try{const _0x14f604=-parseInt(_0x3ad3a0(0x1a2))/0x1*(parseInt(_0x3ad3a0(0x25d))/0x2)+-parseInt(_0x3ad3a0(0x28d))/0x3*(-parseInt(_0x3ad3a0(0x20f))/0x4)+parseInt(_0x3ad3a0(0x26e))/0x5+parseInt(_0x3ad3a0(0x17f))/0x6+parseInt(_0x3ad3a0(0x163))/0x7*(-parseInt(_0x3ad3a0(0x23b))/0x8)+parseInt(_0x3ad3a0(0x168))/0x9+-parseInt(_0x3ad3a0(0x198))/0xa;if(_0x14f604===_0x430751)break;else _0x5b2325['push'](_0x5b2325['shift']());}catch(_0x287b91){_0x5b2325['push'](_0x5b2325['shift']());}}}(a9_0x251e,0x6b7df));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a9_0x4f1d9c(0x226)),got=require(a9_0x4f1d9c(0x1c7)),{v4:uuidv4}=require(a9_0x4f1d9c(0x1a1)),webSocketUtils=require('../../utils/webSocketUtils'),{logger}=require(a9_0x4f1d9c(0x25a)),{inputCloudProviderKeys}=require(a9_0x4f1d9c(0x1b9)),{getCredentialsPath,updateGlobalRegistryWithConfig,kebabCase,reportToGalactusAndSendToEDS,getAuthHeader}=require(a9_0x4f1d9c(0x1f3)),{getCloudProviderObject}=require(a9_0x4f1d9c(0x1a3)),{AWS,WS_EVENTS,global_registry,WS_ENDPOINT,DEFAULT_GRID_NAME,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,messageTypes,AG_API_URL,AZURE,GCP}=require(a9_0x4f1d9c(0x21c)),{addGridComponents,removeGridComponents,getNamespaceUID}=require(a9_0x4f1d9c(0x272)),{createK8sClient}=require(a9_0x4f1d9c(0x249)),{sendInstrumentationEvent}=require('../../utils/instrumentationUtils');function a9_0x5387(_0x5ef06f,_0x2447f8){const _0x251e08=a9_0x251e();return a9_0x5387=function(_0x53874e,_0x5f0c51){_0x53874e=_0x53874e-0x162;let _0x43b800=_0x251e08[_0x53874e];return _0x43b800;},a9_0x5387(_0x5ef06f,_0x2447f8);}exports[a9_0x4f1d9c(0x270)]=a9_0x4f1d9c(0x1f6),exports[a9_0x4f1d9c(0x1b3)]=a9_0x4f1d9c(0x295),exports[a9_0x4f1d9c(0x179)]=function(_0x55a335){const _0x4c7f11=a9_0x4f1d9c,_0x573d43={};_0x573d43[_0x4c7f11(0x1ef)]=_0x4c7f11(0x18a),_0x573d43[_0x4c7f11(0x1ae)]=_0x4c7f11(0x235),_0x573d43[_0x4c7f11(0x1ab)]=_0x4c7f11(0x1c3),_0x573d43[_0x4c7f11(0x1ad)]='Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.',_0x573d43[_0x4c7f11(0x1c1)]=_0x4c7f11(0x209),_0x573d43['hKSQT']=_0x4c7f11(0x185),_0x573d43[_0x4c7f11(0x232)]=_0x4c7f11(0x224),_0x573d43[_0x4c7f11(0x26b)]=_0x4c7f11(0x1ee);const _0x354e63=_0x573d43,_0x2219c2={};_0x2219c2[_0x4c7f11(0x1ac)]=_0x354e63['cvSFq'],_0x2219c2['type']=_0x354e63['ClFRG'];const _0x57fbef={};_0x57fbef[_0x4c7f11(0x1ac)]=_0x354e63[_0x4c7f11(0x1ab)],_0x57fbef[_0x4c7f11(0x180)]=_0x354e63[_0x4c7f11(0x1ae)];const _0xc1db7={};_0xc1db7[_0x4c7f11(0x1ac)]=_0x354e63['gPWUC'],_0xc1db7[_0x4c7f11(0x180)]=_0x354e63[_0x4c7f11(0x1ae)];const _0x3af550={};_0x3af550[_0x4c7f11(0x1ac)]=_0x354e63[_0x4c7f11(0x1c1)],_0x3af550[_0x4c7f11(0x180)]=_0x354e63['ClFRG'];const _0xf94e72={};_0xf94e72[_0x4c7f11(0x1ac)]=_0x354e63[_0x4c7f11(0x1af)],_0xf94e72[_0x4c7f11(0x180)]=_0x354e63[_0x4c7f11(0x1ae)];const _0x26babe={};_0x26babe[_0x4c7f11(0x1ac)]=_0x354e63['MSHnX'],_0x26babe[_0x4c7f11(0x180)]=_0x354e63['ClFRG'];const _0x49047c={};return _0x49047c[_0x4c7f11(0x21f)]=_0x2219c2,_0x49047c['grid-profile']=_0x57fbef,_0x49047c[_0x4c7f11(0x25e)]=_0xc1db7,_0x49047c[_0x4c7f11(0x166)]=_0x3af550,_0x49047c[_0x4c7f11(0x16d)]=_0xf94e72,_0x49047c[_0x4c7f11(0x247)]=_0x26babe,_0x55a335[_0x4c7f11(0x1a7)](HELP_HEADER_MESSAGE[_0x4c7f11(0x239)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x4c7f11(0x222)](_0x49047c)['help'](_0x354e63[_0x4c7f11(0x26b)])[_0x4c7f11(0x172)];},exports['handler']=async function(_0x1fb955){const _0x270cec=a9_0x4f1d9c,_0xdafdc={'YFwDN':_0x270cec(0x2a0),'ARWZT':'Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.','nMgbE':_0x270cec(0x235),'HtuvD':_0x270cec(0x1c3),'QQaSc':_0x270cec(0x1c0),'jmrqX':_0x270cec(0x209),'QWZvW':_0x270cec(0x185),'vjNiz':_0x270cec(0x224),'xZkoq':_0x270cec(0x1ee),'RZjwp':'http','zCqOR':'Unknown\x20cloud\x20provider\x20found\x20-\x20AZURE','YKCID':_0x270cec(0x211),'vZKWL':_0x270cec(0x221),'GGDBB':'5|6|7|8|0|1|4|2|3','nsWci':function(_0xe17b3c){return _0xe17b3c();},'pSMny':function(_0x4a8547){return _0x4a8547();},'sSfxB':function(_0x30481e,_0x1dc9d4){return _0x30481e!==_0x1dc9d4;},'epKoI':_0x270cec(0x1da),'euDCg':_0x270cec(0x264),'spVbV':_0x270cec(0x22f),'TSnaT':function(_0x5afe8,_0x2db0f7,_0x197fea,_0x43b996,_0x274875,_0x4572ee,_0x5e668e){return _0x5afe8(_0x2db0f7,_0x197fea,_0x43b996,_0x274875,_0x4572ee,_0x5e668e);},'oJLMS':_0x270cec(0x27a),'VfzPy':_0x270cec(0x1f5),'WzQGf':function(_0x1d84ea){return _0x1d84ea();},'QLWtD':_0x270cec(0x199),'dkvdJ':_0x270cec(0x17a),'EQLho':_0x270cec(0x1d2),'ZgFdE':function(_0x123ced,_0x329911){return _0x123ced===_0x329911;},'GJVot':_0x270cec(0x1b0),'MTqjO':function(_0x417c26,_0xd05023){return _0x417c26!==_0xd05023;},'REyxI':_0x270cec(0x27b),'srtfG':'cluster-name,\x20cloud-provider\x20&&\x20region\x20should\x20be\x20provided\x20when\x20spawning\x20a\x20grid\x20in\x20existing\x20(Non-BrowserStack\x20created)\x20K8s\x20cluster','KcwKa':function(_0x14c839,_0x2a01d7,_0x3f35a5,_0x4c0269,_0x111c77,_0x1d171f,_0x349bf0,_0x32dc5a){return _0x14c839(_0x2a01d7,_0x3f35a5,_0x4c0269,_0x111c77,_0x1d171f,_0x349bf0,_0x32dc5a);},'IuLbH':'prespawned-cluster-args-not-passed','aoYfg':_0x270cec(0x21a),'hCDrE':_0x270cec(0x1bf),'TmpRp':'Invalid\x20input.\x20Currently\x20Spawning\x20the\x20grid\x20in\x20AWS\x20and\x20Azure\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','hLXpy':_0x270cec(0x28b),'SrnXu':function(_0x577430,_0xf9d747){return _0x577430===_0xf9d747;},'jfLqU':_0x270cec(0x1dc),'FbHNy':_0x270cec(0x22b),'MqPvV':'UjcKU','KrbHh':function(_0x4a05be,_0x4ac361){return _0x4a05be===_0x4ac361;},'HYQrH':'ayXbv','eUQOL':_0x270cec(0x25b),'dLmfd':_0x270cec(0x1d4),'vfDVO':_0x270cec(0x24e),'aGHjA':'GET','KOaNY':function(_0x22d310,_0x17aa99,_0x36a75c){return _0x22d310(_0x17aa99,_0x36a75c);},'duaAK':function(_0x534dd6,_0x456c4c,_0xa9c56e){return _0x534dd6(_0x456c4c,_0xa9c56e);},'CWVzt':function(_0x18ec5a,_0x1f66b2){return _0x18ec5a===_0x1f66b2;},'ZmzeJ':_0x270cec(0x17b),'mrles':_0x270cec(0x194),'CgUHg':function(_0x756991,_0xe7b69,_0x5c1f36,_0x315cdc,_0x29b249,_0x3e3263,_0x1f945d,_0x13bd30){return _0x756991(_0xe7b69,_0x5c1f36,_0x315cdc,_0x29b249,_0x3e3263,_0x1f945d,_0x13bd30);},'gEyUB':_0x270cec(0x219),'iNmlO':_0x270cec(0x169),'MrThT':'Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unauthorized\x20request!','XUkpJ':function(_0xbfe14d,_0x4239f4,_0x587f09,_0x52b51d,_0x481020,_0x325751,_0x216c06,_0x17a65d){return _0xbfe14d(_0x4239f4,_0x587f09,_0x52b51d,_0x481020,_0x325751,_0x216c06,_0x17a65d);},'xWZUS':_0x270cec(0x1e3),'SOhIN':function(_0x3d7823,_0xf060ae){return _0x3d7823!==_0xf060ae;},'VKlri':function(_0x1e0620,_0x21e4f2){return _0x1e0620!==_0x21e4f2;},'JsZeA':'YvmVs','KtFxJ':function(_0x24b4df,_0x373fa3,_0x53e25c,_0x1a0f02,_0x263b47,_0x12b9ef,_0x25e99f,_0x1f80ca){return _0x24b4df(_0x373fa3,_0x53e25c,_0x1a0f02,_0x263b47,_0x12b9ef,_0x25e99f,_0x1f80ca);},'xlLwi':_0x270cec(0x21d),'WnrDB':_0x270cec(0x213),'rlTeL':function(_0x3487a4,_0x4979ee){return _0x3487a4===_0x4979ee;},'Gcvgt':_0x270cec(0x1b7),'uhzUF':'ywjCP','niqTD':_0x270cec(0x296),'ZAYdP':function(_0x1cd1d3,_0x12e45d,_0x45742b,_0x4bef06,_0xb31252,_0x84bf13,_0x57a3f3,_0xdf44f5){return _0x1cd1d3(_0x12e45d,_0x45742b,_0x4bef06,_0xb31252,_0x84bf13,_0x57a3f3,_0xdf44f5);},'TpWqj':_0x270cec(0x20b),'kJjrg':function(_0x38e1d5,_0x1c865b){return _0x38e1d5!==_0x1c865b;},'pelpN':'WOjnQ','tVSSl':_0x270cec(0x287),'cDySM':function(_0x42ca50,_0x36c139){return _0x42ca50===_0x36c139;},'RFeMH':function(_0x32fc97,_0x2e6fe6){return _0x32fc97!==_0x2e6fe6;},'Acxlw':_0x270cec(0x1e8),'NtREZ':_0x270cec(0x262),'kCjCX':_0x270cec(0x1d8),'hzMiX':_0x270cec(0x291),'KNmzi':_0x270cec(0x1ea),'RswNE':function(_0x13b228,_0x36c433){return _0x13b228===_0x36c433;},'DtccX':function(_0x42c571,_0x3f9523){return _0x42c571===_0x3f9523;},'sTiev':'mOXNj','XQqLf':function(_0xf6bfd1,_0x351788){return _0xf6bfd1!==_0x351788;},'OzxMI':function(_0x3999eb,_0x6129be){return _0x3999eb!==_0x6129be;},'ffLnU':_0x270cec(0x254),'reJDR':'Xyacr','JGCsw':function(_0x31210f,_0x9fdc15,_0x496181,_0x570644,_0x17c8fc,_0x45c69b,_0x28773b,_0x5bdab6,_0x13d224,_0x3c2569,_0x362fc3,_0x5bfab7){return _0x31210f(_0x9fdc15,_0x496181,_0x570644,_0x17c8fc,_0x45c69b,_0x28773b,_0x5bdab6,_0x13d224,_0x3c2569,_0x362fc3,_0x5bfab7);},'kBLFO':_0x270cec(0x273),'ScgDF':function(_0x5f397c,_0x1e8534,_0x3f772a,_0x5693a9,_0x54a89e,_0x2abd8b){return _0x5f397c(_0x1e8534,_0x3f772a,_0x5693a9,_0x54a89e,_0x2abd8b);},'kSlKV':'Unable\x20to\x20fetch\x20credentials\x20for\x20cloud\x20provider\x20locally','lOTwS':function(_0x2c7f31,_0x5079db,_0x5ac286,_0x1bf852){return _0x2c7f31(_0x5079db,_0x5ac286,_0x1bf852);},'vEDUK':'Saving\x20credentials\x20for\x20cloud\x20provider\x20locally\x20for\x20later\x20runs','HBPXK':_0x270cec(0x19b),'aBpcY':_0x270cec(0x285),'JllLB':function(_0x2700d7,_0x4ba8bd){return _0x2700d7!=_0x4ba8bd;},'srvhq':function(_0x299d38,_0x4524fc){return _0x299d38!==_0x4524fc;},'SlmeO':function(_0x4e9466,_0x42aba7){return _0x4e9466!=_0x42aba7;},'VNaou':function(_0x1ea16e,_0x5166a2){return _0x1ea16e>_0x5166a2;},'BjyKj':function(_0x216bb5,_0x3ef0fa){return _0x216bb5===_0x3ef0fa;},'gtLvh':'Subnets\x20not\x20selected.\x20Please\x20select\x20subnets\x20and\x20try\x20again','TGZhh':'pre-spawned-subnets-not-selected','hwoEA':_0x270cec(0x25c),'IlUpe':function(_0x41b273,_0x31be80,_0x3739bf,_0x222ec9,_0x592188,_0x2f56a3,_0x1bb9a8,_0x545361){return _0x41b273(_0x31be80,_0x3739bf,_0x222ec9,_0x592188,_0x2f56a3,_0x1bb9a8,_0x545361);},'ujDfc':'pre-spawned-invalid-vpc','MIHia':function(_0x3d916c,_0x3dc6d0){return _0x3d916c===_0x3dc6d0;},'dVWOm':_0x270cec(0x1ed),'Vnszf':'3|4|2|0|1','gjNuN':_0x270cec(0x1f7),'lMhvC':_0x270cec(0x243),'RQuHy':function(_0x8c90bd,_0x4dfce0){return _0x8c90bd===_0x4dfce0;},'xHnZQ':function(_0x435692,_0x5c83e9){return _0x435692(_0x5c83e9);},'ARdAs':function(_0x397b59,_0x2d254e){return _0x397b59===_0x2d254e;},'HSkBA':function(_0x3728f3,_0x244da7){return _0x3728f3==_0x244da7;},'haeVn':_0x270cec(0x1d7),'KcISS':function(_0x27747d,_0x485a3d){return _0x27747d!==_0x485a3d;},'RxPjr':_0x270cec(0x21b),'OQiCh':'Browserstack','mXsyz':_0x270cec(0x1aa),'MkdwR':'Namespace\x20created','hQwmt':_0x270cec(0x22a),'VnPnR':_0x270cec(0x1f2),'BmGrQ':function(_0x26bafd,_0x364f16){return _0x26bafd===_0x364f16;},'fvfnv':function(_0x1ed4fa,_0x6e6d19,_0x156844,_0x5a5767,_0x5d52c6,_0x1e4295,_0xd4de2b,_0x3ce456,_0x1e7b46,_0x7f3242,_0x311fa7){return _0x1ed4fa(_0x6e6d19,_0x156844,_0x5a5767,_0x5d52c6,_0x1e4295,_0xd4de2b,_0x3ce456,_0x1e7b46,_0x7f3242,_0x311fa7);},'zsbTt':'Grid\x20spawned\x20on\x20the\x20cluster','ANaPz':'Fetching\x20url\x20for\x20running\x20tests\x20on\x20the\x20grid','VdbbD':_0x270cec(0x1c4),'TOjeY':_0x270cec(0x201),'GOiNZ':_0x270cec(0x1f8),'uNqcJ':function(_0x313965,_0x2f0ce7,_0x34146e){return _0x313965(_0x2f0ce7,_0x34146e);},'CbndX':_0x270cec(0x212),'uTMXY':function(_0x4f281d,_0x3e161f,_0x5504ac,_0x3aa995,_0x1a93c3,_0x1e422f,_0x355c2f,_0x560043){return _0x4f281d(_0x3e161f,_0x5504ac,_0x3aa995,_0x1a93c3,_0x1e422f,_0x355c2f,_0x560043);},'YDEKL':'get-grid-url-null-response','dzYIy':_0x270cec(0x1dd),'sAXBf':function(_0x4ecd0b,_0x35d212,_0x3c2c3f,_0x2c1cd3,_0x262011,_0x3e1df2,_0x4183c0,_0x4fabe4){return _0x4ecd0b(_0x35d212,_0x3c2c3f,_0x2c1cd3,_0x262011,_0x3e1df2,_0x4183c0,_0x4fabe4);},'obUdM':_0x270cec(0x19f),'cKDot':_0x270cec(0x29b),'USpjC':_0x270cec(0x207)};let _0x18be21=![],_0x4d31c2,_0x756b92,_0x5ebbf8,_0x19462a,_0x304a76,_0x3475ec,_0x1edc67,_0x37afc5,_0x454b89,_0x4f1e19,_0xe3f270,_0x559a4e,_0x252005=0x1,_0x43dcc3=0xe;try{global_registry[_0x270cec(0x294)]=_0xdafdc[_0x270cec(0x1c6)](uuidv4),global_registry[_0x270cec(0x267)]=![];if(!fs[_0x270cec(0x290)](_0xdafdc[_0x270cec(0x1cc)](getCredentialsPath))){if(_0xdafdc[_0x270cec(0x22d)](_0xdafdc[_0x270cec(0x29c)],_0xdafdc[_0x270cec(0x26c)]))console[_0x270cec(0x221)](_0xdafdc['spVbV']),await _0xdafdc[_0x270cec(0x1f1)](sendInstrumentationEvent,_0x1fb955,_0xdafdc['oJLMS'],messageTypes[_0x270cec(0x251)],_0xdafdc['VfzPy'],null,_0x1fb955),process['exit'](0x1);else{const _0x2ea937={};_0x2ea937[_0x270cec(0x180)]=_0x6d65eb['LOG'],_0x2ea937['message']=_0x270cec(0x275)+_0x58583d+_0x270cec(0x25f),_0x20d969[_0x270cec(0x1fb)](_0x31e394,_0x2ea937,_0xdafdc[_0x270cec(0x19e)]),_0x292802[_0x270cec(0x167)](_0x270cec(0x275)+_0x30902a+_0x270cec(0x25f)),_0x582e0e=!![];}}await _0xdafdc['TSnaT'](sendInstrumentationEvent,_0x1fb955,_0xdafdc[_0x270cec(0x190)],messageTypes[_0x270cec(0x298)],null,null,_0x1fb955);const _0x58021a=JSON[_0x270cec(0x229)](fs[_0x270cec(0x203)](_0xdafdc[_0x270cec(0x171)](getCredentialsPath)));global_registry[_0x270cec(0x282)]=_0x58021a[_0x270cec(0x293)]['username'],global_registry[_0x270cec(0x210)]=_0x58021a['Browserstack']['password'];const _0x324bff=WS_ENDPOINT[_0x270cec(0x1f9)](_0xdafdc[_0x270cec(0x246)],_0x58021a[_0x270cec(0x293)][_0x270cec(0x28a)])[_0x270cec(0x1f9)](_0xdafdc[_0x270cec(0x292)],_0x58021a[_0x270cec(0x293)][_0x270cec(0x181)]),_0x4d381b={};_0x4d381b[_0x270cec(0x24d)]=ws,_0x4d381b[_0x270cec(0x223)]=0x36ee80,_0x4f1e19=new ReconnectingWebSocket(_0x324bff,[],_0x4d381b),logger[_0x270cec(0x1a5)](_0xdafdc[_0x270cec(0x1d6)]),webSocketUtils[_0x270cec(0x192)](_0x4f1e19,_0x1fb955['user'],_0x1fb955[_0x270cec(0x181)]);let _0x35dbe9=DEFAULT_GRID_NAME;if(_0x1fb955[_0x270cec(0x18c)]||_0x1fb955['cloudProvider']||_0x1fb955[_0x270cec(0x16d)]){if(_0xdafdc[_0x270cec(0x17d)](_0xdafdc[_0x270cec(0x27e)],_0xdafdc[_0x270cec(0x27e)]))!(_0x1fb955[_0x270cec(0x18c)]&&_0x1fb955[_0x270cec(0x205)]&&_0x1fb955[_0x270cec(0x16d)])&&(_0xdafdc[_0x270cec(0x1f4)](_0xdafdc[_0x270cec(0x217)],_0xdafdc[_0x270cec(0x217)])?_0x555644[_0x270cec(0x167)](_0x270cec(0x1ce)+_0x248e27[_0x270cec(0x1b6)](_0x2c3c23)+'\x20'):(_0x4d31c2=_0xdafdc[_0x270cec(0x1de)],await _0xdafdc['KcwKa'](reportToGalactusAndSendToEDS,_0x1fb955,_0x4f1e19,_0x4d31c2,messageTypes[_0x270cec(0x251)],_0xdafdc[_0x270cec(0x190)],_0xdafdc[_0x270cec(0x1b1)],_0xdafdc[_0x270cec(0x173)]),logger['error'](_0x4d31c2),process[_0x270cec(0x1d9)](0x1))),![AWS,AZURE,GCP][_0x270cec(0x259)](_0x1fb955[_0x270cec(0x205)][_0x270cec(0x28c)]())&&(_0xdafdc[_0x270cec(0x22d)](_0xdafdc[_0x270cec(0x1bb)],_0xdafdc[_0x270cec(0x263)])?(_0x4d31c2=_0xdafdc[_0x270cec(0x1bd)],await _0xdafdc[_0x270cec(0x27d)](reportToGalactusAndSendToEDS,_0x1fb955,_0x4f1e19,_0x4d31c2,messageTypes[_0x270cec(0x251)],_0xdafdc[_0x270cec(0x190)],_0xdafdc['hLXpy'],_0xdafdc['vZKWL']),logger[_0x270cec(0x221)](_0x4d31c2),process['exit'](0x1)):_0x496a4f=_0x4ebb21[_0x5d0b58[_0x270cec(0x16e)]]),_0x1fb955[_0x270cec(0x1e9)]&&_0xdafdc[_0x270cec(0x1db)](_0x1fb955[_0x270cec(0x1e9)]['toLowerCase'](),_0xdafdc[_0x270cec(0x1bc)])&&(_0xdafdc['ZgFdE'](_0xdafdc[_0x270cec(0x2a2)],_0xdafdc[_0x270cec(0x274)])?_0xfe8e15[_0x270cec(0x167)](_0x270cec(0x1e5)+_0x30c3a7+'\x20'):global_registry[_0x270cec(0x267)]=!![]),_0x18be21=!![],_0x5ebbf8=_0x1fb955[_0x270cec(0x18c)],_0x756b92=_0x1fb955[_0x270cec(0x205)]['toLowerCase'](),_0x19462a=_0x1fb955[_0x270cec(0x16d)];else{const _0x275066={};_0x275066[_0x270cec(0x1ac)]=_0xdafdc[_0x270cec(0x233)],_0x275066[_0x270cec(0x180)]=_0xdafdc[_0x270cec(0x187)];const _0x2d6805={};_0x2d6805[_0x270cec(0x1ac)]=_0xdafdc['HtuvD'],_0x2d6805[_0x270cec(0x180)]=_0xdafdc[_0x270cec(0x187)];const _0x5e291a={};_0x5e291a[_0x270cec(0x1ac)]=_0xdafdc[_0x270cec(0x1c8)],_0x5e291a[_0x270cec(0x180)]=_0xdafdc[_0x270cec(0x187)];const _0x2864da={};_0x2864da[_0x270cec(0x1ac)]=_0xdafdc['jmrqX'],_0x2864da['type']=_0xdafdc[_0x270cec(0x187)];const _0x3f604d={};_0x3f604d['description']=_0xdafdc[_0x270cec(0x27f)],_0x3f604d[_0x270cec(0x180)]=_0xdafdc[_0x270cec(0x187)];const _0x396ba9={};_0x396ba9['description']=_0xdafdc[_0x270cec(0x20d)],_0x396ba9[_0x270cec(0x180)]=_0xdafdc[_0x270cec(0x187)];const _0x178c7d={};return _0x178c7d[_0x270cec(0x21f)]=_0x275066,_0x178c7d[_0x270cec(0x220)]=_0x2d6805,_0x178c7d[_0x270cec(0x25e)]=_0x5e291a,_0x178c7d[_0x270cec(0x166)]=_0x2864da,_0x178c7d[_0x270cec(0x16d)]=_0x3f604d,_0x178c7d[_0x270cec(0x247)]=_0x396ba9,_0x5c95d2[_0x270cec(0x1a7)](_0x37dac3['create'])[_0x270cec(0x19c)](_0x12a0d3)[_0x270cec(0x222)](_0x178c7d)[_0x270cec(0x1ee)](_0xdafdc[_0x270cec(0x2a1)])['argv'];}}_0x1fb955['gridName']&&(_0xdafdc[_0x270cec(0x24b)](_0xdafdc[_0x270cec(0x265)],_0xdafdc[_0x270cec(0x231)])?_0x11a660['isPrivateGrid']=!![]:_0x35dbe9=_0x1fb955[_0x270cec(0x283)]);_0x1fb955['gridProfile']&&(_0xdafdc[_0x270cec(0x17d)](_0xdafdc[_0x270cec(0x258)],_0xdafdc[_0x270cec(0x21e)])?_0x5ec5ad=_0x15cf6d[_0x270cec(0x283)]:global_registry[_0x270cec(0x16e)]=_0x1fb955[_0x270cec(0x16e)]);global_registry['gridName']=_0x35dbe9;const _0x4a18ee={'method':_0xdafdc[_0x270cec(0x260)],'headers':_0xdafdc[_0x270cec(0x218)](getAuthHeader,_0x58021a[_0x270cec(0x293)][_0x270cec(0x28a)],_0x58021a[_0x270cec(0x293)][_0x270cec(0x181)])},_0x2e3149=_0x270cec(0x241)+AG_API_URL+_0x270cec(0x216),_0x41efbb={};_0x41efbb['gridName']=_0x35dbe9;const _0x36afd2={'searchParams':_0x41efbb,..._0x4a18ee},_0x230721=_0x36afd2,_0x51616f=await _0xdafdc[_0x270cec(0x240)](got,_0x2e3149,_0x230721);(_0xdafdc[_0x270cec(0x17d)](_0x51616f,null)||_0xdafdc[_0x270cec(0x245)](_0x51616f,undefined))&&(_0xdafdc['MTqjO'](_0xdafdc[_0x270cec(0x227)],_0xdafdc[_0x270cec(0x227)])?_0x4966ce['gridProfile']=_0x1d73bd['gridProfile']:(_0x4d31c2=_0xdafdc[_0x270cec(0x1eb)],await _0xdafdc[_0x270cec(0x23f)](reportToGalactusAndSendToEDS,_0x1fb955,_0x4f1e19,_0x4d31c2,messageTypes[_0x270cec(0x251)],_0xdafdc['oJLMS'],_0xdafdc[_0x270cec(0x268)],_0xdafdc[_0x270cec(0x173)]),logger[_0x270cec(0x221)](_0x4d31c2),process['exit'](0x1)));_0xdafdc[_0x270cec(0x245)](_0x51616f[_0x270cec(0x26a)],0x191)&&(_0xdafdc[_0x270cec(0x24b)](_0xdafdc[_0x270cec(0x27c)],_0xdafdc[_0x270cec(0x27c)])?(_0x4d31c2=_0xdafdc['MrThT'],await _0xdafdc[_0x270cec(0x189)](reportToGalactusAndSendToEDS,_0x1fb955,_0x4f1e19,_0x4d31c2,messageTypes[_0x270cec(0x251)],_0xdafdc[_0x270cec(0x190)],_0xdafdc[_0x270cec(0x1c9)],_0xdafdc[_0x270cec(0x173)]),logger[_0x270cec(0x221)](_0x4d31c2),process['exit'](0x1)):_0x126255=_0xdafdc[_0x270cec(0x278)]);_0xdafdc[_0x270cec(0x197)](_0x51616f[_0x270cec(0x26a)],0xc8)&&(_0xdafdc[_0x270cec(0x284)](_0xdafdc['JsZeA'],_0xdafdc['JsZeA'])?(_0x49f664[_0x270cec(0x221)](_0xdafdc[_0x270cec(0x20e)]),_0xdfba20[_0x270cec(0x1d9)](0x1)):(_0x4d31c2='Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20'+JSON[_0x270cec(0x1b6)](_0x51616f),await _0xdafdc[_0x270cec(0x18f)](reportToGalactusAndSendToEDS,_0x1fb955,_0x4f1e19,_0x4d31c2,messageTypes[_0x270cec(0x251)],_0xdafdc[_0x270cec(0x190)],_0xdafdc[_0x270cec(0x1ff)],_0xdafdc[_0x270cec(0x173)]),logger[_0x270cec(0x221)](_0x4d31c2),process[_0x270cec(0x1d9)](0x1)));const _0x4a18f4=JSON[_0x270cec(0x229)](_0x51616f['body']),_0x163834={};_0x163834[_0x270cec(0x180)]=WS_EVENTS[_0x270cec(0x1a6)],_0x163834[_0x270cec(0x1ec)]=_0x270cec(0x24f),webSocketUtils[_0x270cec(0x1fb)](_0x4f1e19,_0x163834);const _0x54457b={};_0x54457b[_0x270cec(0x180)]=WS_EVENTS[_0x270cec(0x16f)],_0x54457b[_0x270cec(0x1ec)]=_0xdafdc[_0x270cec(0x279)],webSocketUtils[_0x270cec(0x1fb)](_0x4f1e19,_0x54457b);_0x4a18f4[_0x270cec(0x193)]&&(_0xdafdc['rlTeL'](_0xdafdc[_0x270cec(0x18d)],_0xdafdc[_0x270cec(0x208)])?(_0x58a6b4=_0x4829de['route53'],_0x3effb9=_0xdafdc['YKCID']):(_0x4d31c2=_0xdafdc[_0x270cec(0x20a)],await _0xdafdc['ZAYdP'](reportToGalactusAndSendToEDS,_0x1fb955,_0x4f1e19,_0x4d31c2,messageTypes[_0x270cec(0x251)],_0xdafdc['oJLMS'],_0xdafdc['TpWqj'],_0xdafdc[_0x270cec(0x173)]),logger[_0x270cec(0x221)](_0x4d31c2),process[_0x270cec(0x1d9)](0x1)));const _0x36bc21=_0x4a18f4[_0x270cec(0x234)];let _0x5b6fe8=_0x36bc21[_0x4a18f4['defaultGridProfile']];_0x1fb955['gridProfile']&&(_0xdafdc[_0x270cec(0x16c)](_0xdafdc['pelpN'],_0xdafdc[_0x270cec(0x1d5)])?_0x5b6fe8=_0x36bc21[_0x1fb955[_0x270cec(0x16e)]]:_0xa8e00b[_0x270cec(0x205)]={});if(_0xdafdc[_0x270cec(0x174)](_0x18be21,![])){if(_0xdafdc['RFeMH'](_0xdafdc[_0x270cec(0x195)],_0xdafdc[_0x270cec(0x195)])){const _0x4da8d1={};_0x4da8d1['type']=_0x289af2['LOG'],_0x4da8d1[_0x270cec(0x1ec)]=_0x547967,_0x442793[_0x270cec(0x1fb)](_0x517457,_0x4da8d1,_0xdafdc[_0x270cec(0x173)],!![]);}else{_0xdafdc[_0x270cec(0x245)](_0x5b6fe8,undefined)&&(_0xdafdc[_0x270cec(0x1db)](_0xdafdc[_0x270cec(0x23a)],_0xdafdc['kCjCX'])?_0x20e19a[_0x270cec(0x267)]=!![]:(_0x4d31c2=_0xdafdc[_0x270cec(0x286)],await _0xdafdc[_0x270cec(0x189)](reportToGalactusAndSendToEDS,_0x1fb955,_0x4f1e19,_0x4d31c2,messageTypes[_0x270cec(0x251)],_0xdafdc[_0x270cec(0x190)],_0xdafdc[_0x270cec(0x202)],_0xdafdc['vZKWL']),logger[_0x270cec(0x221)](_0x4d31c2),process['exit'](0x1)));global_registry[_0x270cec(0x1d0)]=_0x5b6fe8['id'];if(_0xdafdc[_0x270cec(0x230)](_0x756b92,AZURE)||_0xdafdc[_0x270cec(0x17d)](_0x5b6fe8?.[_0x270cec(0x205)],AZURE)){if(_0xdafdc[_0x270cec(0x23d)](_0xdafdc['sTiev'],_0xdafdc[_0x270cec(0x1df)]))console[_0x270cec(0x221)](_0xdafdc[_0x270cec(0x20e)]),process[_0x270cec(0x1d9)](0x1);else{const _0x1cee5c=_0xdafdc[_0x270cec(0x1fc)][_0x270cec(0x196)]('|');let _0x5b62d5=0x0;while(!![]){switch(_0x1cee5c[_0x5b62d5++]){case'0':_0x26b5f7[_0x270cec(0x205)]=_0x1243de;continue;case'1':_0x204ebd[_0x270cec(0x215)]=_0x3a1b09;continue;case'2':_0x18f68e[_0x270cec(0x206)]=_0x4ec2dd[_0x270cec(0x206)];continue;case'3':_0x4be4da[_0x270cec(0x266)]=_0x2aebb8[_0x270cec(0x266)];continue;case'4':_0x4c8b1d[_0x270cec(0x18c)]=_0x11dff3;continue;case'5':const _0x94a5a2={};_0x94a5a2[_0x270cec(0x180)]=_0x4f76c8[_0x270cec(0x1a6)],_0x94a5a2['message']=_0x270cec(0x24f),_0x5419d8['sendEventToBackend'](_0x4cbd07,_0x94a5a2);continue;case'6':_0xb3171c=_0x270cec(0x1d1)+_0x140111+_0x270cec(0x261)+_0x1f8f4b+'\x27';continue;case'7':_0x5c7fe1['info'](_0x1f53a9);continue;case'8':const _0x501942={};_0x501942['type']=_0xff840[_0x270cec(0x16f)],_0x501942[_0x270cec(0x1ec)]=_0x1d3749,_0x19d142['sendEventToBackend'](_0x5cc128,_0x501942);continue;}break;}}}_0x4d31c2=_0x270cec(0x1a4)+_0x35dbe9+_0x270cec(0x1c2)+_0x5b6fe8[_0x270cec(0x28f)]+_0x270cec(0x188),logger[_0x270cec(0x167)](_0x4d31c2);const _0x4a7d47={};_0x4a7d47[_0x270cec(0x180)]=WS_EVENTS['LOG'],_0x4a7d47[_0x270cec(0x1ec)]=_0x4d31c2,webSocketUtils[_0x270cec(0x1fb)](_0x4f1e19,_0x4a7d47),_0x756b92=_0x5b6fe8[_0x270cec(0x205)],_0x5ebbf8=_0x5b6fe8[_0x270cec(0x18c)],_0x19462a=_0x5b6fe8[_0x270cec(0x16d)],_0x304a76=_0x5b6fe8[_0x270cec(0x184)],_0x3475ec=_0x5b6fe8['instanceType'],_0x1edc67=_0x5b6fe8[_0x270cec(0x175)],securityGroups=_0x5b6fe8['securityGroups'],subnets=_0x5b6fe8[_0x270cec(0x18e)],_0x37afc5=_0x5b6fe8[_0x270cec(0x1a8)],_0x252005=_0x5b6fe8[_0x270cec(0x280)],_0x43dcc3=_0x5b6fe8[_0x270cec(0x19a)],_0xe3f270=_0x4a18f4[_0x270cec(0x206)],_0x559a4e=_0x4a18f4[_0x270cec(0x266)];if(_0xdafdc[_0x270cec(0x214)](_0x5b6fe8['privateGrid'],undefined)&&_0x5b6fe8[_0x270cec(0x1e9)]){if(_0xdafdc[_0x270cec(0x20c)](_0xdafdc[_0x270cec(0x1b4)],_0xdafdc[_0x270cec(0x297)]))global_registry[_0x270cec(0x267)]=!![];else throw _0x1eb263;}_0xdafdc[_0x270cec(0x178)](updateGlobalRegistryWithConfig,_0x756b92,_0x5ebbf8,_0x19462a,_0x304a76,_0x3475ec,_0x37afc5,_0x5b6fe8,_0xe3f270,_0x559a4e,_0x252005,_0x43dcc3);}}else{const _0x3c6d80=_0xdafdc[_0x270cec(0x29f)]['split']('|');let _0x288fc5=0x0;while(!![]){switch(_0x3c6d80[_0x288fc5++]){case'0':global_registry[_0x270cec(0x18c)]=_0x5ebbf8;continue;case'1':const _0x22061c={};_0x22061c[_0x270cec(0x180)]=WS_EVENTS['LOG'],_0x22061c['message']=_0x4d31c2,webSocketUtils[_0x270cec(0x1fb)](_0x4f1e19,_0x22061c);continue;case'2':global_registry[_0x270cec(0x206)]=_0x4a18f4[_0x270cec(0x206)];continue;case'3':global_registry[_0x270cec(0x205)]=_0x756b92;continue;case'4':_0x4d31c2='Spawning\x20the\x20grid\x20'+_0x35dbe9+_0x270cec(0x261)+_0x5ebbf8+'\x27';continue;case'5':global_registry[_0x270cec(0x215)]=_0x19462a;continue;case'6':const _0x4ca87c={};_0x4ca87c['type']=WS_EVENTS[_0x270cec(0x1a6)],_0x4ca87c[_0x270cec(0x1ec)]=_0x270cec(0x24f),webSocketUtils[_0x270cec(0x1fb)](_0x4f1e19,_0x4ca87c);continue;case'7':global_registry['browserVersion']=_0x4a18f4[_0x270cec(0x266)];continue;case'8':logger['info'](_0x4d31c2);continue;}break;}}const _0x5f37ab=_0xdafdc[_0x270cec(0x1e2)](getCloudProviderObject,_0x756b92,_0x5ebbf8,_0x35dbe9,_0x4f1e19,webSocketUtils),_0x5e4edc=_0x58021a[_0x270cec(0x205)]||{};if(_0xdafdc['cDySM'](_0x5e4edc[_0x756b92],undefined)){logger[_0x270cec(0x167)](_0xdafdc[_0x270cec(0x1e1)]);_0xdafdc[_0x270cec(0x17d)](_0x58021a[_0x270cec(0x205)],undefined)&&(_0x58021a[_0x270cec(0x205)]={});_0x58021a[_0x270cec(0x205)][_0x756b92]={};const _0x3b9a3=await _0xdafdc['lOTwS'](inputCloudProviderKeys,_0x756b92,_0x58021a,_0x5f37ab);fs[_0x270cec(0x255)](_0xdafdc[_0x270cec(0x1c6)](getCredentialsPath),JSON[_0x270cec(0x1b6)](_0x3b9a3)),logger['debug'](_0xdafdc['vEDUK']);}else{_0x4d31c2=_0xdafdc['HBPXK'];const _0x5f5a89={};_0x5f5a89[_0x270cec(0x180)]=WS_EVENTS[_0x270cec(0x16f)],_0x5f5a89[_0x270cec(0x1ec)]=_0x4d31c2,webSocketUtils['sendEventToBackend'](_0x4f1e19,_0x5f5a89),logger[_0x270cec(0x167)](_0x4d31c2),await _0x5f37ab['fetchLocalCreds'](_0x5e4edc);}_0x5f37ab[_0x270cec(0x17c)]();let _0x3e91d8;if(_0xdafdc[_0x270cec(0x277)](_0x18be21,![])){_0x4d31c2=_0x270cec(0x244)+_0x19462a+').';const _0x2a42f1={};_0x2a42f1['type']=WS_EVENTS[_0x270cec(0x16f)],_0x2a42f1[_0x270cec(0x1ec)]=_0x4d31c2,webSocketUtils[_0x270cec(0x1fb)](_0x4f1e19,_0x2a42f1),logger[_0x270cec(0x167)](_0x4d31c2);const _0xa99d29=await _0x5f37ab[_0x270cec(0x250)]();if(_0xa99d29){const _0x2caf46={};_0x2caf46[_0x270cec(0x180)]=WS_EVENTS['LOG'],_0x2caf46['message']=_0x270cec(0x275)+_0x5ebbf8+_0x270cec(0x25f),webSocketUtils['sendEventToBackend'](_0x4f1e19,_0x2caf46,_0xdafdc[_0x270cec(0x19e)]),logger[_0x270cec(0x167)]('Cluster\x20'+_0x5ebbf8+_0x270cec(0x25f)),_0x18be21=!![];}else{const _0x4bcfef={};_0x4bcfef[_0x270cec(0x180)]=WS_EVENTS['LOG'],_0x4bcfef[_0x270cec(0x1ec)]=_0xdafdc['aBpcY'],webSocketUtils[_0x270cec(0x1fb)](_0x4f1e19,_0x4bcfef),logger['info'](_0xdafdc[_0x270cec(0x228)]);const _0x2e7c62=_0xdafdc['JllLB'](_0x1edc67,null)&&_0xdafdc[_0x270cec(0x23c)](_0x1edc67,undefined),_0x1cb61e=_0xdafdc['SlmeO'](subnets,null)&&_0xdafdc['VKlri'](subnets,undefined)&&_0xdafdc[_0x270cec(0x237)](subnets[_0x270cec(0x16b)],0x0);if(_0x2e7c62){_0xdafdc['BjyKj'](_0x1cb61e,![])&&(_0x4d31c2=_0xdafdc[_0x270cec(0x253)],await _0xdafdc[_0x270cec(0x189)](reportToGalactusAndSendToEDS,_0x1fb955,_0x4f1e19,_0x4d31c2,messageTypes[_0x270cec(0x251)],_0xdafdc['oJLMS'],_0xdafdc[_0x270cec(0x1a9)],_0xdafdc[_0x270cec(0x173)]),logger[_0x270cec(0x221)](_0x4d31c2),process[_0x270cec(0x1d9)](0x1));const _0x52d8e3=await _0x5f37ab[_0x270cec(0x238)](_0x1edc67);_0xdafdc['RswNE'](_0x52d8e3,![])?(_0x4d31c2=_0xdafdc[_0x270cec(0x204)],await _0xdafdc[_0x270cec(0x1fd)](reportToGalactusAndSendToEDS,_0x1fb955,_0x4f1e19,_0x4d31c2,messageTypes[_0x270cec(0x251)],_0xdafdc[_0x270cec(0x190)],_0xdafdc['ujDfc'],_0xdafdc[_0x270cec(0x173)]),logger[_0x270cec(0x221)](_0x4d31c2),process[_0x270cec(0x1d9)](0x1)):logger[_0x270cec(0x167)](_0x270cec(0x1e5)+_0x1edc67+'\x20');const _0x16d01f=await _0x5f37ab[_0x270cec(0x1a0)](subnets,_0x1edc67);_0xdafdc[_0x270cec(0x183)](_0x16d01f[0x0],![])?(_0x4d31c2=_0x270cec(0x177)+_0x16d01f[0x1]+_0x270cec(0x19d)+_0x1edc67+_0x270cec(0x18b),await _0xdafdc['CgUHg'](reportToGalactusAndSendToEDS,_0x1fb955,_0x4f1e19,_0x4d31c2,messageTypes['ERROR'],_0xdafdc[_0x270cec(0x190)],_0xdafdc[_0x270cec(0x182)],_0xdafdc[_0x270cec(0x173)]),logger[_0x270cec(0x221)](_0x4d31c2),process[_0x270cec(0x1d9)](0x1)):logger[_0x270cec(0x167)](_0x270cec(0x1ce)+JSON[_0x270cec(0x1b6)](subnets)+'\x20'),await _0x5f37ab[_0x270cec(0x170)](_0x1edc67,subnets);}else{const _0x5ebf46=_0xdafdc['Vnszf']['split']('|');let _0xbdc56b=0x0;while(!![]){switch(_0x5ebf46[_0xbdc56b++]){case'0':const _0x2cd8e0={};_0x2cd8e0[_0x270cec(0x180)]=WS_EVENTS[_0x270cec(0x16f)],_0x2cd8e0[_0x270cec(0x1ec)]=_0x270cec(0x1f7),webSocketUtils[_0x270cec(0x1fb)](_0x4f1e19,_0x2cd8e0);continue;case'1':logger[_0x270cec(0x167)](_0xdafdc[_0x270cec(0x29d)]);continue;case'2':await _0x5f37ab['setupNewCluster']();continue;case'3':const _0x163f5c={};_0x163f5c[_0x270cec(0x180)]=WS_EVENTS[_0x270cec(0x16f)],_0x163f5c[_0x270cec(0x1ec)]=_0xdafdc[_0x270cec(0x191)],webSocketUtils[_0x270cec(0x1fb)](_0x4f1e19,_0x163f5c);continue;case'4':logger[_0x270cec(0x167)](_0xdafdc[_0x270cec(0x191)]);continue;}break;}}}}_0x18be21&&_0xdafdc[_0x270cec(0x248)](_0x756b92,AZURE)&&(global_registry[_0x270cec(0x1e4)]=_0x4a18f4[_0x270cec(0x186)],await _0x5f37ab[_0x270cec(0x1e7)](),await _0x5f37ab[_0x270cec(0x162)]());const [_0x528da2,_0x24cfb0,_0x5134fe,_0x1298d7,_0x26b069,_0x13a18e]=await _0xdafdc[_0x270cec(0x1be)](createK8sClient,_0x5f37ab);_0xdafdc[_0x270cec(0x24c)](_0x18be21,![])&&_0xdafdc[_0x270cec(0x225)](_0x756b92,AWS)&&(global_registry['isNewAWSCluster']=!![],_0x3e91d8=await _0x5f37ab[_0x270cec(0x26f)](_0x528da2,_0x1fb955));try{_0x454b89=_0xdafdc[_0x270cec(0x1be)](kebabCase,_0x35dbe9),logger[_0x270cec(0x167)](_0xdafdc[_0x270cec(0x1cb)]);const _0x263fe8={};_0x263fe8[_0x270cec(0x180)]=WS_EVENTS[_0x270cec(0x16f)],_0x263fe8[_0x270cec(0x1ec)]=_0xdafdc['haeVn'],webSocketUtils[_0x270cec(0x1fb)](_0x4f1e19,_0x263fe8);if(_0xdafdc[_0x270cec(0x281)](_0x454b89,_0xdafdc[_0x270cec(0x299)])){const _0x3809fc={};_0x3809fc[_0x270cec(0x28e)]=_0xdafdc['OQiCh'],_0x3809fc[_0x270cec(0x288)]=_0xdafdc[_0x270cec(0x29a)];const _0x5b3256={};_0x5b3256['name']=_0x454b89,_0x5b3256[_0x270cec(0x1d3)]=_0x3809fc;const _0x2c2626={};_0x2c2626[_0x270cec(0x22e)]=_0x5b3256;let _0x53bd49=_0x2c2626;const _0x42c5fa={};_0x42c5fa[_0x270cec(0x22c)]=_0x53bd49,await _0x528da2[_0x270cec(0x23e)](_0x42c5fa),logger[_0x270cec(0x167)](_0xdafdc['mXsyz']);}const _0x4620d5={};_0x4620d5[_0x270cec(0x180)]=WS_EVENTS[_0x270cec(0x16f)],_0x4620d5[_0x270cec(0x1ec)]=_0xdafdc[_0x270cec(0x1c5)],webSocketUtils[_0x270cec(0x1fb)](_0x4f1e19,_0x4620d5);const _0x51344f={};_0x51344f['type']=WS_EVENTS[_0x270cec(0x16f)],_0x51344f[_0x270cec(0x1ec)]=_0xdafdc['hQwmt'],webSocketUtils['sendEventToBackend'](_0x4f1e19,_0x51344f),logger[_0x270cec(0x167)](_0xdafdc[_0x270cec(0x256)]);let _0xd024c5={};_0xdafdc[_0x270cec(0x252)](_0x756b92,AZURE)&&(_0xd024c5={'clientId':await _0x5f37ab[_0x270cec(0x200)]('turboscale-managed-identity-'+_0x5ebbf8)});await _0xdafdc[_0x270cec(0x1cd)](addGridComponents,_0x528da2,_0x24cfb0,_0x5134fe,_0x1298d7,_0x454b89,_0x5ebbf8,_0x3e91d8,_0x26b069,_0x13a18e,_0xd024c5),_0x4d31c2=_0xdafdc[_0x270cec(0x164)],logger['info'](_0x4d31c2);const _0x1d3f4a={};_0x1d3f4a[_0x270cec(0x180)]=WS_EVENTS[_0x270cec(0x16f)],_0x1d3f4a[_0x270cec(0x1ec)]=_0x4d31c2,webSocketUtils[_0x270cec(0x1fb)](_0x4f1e19,_0x1d3f4a),_0x4d31c2=_0xdafdc[_0x270cec(0x276)],logger[_0x270cec(0x167)](_0x4d31c2);const _0x126660={};_0x126660[_0x270cec(0x180)]=WS_EVENTS[_0x270cec(0x16f)],_0x126660[_0x270cec(0x1ec)]=_0x4d31c2,webSocketUtils[_0x270cec(0x1fb)](_0x4f1e19,_0x126660),await webSocketUtils[_0x270cec(0x165)](0xea60);const _0x4c70d8=await _0xdafdc['KOaNY'](getNamespaceUID,_0x528da2,_0x454b89);let _0x42b753=global_registry[_0x270cec(0x267)]?_0xdafdc[_0x270cec(0x24a)]:_0xdafdc[_0x270cec(0x1fe)];const _0x46d959={};_0x46d959[_0x270cec(0x28f)]=_0x42b753,_0x46d959[_0x270cec(0x236)]=_0xdafdc[_0x270cec(0x1e6)];let _0x265aa6=await _0x528da2[_0x270cec(0x271)](_0x46d959),_0x220912=_0x5f37ab['getGridHostname'](_0x265aa6)+'/'+_0x454b89,_0x1f9bc8=_0xdafdc[_0x270cec(0x278)];try{const _0x1a26de=_0x270cec(0x241)+AG_API_URL+_0x270cec(0x269)+_0x4c70d8,_0x3630dc=await _0xdafdc[_0x270cec(0x257)](got,_0x1a26de,_0x4a18ee);(_0xdafdc[_0x270cec(0x225)](_0x3630dc,null)||_0xdafdc[_0x270cec(0x225)](_0x3630dc,undefined))&&(_0x4d31c2=_0xdafdc[_0x270cec(0x1ca)],await _0xdafdc[_0x270cec(0x17e)](reportToGalactusAndSendToEDS,_0x1fb955,_0x4f1e19,_0x4d31c2,messageTypes['ERROR'],_0xdafdc['oJLMS'],_0xdafdc[_0x270cec(0x1ba)],_0xdafdc[_0x270cec(0x173)]),logger[_0x270cec(0x221)](_0x4d31c2),process['exit'](0x1));_0xdafdc[_0x270cec(0x23d)](_0x3630dc[_0x270cec(0x26a)],0x191)&&(_0x4d31c2=_0xdafdc[_0x270cec(0x289)],await _0xdafdc[_0x270cec(0x176)](reportToGalactusAndSendToEDS,_0x1fb955,_0x4f1e19,_0x4d31c2,messageTypes[_0x270cec(0x251)],_0xdafdc[_0x270cec(0x190)],_0xdafdc[_0x270cec(0x1fa)],_0xdafdc['vZKWL']),logger[_0x270cec(0x221)](_0x4d31c2),process['exit'](0x1));_0xdafdc[_0x270cec(0x1f4)](_0x3630dc['statusCode'],0xc8)&&(_0x4d31c2=_0x270cec(0x26d)+JSON[_0x270cec(0x1b6)](_0x3630dc),await _0xdafdc[_0x270cec(0x1fd)](reportToGalactusAndSendToEDS,_0x1fb955,_0x4f1e19,_0x4d31c2,messageTypes[_0x270cec(0x251)],_0xdafdc[_0x270cec(0x190)],_0xdafdc['cKDot'],_0xdafdc[_0x270cec(0x173)]),logger[_0x270cec(0x221)](_0x4d31c2),process[_0x270cec(0x1d9)](0x1));const _0x1f37df=JSON[_0x270cec(0x229)](_0x3630dc['body']);_0x1f37df[_0x270cec(0x1cf)]&&(_0x220912=_0x1f37df[_0x270cec(0x1cf)],_0x1f9bc8=_0xdafdc[_0x270cec(0x1b8)]),global_registry['isPrivateGrid']&&(_0x1f9bc8=_0xdafdc[_0x270cec(0x278)]);}catch(_0x396fb6){}_0x4d31c2='Grid\x20can\x20be\x20accessed\x20at:\x20'+_0x220912+'\x20',logger[_0x270cec(0x167)](_0x4d31c2);const _0xdbb4bf={};_0xdbb4bf['type']=WS_EVENTS[_0x270cec(0x16f)],_0xdbb4bf[_0x270cec(0x1ec)]=_0x4d31c2,webSocketUtils[_0x270cec(0x1fb)](_0x4f1e19,_0xdbb4bf),_0x4d31c2=_0x270cec(0x1f0)+_0x1f9bc8+'://'+_0x220912+_0x270cec(0x1b2),logger[_0x270cec(0x167)](_0x4d31c2);const _0x2f2ffc={};_0x2f2ffc[_0x270cec(0x180)]=WS_EVENTS[_0x270cec(0x16f)],_0x2f2ffc['message']=_0x4d31c2,webSocketUtils[_0x270cec(0x1fb)](_0x4f1e19,_0x2f2ffc);const _0x4733bf={};_0x4733bf[_0x270cec(0x180)]=WS_EVENTS[_0x270cec(0x29e)],_0x4733bf['message']=_0x270cec(0x242)+_0x220912,webSocketUtils[_0x270cec(0x1fb)](_0x4f1e19,_0x4733bf),await webSocketUtils['delay'](0x7d0);}catch(_0x72b2bb){if(_0xdafdc[_0x270cec(0x17d)](_0x18be21,![]))try{logger[_0x270cec(0x167)](_0x270cec(0x1e0)),await _0xdafdc['ScgDF'](removeGridComponents,_0x528da2,_0x24cfb0,_0x5134fe,_0x1298d7,_0x454b89),await _0x5f37ab[_0x270cec(0x16a)](_0x528da2,global_registry[_0x270cec(0x215)]);}catch(_0x4a8342){throw _0x4a8342;}throw _0x72b2bb;}}catch(_0x4f02e0){const _0x1baa63='Unable\x20to\x20Spawn\x20the\x20Grid!\x20Error:\x20'+_0x4f02e0+'\x20\x0a'+JSON[_0x270cec(0x1b6)](_0x4f02e0[_0x270cec(0x1b5)])+'\x20';if(_0x4f1e19){const _0x44ff4f={};_0x44ff4f[_0x270cec(0x180)]=WS_EVENTS[_0x270cec(0x16f)],_0x44ff4f[_0x270cec(0x1ec)]=_0x1baa63,webSocketUtils[_0x270cec(0x1fb)](_0x4f1e19,_0x44ff4f,_0xdafdc[_0x270cec(0x173)],!![]);}await webSocketUtils['delay'](0x7d0);const _0x343b32={};_0x343b32[_0x270cec(0x221)]=_0x1baa63,await _0xdafdc[_0x270cec(0x1f1)](sendInstrumentationEvent,_0x1fb955,_0xdafdc[_0x270cec(0x190)],messageTypes['ERROR'],_0xdafdc['USpjC'],_0x343b32,_0x1fb955),logger['error'](_0x1baa63);}process[_0x270cec(0x1d9)](0x0);};function a9_0x251e(){const _0x12c038=['oJLMS','lMhvC','addListeners','alreadyPresent','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unknown\x20error!','Acxlw','split','SOhIN','7858490YtvgOL','<UsernamePlaceholder>','maxNodes','Found\x20credentials\x20for\x20cloud\x20provider\x20locally.\x20Using\x20them\x20to\x20create\x20resources','epilogue','\x20are\x20not\x20present\x20in\x20VPC:\x20','YFwDN','get-grid-url-auth-failed','isSubnetsValid','uuid','3302EagYsl','../../cloudproviders/utils','Will\x20be\x20spawning\x20the\x20grid\x20','debug','CLI_RUN_STARTED','usage','s3bucket','TGZhh','Namespace\x20Created','gREGx','description','gPWUC','ClFRG','hKSQT','BFDcp','IuLbH','/wd/hub','desc','ffLnU','stack','stringify','CxyIn','YKCID','../../utils/userInput','YDEKL','aoYfg','jfLqU','TmpRp','xHnZQ','KKiaD','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','shgQL','\x20using\x20\x27','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','private-ingress-nginx-controller','MkdwR','nsWci','got','QQaSc','xWZUS','CbndX','haeVn','pSMny','fvfnv','Found\x20Subnets:\x20','route53','gridProfileId','Spawning\x20the\x20grid\x20','Adding\x20Websocket\x20listeners','annotations','gCJdo','tVSSl','EQLho','Creating\x20namespace','lFNKh','exit','ANtsm','SrnXu','true','Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Unauthorized\x20request!','srtfG','sTiev','Deleting\x20the\x20CloudFormation\x20Stacks','kSlKV','ScgDF','create-grid-checks-auth-failed','s3Bucket','Found\x20VPC:\x20','GOiNZ','updatePreSpawnedCluster','bVtjH','privateGrid','create-grid-checks-invalid-profile','mrles','message','pre-spawned-invalid-subnets','help','cvSFq','Hub\x20url\x20to\x20run\x20selenium\x20sessions:\x20','TSnaT','Spawning\x20Grid\x20on\x20the\x20Cluster','../../utils/utilityMethods','MTqjO','init-not-called','grid','Cluster\x20created\x20successfully','ingress-nginx','replace','obUdM','sendEventToBackend','GGDBB','IlUpe','TOjeY','xlLwi','getResourceClientId','ingress-nginx-controller','KNmzi','readFileSync','hwoEA','cloudProvider','hubVersion','grid-spawning-failed','uhzUF','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','niqTD','create-grid-checks-grid-already-exists','OzxMI','vjNiz','zCqOR','8IGiSgl','bstackAccesskey','https','get\x20grid\x20url\x20from\x20the\x20server.\x20Unknown\x20error!','Grid\x20profile\x20fetched\x20from\x20backend','XQqLf','clusterRegion','/packages/cli/create-grid-checks','REyxI','KOaNY','create-grid-checks-null-response','iDIEk','default','../../config/constants','create-grid-checks-non-200','vfDVO','grid-name','grid-profile','error','options','connectionTimeout','Create\x20a\x20private/public\x20grid.','HSkBA','reconnecting-websocket','ZmzeJ','aBpcY','parse','Spawning\x20grid\x20on\x20to\x20the\x20cluster','UlFhZ','body','sSfxB','metadata','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','RswNE','eUQOL','MSHnX','ARWZT','gridProfiles','string','namespace','VNaou','isVPCPresent','create','NtREZ','72Rwigck','srvhq','DtccX','createNamespace','CgUHg','duaAK','https://','CLI\x20run\x20finished:\x20','The\x20grid\x20creation\x20is\x20in\x20progress.\x20It\x20could\x20take\x20as\x20long\x20as\x2015-20\x20minutes.\x20You\x20will\x20receive\x20an\x20email\x20notification\x20once\x20the\x20grid\x20is\x20ready.','Checking\x20if\x20cluster\x20is\x20already\x20present\x20in\x20selected\x20region(','CWVzt','QLWtD','private-grid','RQuHy','../../utils/createk8sClient','VdbbD','KrbHh','ARdAs','WebSocket','UQGhU','CLI\x20run\x20started','isClusterPresent','ERROR','BmGrQ','gtLvh','BgSQA','writeFileSync','VnPnR','uNqcJ','dLmfd','includes','../../config/logger','xbawD','VPC\x20selected\x20does\x20not\x20exist.\x20Please\x20try\x20again','110EeZUAQ','cluster-name','\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation','aGHjA','\x20in\x20existing\x20cluster\x20\x27','GgkPn','hCDrE','QARhJ','HYQrH','browserVersion','isPrivateGrid','gEyUB','/packages/cli/get-grid-url?gridIdentifier=','statusCode','lpKrd','euDCg','Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20','1173775VYJQAq','setupAutoscaler','command','readNamespacedService','../../utils/gridComponents','6|4|8|1|3|5|0|2|7','MqPvV','Cluster\x20','ANaPz','rlTeL','RZjwp','WnrDB','create-grid-called','Mubsg','iNmlO','KcwKa','GJVot','QWZvW','minNodes','KcISS','bstackUsername','gridName','VKlri','Cluster\x20not\x20found.\x20Proceeding\x20with\x20creating\x20required\x20resources.','hzMiX','MIEad','managedBy','dzYIy','username','non-aws-azure-cluster','toLowerCase','21726GfhbPw','createdBy','name','existsSync','Invalid\x20Grid\x20Profile.Exiting\x20the\x20CLI.','dkvdJ','Browserstack','requestId','Create\x20a\x20new\x20Automation\x20grid.','An\x20Automation\x20Grid\x20already\x20exists\x20with\x20grid\x20name\x20${gridName}.\x20Please\x20use\x20--grid-name\x20option\x20to\x20provide\x20another\x20grid\x20name','reJDR','INFO','RxPjr','OQiCh','get-grid-url-non-200','epKoI','gjNuN','CLI_RUN_FINISHED','kBLFO','warn','xZkoq','FbHNy','createOtherResources','379876vzpMhr','zsbTt','delay','cloud-provider','info','7310907UKhrOX','ooJPx','deleteCluster','length','kJjrg','region','gridProfile','LOG','setupNewCluster','WzQGf','argv','vZKWL','cDySM','vpc','sAXBf','Subnets:\x20','JGCsw','builder','<PasswordPlaceholder>','AUbPt','configureIfNotConfigured','ZgFdE','uTMXY','5007576xLktSU','type','password','dVWOm','MIHia','concurrency','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','s3BucketName','nMgbE','\x27\x20grid\x20profile','XUkpJ','Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.','.\x20Please\x20re\x20-\x20select\x20subnets\x20and\x20try\x20again','clusterName','Gcvgt','subnets','KtFxJ'];a9_0x251e=function(){return _0x12c038;};return a9_0x251e();}