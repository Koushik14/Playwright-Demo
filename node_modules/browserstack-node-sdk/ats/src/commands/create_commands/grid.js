const a9_0x478614=a9_0xfc60;(function(_0x106edd,_0x5e0c37){const _0x377e28=a9_0xfc60,_0x507444=_0x106edd();while(!![]){try{const _0x427f0f=-parseInt(_0x377e28(0x219))/0x1+parseInt(_0x377e28(0x20f))/0x2*(parseInt(_0x377e28(0x158))/0x3)+-parseInt(_0x377e28(0x1d0))/0x4*(parseInt(_0x377e28(0x1b1))/0x5)+-parseInt(_0x377e28(0x231))/0x6*(-parseInt(_0x377e28(0x233))/0x7)+-parseInt(_0x377e28(0x1ae))/0x8*(parseInt(_0x377e28(0x1a4))/0x9)+parseInt(_0x377e28(0x236))/0xa*(-parseInt(_0x377e28(0x1d4))/0xb)+-parseInt(_0x377e28(0x1c4))/0xc*(-parseInt(_0x377e28(0x187))/0xd);if(_0x427f0f===_0x5e0c37)break;else _0x507444['push'](_0x507444['shift']());}catch(_0x3a7f61){_0x507444['push'](_0x507444['shift']());}}}(a9_0x5a5b,0x74d90));function a9_0xfc60(_0x398d05,_0x5b33d6){const _0x5a5bf8=a9_0x5a5b();return a9_0xfc60=function(_0xfc606d,_0x1b0bc6){_0xfc606d=_0xfc606d-0x11b;let _0x3a1975=_0x5a5bf8[_0xfc606d];return _0x3a1975;},a9_0xfc60(_0x398d05,_0x5b33d6);}const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a9_0x478614(0x144)),got=require(a9_0x478614(0x12e)),{v4:uuidv4}=require(a9_0x478614(0x17c)),webSocketUtils=require(a9_0x478614(0x1aa)),{logger}=require('../../config/logger'),{inputCloudProviderKeys}=require('../../utils/userInput'),{getCredentialsPath,updateGlobalRegistryWithConfig,kebabCase,reportToGalactusAndSendToEDS,getAuthHeader}=require(a9_0x478614(0x242)),{getCloudProviderObject}=require('../../cloudproviders/utils'),{AWS,WS_EVENTS,global_registry,WS_ENDPOINT,DEFAULT_GRID_NAME,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,messageTypes,AG_API_URL,AZURE,GCP}=require('../../config/constants'),{addGridComponents,removeGridComponents,getNamespaceUID}=require(a9_0x478614(0x1cc)),{createK8sClient}=require(a9_0x478614(0x156)),{sendInstrumentationEvent}=require(a9_0x478614(0x18b));function a9_0x5a5b(){const _0x197e7a=['hBHOI','ivrFZ','mRtec','\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation','/packages/cli/get-grid-url?gridIdentifier=','minNodes','xdylh','hubVersion','dQZuG','FZROj','/packages/cli/create-grid-checks','isSubnetsValid','AnfUO','ERROR','pre-spawned-subnets-not-selected','cloudProvider','message','ytPeh','28557HsvGjo','vNBQe','createdBy','description','s3BucketName','<PasswordPlaceholder>','../../utils/webSocketUtils','https://','Found\x20VPC:\x20','grid-profile','904DPMskH','securityGroups','RFOAw','729675ORxOFM','privateGrid','XYlmf','get-grid-url-non-200','vpc','get\x20grid\x20url\x20from\x20the\x20server.\x20Unknown\x20error!','yBBtv','parse','bstackAccesskey','managedBy','lkSpe','Invalid\x20input.\x20Currently\x20Spawning\x20the\x20grid\x20in\x20AWS\x20and\x20Azure\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','GET','pre-spawned-invalid-vpc','WEHYB','FEDVm','private-ingress-nginx-controller','argv','GXtTZ','48vspSvW','GPPXm','CLI_RUN_STARTED','RNofn','create','LyPxC','Hkapl','create-grid-checks-auth-failed','../../utils/gridComponents','Subnets\x20not\x20selected.\x20Please\x20select\x20subnets\x20and\x20try\x20again','Namespace\x20created','Cluster\x20','8vACRGd','wksVK','HPpiL','yEhQY','1195557hyxvuI','lTDVZ','exit','UDvEu','connectionTimeout','CuMgz','body','Spawning\x20the\x20grid\x20','LeAJX','type','wrnni','SCNPO','TPxzu','fJCZH','clusterName','error','bCFxh','statusCode','info','Hub\x20url\x20to\x20run\x20selenium\x20sessions:\x20','EVWyG','\x27\x20grid\x20profile','readFileSync','LOG','XDEOT','default','gridProfiles','gltjm','SdpUV','VPC\x20selected\x20does\x20not\x20exist.\x20Please\x20try\x20again','://','includes','stack','NswfM','CLI\x20run\x20started','2|0|3|6|4|5|8|1|7','eETWM','requestId','SUzrU','Will\x20be\x20spawning\x20the\x20grid\x20','JtTvM','XBkIR','fJUuN','https','oCcEH','QPEFi','iMUki','hqOJZ','SiLPA','isPrivateGrid','aTbHl','mPWMX','VSRJI','GTjFP','gridProfile','eqJXl','kBpcP','INFO','VTXqV','809546WVzCoz','OICTU','VAntH','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20','xRsmN','Grid\x20can\x20be\x20accessed\x20at:\x20','sendEventToBackend','uuedH','1|5|8|2|7|3|0|4|6','pPjSE','563283IFoyKP','Cluster\x20created\x20successfully','UEmoN','kzzbn','existsSync','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','wWVUW','cluster-name','options','Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.','dnsbZ','xDKbN','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unknown\x20error!','epilogue','Namespace\x20Created','isClusterPresent','split','create-grid-checks-invalid-profile','isNewAWSCluster','Deleting\x20the\x20CloudFormation\x20Stacks','name','updatePreSpawnedCluster','cloud-provider','nsrRA','493296SXdVkt','\x20are\x20not\x20present\x20in\x20VPC:\x20','63CmqUNG','Wkkxs','IbJSk','50BzoCgX','isVPCPresent','nqVQX','Invalid\x20Grid\x20Profile.Exiting\x20the\x20CLI.','YubMJ','tJipP','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','true','FHZnm','annotations','JXDun','IiMZp','../../utils/utilityMethods','aiDgO','tsXnj','\x20using\x20\x27','Checking\x20if\x20cluster\x20is\x20already\x20present\x20in\x20selected\x20region(','Found\x20Subnets:\x20','XTedj','TVjhr','addListeners','/wd/hub','gQcio','gridProfileId','IodbC','Tibxl','QfdqJ','YNeRe','configureIfNotConfigured','username','bsSCp','AkUdo','got','command','QeHFQ','maxNodes','WebSocket','Cluster\x20not\x20found.\x20Proceeding\x20with\x20creating\x20required\x20resources.','SbaFf','Browserstack','Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Unauthorized\x20request!','QKPnD','sBdNm','HEbEX','delay','stringify','help','namespace','get-grid-url-null-response','\x20in\x20existing\x20cluster\x20\x27','bstackUsername','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','dvNsp','Create\x20a\x20private/public\x20grid.','reconnecting-websocket','setupAutoscaler','Unable\x20to\x20fetch\x20credentials\x20for\x20cloud\x20provider\x20locally','.\x20Please\x20re\x20-\x20select\x20subnets\x20and\x20try\x20again','kwZuj','get-grid-url-auth-failed','hsTJj','ingress-nginx-controller','Unable\x20to\x20Spawn\x20the\x20Grid!\x20Error:\x20','idjPv','cluster-name,\x20cloud-provider\x20&&\x20region\x20should\x20be\x20provided\x20when\x20spawning\x20a\x20grid\x20in\x20existing\x20(Non-BrowserStack\x20created)\x20K8s\x20cluster','slXyR','pHjEc','clusterRegion','region','eJatN','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','password','../../utils/createk8sClient','Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20','3mNAGxp','riTKE','route53','setupNewCluster','EhyFT','HRHfy','jtjCl','pre-spawned-invalid-subnets','ccIGc','xfiMm','defaultGridProfile','KlKmq','uacaA','EOqLx','2|3|0|4|1','GDTlm','metadata','XDSTl','RmrQK','The\x20grid\x20creation\x20is\x20in\x20progress.\x20It\x20could\x20take\x20as\x20long\x20as\x2015-20\x20minutes.\x20You\x20will\x20receive\x20an\x20email\x20notification\x20once\x20the\x20grid\x20is\x20ready.','toLowerCase','fetchLocalCreds','ogSCE','TtorM','hPOHc','Grid\x20spawned\x20on\x20the\x20cluster','PMFOI','clXPW','dUhWh','gridName','Unknown\x20cloud\x20provider\x20found\x20-\x20AZURE','fuIJF','writeFileSync','rUvVo','YsgJf','ingress-nginx','uuid','prespawned-cluster-args-not-passed','yMKxQ','usage','nrVix','browserVersion','egGMN','string','GLxif','xhYUp','handler','3545841LjZPBw','guHlv','RDazK','AOrMZ','../../utils/instrumentationUtils','s3bucket','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','Spawning\x20Grid\x20on\x20the\x20Cluster','private-grid','createOtherResources','instanceType'];a9_0x5a5b=function(){return _0x197e7a;};return a9_0x5a5b();}exports[a9_0x478614(0x12f)]='grid',exports['desc']='Create\x20a\x20new\x20Automation\x20grid.',exports['builder']=function(_0x18fa3a){const _0x1dabcc=a9_0x478614,_0x52490d={};_0x52490d[_0x1dabcc(0x1c3)]=_0x1dabcc(0x222),_0x52490d['XDEOT']=_0x1dabcc(0x183),_0x52490d['IodbC']=_0x1dabcc(0x154),_0x52490d['lIGIU']=_0x1dabcc(0x18d),_0x52490d['clXPW']=_0x1dabcc(0x141),_0x52490d[_0x1dabcc(0x1b0)]=_0x1dabcc(0x21e),_0x52490d['mRtec']=_0x1dabcc(0x143),_0x52490d[_0x1dabcc(0x120)]='help';const _0x4525db=_0x52490d,_0x212f13={};_0x212f13[_0x1dabcc(0x1a7)]=_0x4525db[_0x1dabcc(0x1c3)],_0x212f13['type']=_0x4525db[_0x1dabcc(0x1ec)];const _0x3779be={};_0x3779be[_0x1dabcc(0x1a7)]=_0x4525db[_0x1dabcc(0x126)],_0x3779be[_0x1dabcc(0x1dd)]=_0x4525db[_0x1dabcc(0x1ec)];const _0x5cde29={};_0x5cde29[_0x1dabcc(0x1a7)]=_0x4525db['lIGIU'],_0x5cde29[_0x1dabcc(0x1dd)]=_0x4525db[_0x1dabcc(0x1ec)];const _0x1c4778={};_0x1c4778['description']=_0x4525db[_0x1dabcc(0x173)],_0x1c4778[_0x1dabcc(0x1dd)]=_0x4525db['XDEOT'];const _0x3f7c77={};_0x3f7c77['description']=_0x4525db[_0x1dabcc(0x1b0)],_0x3f7c77['type']=_0x4525db[_0x1dabcc(0x1ec)];const _0x27d44b={};_0x27d44b[_0x1dabcc(0x1a7)]=_0x4525db[_0x1dabcc(0x194)],_0x27d44b[_0x1dabcc(0x1dd)]=_0x4525db[_0x1dabcc(0x1ec)];const _0x57ff2e={};return _0x57ff2e['grid-name']=_0x212f13,_0x57ff2e[_0x1dabcc(0x1ad)]=_0x3779be,_0x57ff2e[_0x1dabcc(0x220)]=_0x5cde29,_0x57ff2e[_0x1dabcc(0x22f)]=_0x1c4778,_0x57ff2e[_0x1dabcc(0x152)]=_0x3f7c77,_0x57ff2e[_0x1dabcc(0x18f)]=_0x27d44b,_0x18fa3a['usage'](HELP_HEADER_MESSAGE[_0x1dabcc(0x1c8)])[_0x1dabcc(0x226)](HELP_FOOTER_MESSAGE)[_0x1dabcc(0x221)](_0x57ff2e)[_0x1dabcc(0x13c)](_0x4525db[_0x1dabcc(0x120)])[_0x1dabcc(0x1c2)];},exports[a9_0x478614(0x186)]=async function(_0x301481){const _0x27b399=a9_0x478614,_0x31e2c8={'AOrMZ':'warn','LUZWk':_0x27b399(0x1f7),'YubMJ':'http','uuedH':'Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.','aiDgO':'string','AnfUO':_0x27b399(0x154),'EOqLx':_0x27b399(0x18d),'Tibxl':_0x27b399(0x141),'kBpcP':_0x27b399(0x21e),'DYBWu':_0x27b399(0x143),'HgFtD':_0x27b399(0x13c),'FZROj':_0x27b399(0x176),'kVzme':_0x27b399(0x1ff),'sBdNm':_0x27b399(0x1e3),'egGMN':function(_0x288415){return _0x288415();},'jtjCl':function(_0x466df8,_0x5b2c67){return _0x466df8!==_0x5b2c67;},'XBkIR':_0x27b399(0x14a),'RPPzY':_0x27b399(0x23c),'ccIGc':function(_0x38f020,_0x2b7c3a,_0xd507c1,_0xe95c55,_0x56564a,_0x128032,_0x2fb6f1){return _0x38f020(_0x2b7c3a,_0xd507c1,_0xe95c55,_0x56564a,_0x128032,_0x2fb6f1);},'gltjm':'create-grid-called','HDhVV':'init-not-called','KlKmq':'<UsernamePlaceholder>','YNeRe':_0x27b399(0x1a9),'eETWM':'Adding\x20Websocket\x20listeners','QPEFi':function(_0x1e7c55,_0x2338a4){return _0x1e7c55===_0x2338a4;},'dQZuG':_0x27b399(0x1d3),'bCFxh':function(_0x477102,_0x4223ee){return _0x477102!==_0x4223ee;},'PMFOI':_0x27b399(0x188),'DvKAy':_0x27b399(0x14e),'ivrFZ':function(_0x5e7c57,_0x53fa4e,_0x3db5ff,_0x574c4f,_0x28960a,_0x140ff8,_0x4004cc,_0x2cc854){return _0x5e7c57(_0x53fa4e,_0x3db5ff,_0x574c4f,_0x28960a,_0x140ff8,_0x4004cc,_0x2cc854);},'hPOHc':_0x27b399(0x17d),'AkUdo':_0x27b399(0x167),'slXyR':_0x27b399(0x164),'DpLbW':_0x27b399(0x1bc),'kwZuj':function(_0x466ca9,_0x349bb8,_0xc28c32,_0x9ef1d8,_0xb4e182,_0x4a45c4,_0x24f311,_0x36d02c){return _0x466ca9(_0x349bb8,_0xc28c32,_0x9ef1d8,_0xb4e182,_0x4a45c4,_0x24f311,_0x36d02c);},'gAWIE':'non-aws-azure-cluster','GLxif':function(_0x524657,_0x169886){return _0x524657===_0x169886;},'xfiMm':_0x27b399(0x23d),'tJipP':function(_0x10b29e,_0x4ec909){return _0x10b29e===_0x4ec909;},'GTjFP':_0x27b399(0x20e),'RmrQK':function(_0x28a03b,_0x147988){return _0x28a03b===_0x147988;},'dnsbZ':_0x27b399(0x16f),'wksVK':_0x27b399(0x218),'LyPxC':_0x27b399(0x1bd),'SUzrU':function(_0x1dbfc9,_0x4a161a,_0x3c33e0){return _0x1dbfc9(_0x4a161a,_0x3c33e0);},'gQcio':'gowgM','QfdqJ':_0x27b399(0x225),'GozhD':'create-grid-checks-null-response','XYlmf':function(_0x22dd93,_0x3a340e){return _0x22dd93===_0x3a340e;},'dgXLt':_0x27b399(0x207),'fSuCl':_0x27b399(0x185),'wWVUW':'Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unauthorized\x20request!','fuIJF':function(_0x5c9892,_0x3db0a7,_0x180c82,_0x3a6ccd,_0x48d142,_0x41ea76,_0x30da62,_0x5a87cd){return _0x5c9892(_0x3db0a7,_0x180c82,_0x3a6ccd,_0x48d142,_0x41ea76,_0x30da62,_0x5a87cd);},'fJUuN':_0x27b399(0x1cb),'SbaFf':function(_0x2ba69f,_0x492ce7){return _0x2ba69f!==_0x492ce7;},'EVWyG':function(_0x3c840a,_0x5e49be){return _0x3c840a===_0x5e49be;},'lkSpe':_0x27b399(0x189),'plicV':function(_0x220cca,_0x4428bf,_0x35585d,_0x26aaa0,_0x59ce47,_0x2d89a1,_0x4cb0d7,_0x4fdc3d){return _0x220cca(_0x4428bf,_0x35585d,_0x26aaa0,_0x59ce47,_0x2d89a1,_0x4cb0d7,_0x4fdc3d);},'CtajO':'create-grid-checks-non-200','kIRDk':'Grid\x20profile\x20fetched\x20from\x20backend','LeAJX':_0x27b399(0x1f0),'UEmoN':_0x27b399(0x137),'HRHfy':'An\x20Automation\x20Grid\x20already\x20exists\x20with\x20grid\x20name\x20${gridName}.\x20Please\x20use\x20--grid-name\x20option\x20to\x20provide\x20another\x20grid\x20name','IiMZp':'create-grid-checks-grid-already-exists','xdylh':_0x27b399(0x1d7),'Wkfmu':'nHoDR','bsSCp':function(_0x19d594,_0x1a673c){return _0x19d594===_0x1a673c;},'OICTU':_0x27b399(0x17e),'VAntH':'YieKk','VDYUT':function(_0x2c29a6,_0x1c2595){return _0x2c29a6===_0x1c2595;},'lTDVZ':_0x27b399(0x1c0),'nsrRA':_0x27b399(0x239),'qsMrV':_0x27b399(0x22a),'WCwlh':function(_0x5134cf,_0x4509c2){return _0x5134cf===_0x4509c2;},'HPpiL':function(_0x5c64e7,_0x42c5c3){return _0x5c64e7===_0x42c5c3;},'JXDun':_0x27b399(0x15c),'eIJRY':_0x27b399(0x20b),'wrnni':_0x27b399(0x1f5),'GPPXm':'CNHWy','iMUki':function(_0x1f5210,_0x49ef81,_0x2b843b,_0x35158d,_0x5e38a5,_0x261c15,_0x35d12e,_0x69327c,_0x5d533e,_0x40eeb8,_0x5a4e55,_0x228c1f){return _0x1f5210(_0x49ef81,_0x2b843b,_0x35158d,_0x5e38a5,_0x261c15,_0x35d12e,_0x69327c,_0x5d533e,_0x40eeb8,_0x5a4e55,_0x228c1f);},'WEHYB':_0x27b399(0x217),'Wkkxs':function(_0xdbb941,_0x5cbc06,_0x1e3101,_0x1168b9,_0x4f0191,_0x5d0c04){return _0xdbb941(_0x5cbc06,_0x1e3101,_0x1168b9,_0x4f0191,_0x5d0c04);},'fJCZH':function(_0x1ff6ec,_0x384969){return _0x1ff6ec===_0x384969;},'bGVMs':_0x27b399(0x146),'IbJSk':function(_0x50f619,_0x2b3cde){return _0x50f619===_0x2b3cde;},'ogSCE':function(_0x124503,_0x3dae97,_0x2aa5f4,_0x16939a){return _0x124503(_0x3dae97,_0x2aa5f4,_0x16939a);},'JtTvM':'Saving\x20credentials\x20for\x20cloud\x20provider\x20locally\x20for\x20later\x20runs','xRsmN':'Found\x20credentials\x20for\x20cloud\x20provider\x20locally.\x20Using\x20them\x20to\x20create\x20resources','vNBQe':_0x27b399(0x133),'pHjEc':function(_0x130f59,_0x34d6a2){return _0x130f59!=_0x34d6a2;},'SCNPO':function(_0x4f1643,_0x286e63){return _0x4f1643!=_0x286e63;},'hBHOI':function(_0x20f0bc,_0x55621b){return _0x20f0bc>_0x55621b;},'mjRtG':function(_0x4b7c47,_0x3e3f12){return _0x4b7c47===_0x3e3f12;},'fTRkh':_0x27b399(0x1cd),'riTKE':function(_0x41f546,_0x119a3a,_0x507b45,_0x901044,_0x27f13d,_0x4f3e56,_0x54a50c,_0x24b0e8){return _0x41f546(_0x119a3a,_0x507b45,_0x901044,_0x27f13d,_0x4f3e56,_0x54a50c,_0x24b0e8);},'ytPeh':_0x27b399(0x1a0),'YsgJf':function(_0x40ad50,_0x38641b){return _0x40ad50===_0x38641b;},'OtRbE':_0x27b399(0x1f1),'tsXnj':_0x27b399(0x1be),'dwdAw':_0x27b399(0x15f),'nrVix':_0x27b399(0x166),'yBBtv':_0x27b399(0x21a),'TPxzu':_0x27b399(0x16b),'bdYwq':function(_0xfad0dd,_0x1707c3){return _0xfad0dd===_0x1707c3;},'QeHFQ':function(_0x557148,_0x429c6d){return _0x557148(_0x429c6d);},'SiLPA':function(_0x33d8ed,_0x1aeb15){return _0x33d8ed===_0x1aeb15;},'nqVQX':function(_0x5c50c2,_0x3e513f){return _0x5c50c2==_0x3e513f;},'rtGFF':function(_0x24ec56,_0xfd4e61){return _0x24ec56(_0xfd4e61);},'rUvVo':'Creating\x20namespace','VSRJI':_0x27b399(0x1ed),'hqOJZ':_0x27b399(0x135),'FHZnm':_0x27b399(0x227),'HEbEX':_0x27b399(0x1ce),'xDKbN':'Spawning\x20grid\x20on\x20to\x20the\x20cluster','dvNsp':_0x27b399(0x18e),'Hkapl':function(_0x105131,_0x63898){return _0x105131===_0x63898;},'oCcEH':function(_0x263715,_0x3090ee,_0x498e17,_0x2ba7f2,_0x48e2e2,_0x222bfa,_0x491cda,_0x59d5ee,_0x2bbab6,_0x220fbe,_0x5abd6d){return _0x263715(_0x3090ee,_0x498e17,_0x2ba7f2,_0x48e2e2,_0x222bfa,_0x491cda,_0x59d5ee,_0x2bbab6,_0x220fbe,_0x5abd6d);},'yMPXk':_0x27b399(0x171),'kzzbn':'Fetching\x20url\x20for\x20running\x20tests\x20on\x20the\x20grid','RNofn':_0x27b399(0x1c1),'dUhWh':_0x27b399(0x14b),'XAiUo':_0x27b399(0x17b),'VRiFV':function(_0x550436,_0x4fc2af,_0x1f6577){return _0x550436(_0x4fc2af,_0x1f6577);},'TuPXR':_0x27b399(0x1b6),'XDSTl':function(_0x427e0d,_0x32190f,_0x3fc9ee,_0x632741,_0x1c349a,_0x54b91d,_0x582ece,_0x78479e){return _0x427e0d(_0x32190f,_0x3fc9ee,_0x632741,_0x1c349a,_0x54b91d,_0x582ece,_0x78479e);},'idjPv':_0x27b399(0x13e),'rEOdr':function(_0xbb96d8,_0x9b6e3e){return _0xbb96d8===_0x9b6e3e;},'TVjhr':_0x27b399(0x136),'fkEOA':_0x27b399(0x149),'CuMgz':function(_0x35874a,_0x16d8a6,_0x25f475,_0x2caf48,_0x53e527,_0x57528b,_0xd4f162,_0x5dcfc6){return _0x35874a(_0x16d8a6,_0x25f475,_0x2caf48,_0x53e527,_0x57528b,_0xd4f162,_0x5dcfc6);},'EVtCQ':_0x27b399(0x1b4),'aTbHl':function(_0x5a8f01,_0x11fb97){return _0x5a8f01===_0x11fb97;},'bGmHb':function(_0x1f3bca,_0x2a25aa,_0x1b1585,_0x4b8eb7,_0x9e0c,_0x25ec3f){return _0x1f3bca(_0x2a25aa,_0x1b1585,_0x4b8eb7,_0x9e0c,_0x25ec3f);},'eJatN':function(_0x655491,_0xbb42f1,_0x386f07,_0x9d8ada,_0x1aa22e,_0x308d35,_0x120b2f){return _0x655491(_0xbb42f1,_0x386f07,_0x9d8ada,_0x1aa22e,_0x308d35,_0x120b2f);},'Rvugg':'grid-spawning-failed'};let _0x13ad47=![],_0x5317c1,_0x1bd34a,_0x1091ca,_0x2d9498,_0x5e6d7d,_0x349984,_0x253f83,_0x301a19,_0x3c6f2f,_0x599e03,_0x2c02a8,_0x317614,_0x5d8c50=0x1,_0x346fa9=0xe;try{global_registry[_0x27b399(0x1f9)]=_0x31e2c8[_0x27b399(0x182)](uuidv4),global_registry[_0x27b399(0x205)]=![];if(!fs[_0x27b399(0x21d)](_0x31e2c8[_0x27b399(0x182)](getCredentialsPath))){if(_0x31e2c8['jtjCl'](_0x31e2c8['XBkIR'],_0x31e2c8[_0x27b399(0x1fd)])){const _0x19293a={};_0x19293a[_0x27b399(0x1dd)]=_0x2aff89['LOG'],_0x19293a[_0x27b399(0x1a2)]=_0x27b399(0x1cf)+_0x104e2e+_0x27b399(0x195),_0x2bb8e7['sendEventToBackend'](_0xf1f8c6,_0x19293a,_0x31e2c8[_0x27b399(0x18a)]),_0x494d91[_0x27b399(0x1e6)](_0x27b399(0x1cf)+_0x4e4935+_0x27b399(0x195)),_0x261ec8=!![];}else console[_0x27b399(0x1e3)](_0x31e2c8['RPPzY']),await _0x31e2c8[_0x27b399(0x160)](sendInstrumentationEvent,_0x301481,_0x31e2c8[_0x27b399(0x1ef)],messageTypes['ERROR'],_0x31e2c8['HDhVV'],null,_0x301481),process[_0x27b399(0x1d6)](0x1);}await _0x31e2c8['ccIGc'](sendInstrumentationEvent,_0x301481,_0x31e2c8['gltjm'],messageTypes[_0x27b399(0x20d)],null,null,_0x301481);const _0x245c92=JSON[_0x27b399(0x1b8)](fs[_0x27b399(0x1ea)](_0x31e2c8[_0x27b399(0x182)](getCredentialsPath)));global_registry[_0x27b399(0x140)]=_0x245c92[_0x27b399(0x135)][_0x27b399(0x12b)],global_registry[_0x27b399(0x1b9)]=_0x245c92[_0x27b399(0x135)][_0x27b399(0x155)];const _0x3be3ed=WS_ENDPOINT['replace'](_0x31e2c8[_0x27b399(0x163)],_0x245c92[_0x27b399(0x135)][_0x27b399(0x12b)])['replace'](_0x31e2c8[_0x27b399(0x129)],_0x245c92[_0x27b399(0x135)][_0x27b399(0x155)]),_0x1019c4={};_0x1019c4[_0x27b399(0x132)]=ws,_0x1019c4[_0x27b399(0x1d8)]=0x36ee80,_0x599e03=new ReconnectingWebSocket(_0x3be3ed,[],_0x1019c4),logger['debug'](_0x31e2c8[_0x27b399(0x1f8)]),webSocketUtils[_0x27b399(0x122)](_0x599e03,_0x301481['user'],_0x301481['password']);let _0x1bcee3=DEFAULT_GRID_NAME;if(_0x301481[_0x27b399(0x1e2)]||_0x301481['cloudProvider']||_0x301481['region']){if(_0x31e2c8[_0x27b399(0x201)](_0x31e2c8[_0x27b399(0x19a)],_0x31e2c8[_0x27b399(0x19a)]))!(_0x301481[_0x27b399(0x1e2)]&&_0x301481[_0x27b399(0x1a1)]&&_0x301481['region'])&&(_0x31e2c8['bCFxh'](_0x31e2c8[_0x27b399(0x172)],_0x31e2c8[_0x27b399(0x172)])?_0x51e2bb[_0x27b399(0x205)]=!![]:(_0x5317c1=_0x31e2c8['DvKAy'],await _0x31e2c8[_0x27b399(0x193)](reportToGalactusAndSendToEDS,_0x301481,_0x599e03,_0x5317c1,messageTypes[_0x27b399(0x19f)],_0x31e2c8['gltjm'],_0x31e2c8[_0x27b399(0x170)],_0x31e2c8['sBdNm']),logger[_0x27b399(0x1e3)](_0x5317c1),process[_0x27b399(0x1d6)](0x1))),![AWS,AZURE,GCP][_0x27b399(0x1f3)](_0x301481[_0x27b399(0x1a1)][_0x27b399(0x16c)]())&&(_0x31e2c8[_0x27b399(0x201)](_0x31e2c8[_0x27b399(0x12d)],_0x31e2c8[_0x27b399(0x14f)])?_0x203605[_0x27b399(0x1e6)](_0x27b399(0x1ac)+_0x27529b+'\x20'):(_0x5317c1=_0x31e2c8['DpLbW'],await _0x31e2c8['kwZuj'](reportToGalactusAndSendToEDS,_0x301481,_0x599e03,_0x5317c1,messageTypes['ERROR'],_0x31e2c8[_0x27b399(0x1ef)],_0x31e2c8['gAWIE'],_0x31e2c8[_0x27b399(0x138)]),logger['error'](_0x5317c1),process[_0x27b399(0x1d6)](0x1))),_0x301481[_0x27b399(0x1b2)]&&_0x31e2c8[_0x27b399(0x184)](_0x301481[_0x27b399(0x1b2)][_0x27b399(0x16c)](),_0x31e2c8[_0x27b399(0x161)])&&(_0x31e2c8[_0x27b399(0x23b)](_0x31e2c8[_0x27b399(0x209)],_0x31e2c8[_0x27b399(0x209)])?global_registry[_0x27b399(0x205)]=!![]:_0x1b2600=_0x5a8757[_0x27b399(0x175)]),_0x13ad47=!![],_0x1091ca=_0x301481['clusterName'],_0x1bd34a=_0x301481[_0x27b399(0x1a1)][_0x27b399(0x16c)](),_0x2d9498=_0x301481['region'];else{const _0x1512b2=_0x31e2c8['LUZWk'][_0x27b399(0x229)]('|');let _0x49cdfd=0x0;while(!![]){switch(_0x1512b2[_0x49cdfd++]){case'0':_0x58687c=_0x27b399(0x1db)+_0x506ef9+_0x27b399(0x13f)+_0x378b5f+'\x27';continue;case'1':_0x34e18c[_0x27b399(0x199)]=_0x21731d[_0x27b399(0x199)];continue;case'2':const _0x54fe53={};_0x54fe53[_0x27b399(0x1dd)]=_0x5afa81['CLI_RUN_STARTED'],_0x54fe53['message']=_0x27b399(0x1f6),_0x5ee04a[_0x27b399(0x215)](_0x3d8fa4,_0x54fe53);continue;case'3':_0x3c1229[_0x27b399(0x1e6)](_0x3453a3);continue;case'4':_0x25fdcd[_0x27b399(0x1a1)]=_0x1b9e38;continue;case'5':_0x4efe9a[_0x27b399(0x151)]=_0x33075d;continue;case'6':const _0xb3b73e={};_0xb3b73e[_0x27b399(0x1dd)]=_0x50ae1a[_0x27b399(0x1eb)],_0xb3b73e[_0x27b399(0x1a2)]=_0x5f4a7a,_0x47adf8[_0x27b399(0x215)](_0x337beb,_0xb3b73e);continue;case'7':_0x47c3fd['browserVersion']=_0x33e4de[_0x27b399(0x181)];continue;case'8':_0x3c05b1[_0x27b399(0x1e2)]=_0x5cecbb;continue;}break;}}}_0x301481[_0x27b399(0x175)]&&(_0x31e2c8['RmrQK'](_0x31e2c8['dnsbZ'],_0x31e2c8[_0x27b399(0x223)])?_0x1bcee3=_0x301481[_0x27b399(0x175)]:_0x4d3f54=_0x3e87b4[_0x2a3aae[_0x27b399(0x20a)]]);_0x301481[_0x27b399(0x20a)]&&(_0x31e2c8[_0x27b399(0x1e4)](_0x31e2c8[_0x27b399(0x1d1)],_0x31e2c8[_0x27b399(0x1d1)])?_0x991426=_0x31e2c8[_0x27b399(0x23a)]:global_registry[_0x27b399(0x20a)]=_0x301481[_0x27b399(0x20a)]);global_registry[_0x27b399(0x175)]=_0x1bcee3;const _0x4ab2f4={'method':_0x31e2c8[_0x27b399(0x1c9)],'headers':_0x31e2c8[_0x27b399(0x1fa)](getAuthHeader,_0x245c92[_0x27b399(0x135)][_0x27b399(0x12b)],_0x245c92[_0x27b399(0x135)]['password'])},_0x485bdf='https://'+AG_API_URL+_0x27b399(0x19c),_0x12857a={};_0x12857a['gridName']=_0x1bcee3;const _0x3e3f79={'searchParams':_0x12857a,..._0x4ab2f4},_0x3c5d83=_0x3e3f79,_0x3e6240=await _0x31e2c8['SUzrU'](got,_0x485bdf,_0x3c5d83);(_0x31e2c8['GLxif'](_0x3e6240,null)||_0x31e2c8['QPEFi'](_0x3e6240,undefined))&&(_0x31e2c8[_0x27b399(0x184)](_0x31e2c8[_0x27b399(0x124)],_0x31e2c8[_0x27b399(0x124)])?(_0x5317c1=_0x31e2c8[_0x27b399(0x128)],await _0x31e2c8['kwZuj'](reportToGalactusAndSendToEDS,_0x301481,_0x599e03,_0x5317c1,messageTypes[_0x27b399(0x19f)],_0x31e2c8[_0x27b399(0x1ef)],_0x31e2c8['GozhD'],_0x31e2c8['sBdNm']),logger['error'](_0x5317c1),process[_0x27b399(0x1d6)](0x1)):_0x4199b2['isPrivateGrid']=!![]);_0x31e2c8['XYlmf'](_0x3e6240['statusCode'],0x191)&&(_0x31e2c8['QPEFi'](_0x31e2c8['dgXLt'],_0x31e2c8['fSuCl'])?_0x421d09[_0x27b399(0x1e6)](_0x27b399(0x11f)+_0x38b0b1[_0x27b399(0x13b)](_0x437576)+'\x20'):(_0x5317c1=_0x31e2c8[_0x27b399(0x21f)],await _0x31e2c8['fuIJF'](reportToGalactusAndSendToEDS,_0x301481,_0x599e03,_0x5317c1,messageTypes[_0x27b399(0x19f)],_0x31e2c8[_0x27b399(0x1ef)],_0x31e2c8[_0x27b399(0x1fe)],_0x31e2c8[_0x27b399(0x138)]),logger[_0x27b399(0x1e3)](_0x5317c1),process[_0x27b399(0x1d6)](0x1)));_0x31e2c8[_0x27b399(0x134)](_0x3e6240['statusCode'],0xc8)&&(_0x31e2c8[_0x27b399(0x1e8)](_0x31e2c8[_0x27b399(0x1bb)],_0x31e2c8[_0x27b399(0x1bb)])?(_0x5317c1=_0x27b399(0x212)+JSON[_0x27b399(0x13b)](_0x3e6240),await _0x31e2c8['plicV'](reportToGalactusAndSendToEDS,_0x301481,_0x599e03,_0x5317c1,messageTypes['ERROR'],_0x31e2c8[_0x27b399(0x1ef)],_0x31e2c8['CtajO'],_0x31e2c8['sBdNm']),logger['error'](_0x5317c1),process['exit'](0x1)):_0x5ab9a0[_0x27b399(0x20a)]=_0x3e2d28['gridProfile']);const _0x87f88f=JSON[_0x27b399(0x1b8)](_0x3e6240['body']),_0xe1fa14={};_0xe1fa14[_0x27b399(0x1dd)]=WS_EVENTS[_0x27b399(0x1c6)],_0xe1fa14[_0x27b399(0x1a2)]=_0x27b399(0x1f6),webSocketUtils[_0x27b399(0x215)](_0x599e03,_0xe1fa14);const _0x295d79={};_0x295d79[_0x27b399(0x1dd)]=WS_EVENTS['LOG'],_0x295d79[_0x27b399(0x1a2)]=_0x31e2c8['kIRDk'],webSocketUtils[_0x27b399(0x215)](_0x599e03,_0x295d79);_0x87f88f['alreadyPresent']&&(_0x31e2c8[_0x27b399(0x1b3)](_0x31e2c8[_0x27b399(0x1dc)],_0x31e2c8[_0x27b399(0x21b)])?_0x5339bb[_0x27b399(0x1a1)]={}:(_0x5317c1=_0x31e2c8[_0x27b399(0x15d)],await _0x31e2c8[_0x27b399(0x177)](reportToGalactusAndSendToEDS,_0x301481,_0x599e03,_0x5317c1,messageTypes[_0x27b399(0x19f)],_0x31e2c8['gltjm'],_0x31e2c8[_0x27b399(0x241)],_0x31e2c8[_0x27b399(0x138)]),logger[_0x27b399(0x1e3)](_0x5317c1),process['exit'](0x1)));const _0x18dac5=_0x87f88f[_0x27b399(0x1ee)];let _0x2d350b=_0x18dac5[_0x87f88f[_0x27b399(0x162)]];if(_0x301481[_0x27b399(0x20a)]){if(_0x31e2c8[_0x27b399(0x15e)](_0x31e2c8[_0x27b399(0x198)],_0x31e2c8['Wkfmu']))_0x2d350b=_0x18dac5[_0x301481[_0x27b399(0x20a)]];else{const _0x36647d={};_0x36647d[_0x27b399(0x1a7)]=_0x31e2c8[_0x27b399(0x216)],_0x36647d['type']=_0x31e2c8[_0x27b399(0x11b)];const _0x5cc381={};_0x5cc381[_0x27b399(0x1a7)]=_0x31e2c8[_0x27b399(0x19e)],_0x5cc381['type']=_0x31e2c8['aiDgO'];const _0x1c7034={};_0x1c7034[_0x27b399(0x1a7)]=_0x31e2c8[_0x27b399(0x165)],_0x1c7034[_0x27b399(0x1dd)]=_0x31e2c8[_0x27b399(0x11b)];const _0x4ef1d2={};_0x4ef1d2[_0x27b399(0x1a7)]=_0x31e2c8[_0x27b399(0x127)],_0x4ef1d2[_0x27b399(0x1dd)]=_0x31e2c8['aiDgO'];const _0x1849df={};_0x1849df['description']=_0x31e2c8[_0x27b399(0x20c)],_0x1849df['type']=_0x31e2c8[_0x27b399(0x11b)];const _0x49daf1={};_0x49daf1['description']=_0x31e2c8['DYBWu'],_0x49daf1['type']=_0x31e2c8[_0x27b399(0x11b)];const _0x4b9828={};return _0x4b9828['grid-name']=_0x36647d,_0x4b9828['grid-profile']=_0x5cc381,_0x4b9828[_0x27b399(0x220)]=_0x1c7034,_0x4b9828['cloud-provider']=_0x4ef1d2,_0x4b9828['region']=_0x1849df,_0x4b9828['private-grid']=_0x49daf1,_0x23b739[_0x27b399(0x17f)](_0x5e409e[_0x27b399(0x1c8)])[_0x27b399(0x226)](_0x46c625)[_0x27b399(0x221)](_0x4b9828)['help'](_0x31e2c8['HgFtD'])['argv'];}}if(_0x31e2c8[_0x27b399(0x12c)](_0x13ad47,![])){if(_0x31e2c8[_0x27b399(0x1e4)](_0x31e2c8[_0x27b399(0x210)],_0x31e2c8[_0x27b399(0x211)])){_0x31e2c8[_0x27b399(0x184)](_0x2d350b,undefined)&&(_0x31e2c8['VDYUT'](_0x31e2c8[_0x27b399(0x1d5)],_0x31e2c8['lTDVZ'])?(_0x5317c1=_0x31e2c8[_0x27b399(0x230)],await _0x31e2c8[_0x27b399(0x193)](reportToGalactusAndSendToEDS,_0x301481,_0x599e03,_0x5317c1,messageTypes[_0x27b399(0x19f)],_0x31e2c8['gltjm'],_0x31e2c8['qsMrV'],_0x31e2c8['sBdNm']),logger[_0x27b399(0x1e3)](_0x5317c1),process[_0x27b399(0x1d6)](0x1)):(_0x4e9320[_0x27b399(0x1e3)](_0x31e2c8[_0x27b399(0x19b)]),_0x1811cf[_0x27b399(0x1d6)](0x1)));global_registry[_0x27b399(0x125)]=_0x2d350b['id'];(_0x31e2c8['WCwlh'](_0x1bd34a,AZURE)||_0x31e2c8[_0x27b399(0x1d2)](_0x2d350b?.[_0x27b399(0x1a1)],AZURE))&&(_0x31e2c8[_0x27b399(0x1e4)](_0x31e2c8[_0x27b399(0x240)],_0x31e2c8['eIJRY'])?(console[_0x27b399(0x1e3)](_0x31e2c8[_0x27b399(0x19b)]),process[_0x27b399(0x1d6)](0x1)):(_0x52d7bd=_0x4fb423[_0x27b399(0x15a)],_0x3050c9=_0x31e2c8['kVzme']));_0x5317c1=_0x27b399(0x1fb)+_0x1bcee3+_0x27b399(0x11d)+_0x2d350b[_0x27b399(0x22d)]+_0x27b399(0x1e9),logger[_0x27b399(0x1e6)](_0x5317c1);const _0x1db25c={};_0x1db25c[_0x27b399(0x1dd)]=WS_EVENTS['LOG'],_0x1db25c[_0x27b399(0x1a2)]=_0x5317c1,webSocketUtils[_0x27b399(0x215)](_0x599e03,_0x1db25c),_0x1bd34a=_0x2d350b[_0x27b399(0x1a1)],_0x1091ca=_0x2d350b['clusterName'],_0x2d9498=_0x2d350b['region'],_0x5e6d7d=_0x2d350b['concurrency'],_0x349984=_0x2d350b[_0x27b399(0x191)],_0x253f83=_0x2d350b[_0x27b399(0x1b5)],securityGroups=_0x2d350b[_0x27b399(0x1af)],subnets=_0x2d350b['subnets'],_0x301a19=_0x2d350b[_0x27b399(0x18c)],_0x5d8c50=_0x2d350b[_0x27b399(0x197)],_0x346fa9=_0x2d350b[_0x27b399(0x131)],_0x2c02a8=_0x87f88f[_0x27b399(0x199)],_0x317614=_0x87f88f[_0x27b399(0x181)];if(_0x31e2c8[_0x27b399(0x15e)](_0x2d350b[_0x27b399(0x1b2)],undefined)&&_0x2d350b[_0x27b399(0x1b2)]){if(_0x31e2c8['WCwlh'](_0x31e2c8[_0x27b399(0x1de)],_0x31e2c8[_0x27b399(0x1c5)]))throw _0x45f735;else global_registry[_0x27b399(0x205)]=!![];}_0x31e2c8[_0x27b399(0x202)](updateGlobalRegistryWithConfig,_0x1bd34a,_0x1091ca,_0x2d9498,_0x5e6d7d,_0x349984,_0x301a19,_0x2d350b,_0x2c02a8,_0x317614,_0x5d8c50,_0x346fa9);}else{const _0x10bd05={};_0x10bd05[_0x27b399(0x1dd)]=_0x2c021a['LOG'],_0x10bd05[_0x27b399(0x1a2)]=_0x4eaded,_0x3517af[_0x27b399(0x215)](_0x3ca301,_0x10bd05,_0x31e2c8[_0x27b399(0x138)],!![]);}}else{const _0x1c8c30=_0x31e2c8[_0x27b399(0x1bf)][_0x27b399(0x229)]('|');let _0x37a243=0x0;while(!![]){switch(_0x1c8c30[_0x37a243++]){case'0':global_registry['clusterName']=_0x1091ca;continue;case'1':const _0x5d666a={};_0x5d666a['type']=WS_EVENTS['CLI_RUN_STARTED'],_0x5d666a['message']=_0x27b399(0x1f6),webSocketUtils[_0x27b399(0x215)](_0x599e03,_0x5d666a);continue;case'2':const _0x1ffbd9={};_0x1ffbd9[_0x27b399(0x1dd)]=WS_EVENTS['LOG'],_0x1ffbd9[_0x27b399(0x1a2)]=_0x5317c1,webSocketUtils[_0x27b399(0x215)](_0x599e03,_0x1ffbd9);continue;case'3':global_registry[_0x27b399(0x151)]=_0x2d9498;continue;case'4':global_registry[_0x27b399(0x199)]=_0x87f88f[_0x27b399(0x199)];continue;case'5':_0x5317c1='Spawning\x20the\x20grid\x20'+_0x1bcee3+_0x27b399(0x13f)+_0x1091ca+'\x27';continue;case'6':global_registry[_0x27b399(0x181)]=_0x87f88f[_0x27b399(0x181)];continue;case'7':global_registry[_0x27b399(0x1a1)]=_0x1bd34a;continue;case'8':logger[_0x27b399(0x1e6)](_0x5317c1);continue;}break;}}const _0x4133a8=_0x31e2c8[_0x27b399(0x234)](getCloudProviderObject,_0x1bd34a,_0x1091ca,_0x1bcee3,_0x599e03,webSocketUtils),_0x54470e=_0x245c92[_0x27b399(0x1a1)]||{};if(_0x31e2c8[_0x27b399(0x1e1)](_0x54470e[_0x1bd34a],undefined)){logger[_0x27b399(0x1e6)](_0x31e2c8['bGVMs']);_0x31e2c8[_0x27b399(0x235)](_0x245c92[_0x27b399(0x1a1)],undefined)&&(_0x245c92[_0x27b399(0x1a1)]={});_0x245c92[_0x27b399(0x1a1)][_0x1bd34a]={};const _0x48f7c6=await _0x31e2c8[_0x27b399(0x16e)](inputCloudProviderKeys,_0x1bd34a,_0x245c92,_0x4133a8);fs[_0x27b399(0x178)](_0x31e2c8[_0x27b399(0x182)](getCredentialsPath),JSON[_0x27b399(0x13b)](_0x48f7c6)),logger['debug'](_0x31e2c8[_0x27b399(0x1fc)]);}else{_0x5317c1=_0x31e2c8[_0x27b399(0x213)];const _0x98f246={};_0x98f246[_0x27b399(0x1dd)]=WS_EVENTS[_0x27b399(0x1eb)],_0x98f246[_0x27b399(0x1a2)]=_0x5317c1,webSocketUtils['sendEventToBackend'](_0x599e03,_0x98f246),logger[_0x27b399(0x1e6)](_0x5317c1),await _0x4133a8[_0x27b399(0x16d)](_0x54470e);}_0x4133a8[_0x27b399(0x12a)]();let _0x36451a;if(_0x31e2c8[_0x27b399(0x1e8)](_0x13ad47,![])){_0x5317c1=_0x27b399(0x11e)+_0x2d9498+').';const _0x25be90={};_0x25be90[_0x27b399(0x1dd)]=WS_EVENTS[_0x27b399(0x1eb)],_0x25be90[_0x27b399(0x1a2)]=_0x5317c1,webSocketUtils[_0x27b399(0x215)](_0x599e03,_0x25be90),logger[_0x27b399(0x1e6)](_0x5317c1);const _0x17c72e=await _0x4133a8[_0x27b399(0x228)]();if(_0x17c72e){const _0x3614a5={};_0x3614a5[_0x27b399(0x1dd)]=WS_EVENTS['LOG'],_0x3614a5['message']=_0x27b399(0x1cf)+_0x1091ca+_0x27b399(0x195),webSocketUtils['sendEventToBackend'](_0x599e03,_0x3614a5,_0x31e2c8[_0x27b399(0x18a)]),logger[_0x27b399(0x1e6)](_0x27b399(0x1cf)+_0x1091ca+_0x27b399(0x195)),_0x13ad47=!![];}else{const _0x3cf01b={};_0x3cf01b[_0x27b399(0x1dd)]=WS_EVENTS[_0x27b399(0x1eb)],_0x3cf01b[_0x27b399(0x1a2)]=_0x31e2c8[_0x27b399(0x1a5)],webSocketUtils[_0x27b399(0x215)](_0x599e03,_0x3cf01b),logger[_0x27b399(0x1e6)](_0x31e2c8[_0x27b399(0x1a5)]);const _0x4490f5=_0x31e2c8[_0x27b399(0x150)](_0x253f83,null)&&_0x31e2c8['SbaFf'](_0x253f83,undefined),_0x22fd24=_0x31e2c8[_0x27b399(0x1df)](subnets,null)&&_0x31e2c8[_0x27b399(0x134)](subnets,undefined)&&_0x31e2c8[_0x27b399(0x192)](subnets['length'],0x0);if(_0x4490f5){_0x31e2c8['mjRtG'](_0x22fd24,![])&&(_0x5317c1=_0x31e2c8['fTRkh'],await _0x31e2c8[_0x27b399(0x159)](reportToGalactusAndSendToEDS,_0x301481,_0x599e03,_0x5317c1,messageTypes[_0x27b399(0x19f)],_0x31e2c8['gltjm'],_0x31e2c8[_0x27b399(0x1a3)],_0x31e2c8[_0x27b399(0x138)]),logger[_0x27b399(0x1e3)](_0x5317c1),process[_0x27b399(0x1d6)](0x1));const _0x7d186e=await _0x4133a8[_0x27b399(0x237)](_0x253f83);_0x31e2c8[_0x27b399(0x17a)](_0x7d186e,![])?(_0x5317c1=_0x31e2c8['OtRbE'],await _0x31e2c8[_0x27b399(0x193)](reportToGalactusAndSendToEDS,_0x301481,_0x599e03,_0x5317c1,messageTypes['ERROR'],_0x31e2c8['gltjm'],_0x31e2c8[_0x27b399(0x11c)],_0x31e2c8[_0x27b399(0x138)]),logger['error'](_0x5317c1),process[_0x27b399(0x1d6)](0x1)):logger[_0x27b399(0x1e6)]('Found\x20VPC:\x20'+_0x253f83+'\x20');const _0x13b74f=await _0x4133a8[_0x27b399(0x19d)](subnets,_0x253f83);_0x31e2c8[_0x27b399(0x16a)](_0x13b74f[0x0],![])?(_0x5317c1='Subnets:\x20'+_0x13b74f[0x1]+_0x27b399(0x232)+_0x253f83+_0x27b399(0x147),await _0x31e2c8[_0x27b399(0x148)](reportToGalactusAndSendToEDS,_0x301481,_0x599e03,_0x5317c1,messageTypes[_0x27b399(0x19f)],_0x31e2c8[_0x27b399(0x1ef)],_0x31e2c8['dwdAw'],_0x31e2c8['sBdNm']),logger['error'](_0x5317c1),process[_0x27b399(0x1d6)](0x1)):logger['info'](_0x27b399(0x11f)+JSON['stringify'](subnets)+'\x20'),await _0x4133a8['setupNewCluster'](_0x253f83,subnets);}else{const _0x19af1f=_0x31e2c8[_0x27b399(0x180)][_0x27b399(0x229)]('|');let _0x1ae062=0x0;while(!![]){switch(_0x19af1f[_0x1ae062++]){case'0':await _0x4133a8[_0x27b399(0x15b)]();continue;case'1':logger[_0x27b399(0x1e6)](_0x31e2c8[_0x27b399(0x1b7)]);continue;case'2':const _0x532dd0={};_0x532dd0[_0x27b399(0x1dd)]=WS_EVENTS['LOG'],_0x532dd0[_0x27b399(0x1a2)]=_0x31e2c8['TPxzu'],webSocketUtils[_0x27b399(0x215)](_0x599e03,_0x532dd0);continue;case'3':logger['info'](_0x31e2c8[_0x27b399(0x1e0)]);continue;case'4':const _0x3b5059={};_0x3b5059['type']=WS_EVENTS[_0x27b399(0x1eb)],_0x3b5059['message']='Cluster\x20created\x20successfully',webSocketUtils[_0x27b399(0x215)](_0x599e03,_0x3b5059);continue;}break;}}}}_0x13ad47&&_0x31e2c8['bdYwq'](_0x1bd34a,AZURE)&&(global_registry['s3Bucket']=_0x87f88f[_0x27b399(0x1a8)],await _0x4133a8[_0x27b399(0x22e)](),await _0x4133a8[_0x27b399(0x190)]());const [_0x3dc02b,_0x50b1b9,_0x58d2a6,_0x50e104,_0x196c3a,_0x4fd3d9]=await _0x31e2c8[_0x27b399(0x130)](createK8sClient,_0x4133a8);_0x31e2c8[_0x27b399(0x204)](_0x13ad47,![])&&_0x31e2c8['nqVQX'](_0x1bd34a,AWS)&&(global_registry[_0x27b399(0x22b)]=!![],_0x36451a=await _0x4133a8[_0x27b399(0x145)](_0x3dc02b,_0x301481));try{_0x3c6f2f=_0x31e2c8['rtGFF'](kebabCase,_0x1bcee3),logger[_0x27b399(0x1e6)](_0x31e2c8[_0x27b399(0x179)]);const _0xef89a0={};_0xef89a0[_0x27b399(0x1dd)]=WS_EVENTS[_0x27b399(0x1eb)],_0xef89a0[_0x27b399(0x1a2)]=_0x31e2c8['rUvVo'],webSocketUtils[_0x27b399(0x215)](_0x599e03,_0xef89a0);if(_0x31e2c8[_0x27b399(0x1e4)](_0x3c6f2f,_0x31e2c8[_0x27b399(0x208)])){const _0x2f31a1={};_0x2f31a1[_0x27b399(0x1a6)]=_0x31e2c8[_0x27b399(0x203)],_0x2f31a1[_0x27b399(0x1ba)]=_0x31e2c8['hqOJZ'];const _0x435580={};_0x435580['name']=_0x3c6f2f,_0x435580[_0x27b399(0x23f)]=_0x2f31a1;const _0x4982ce={};_0x4982ce[_0x27b399(0x168)]=_0x435580;let _0x213398=_0x4982ce;const _0x5eddb5={};_0x5eddb5[_0x27b399(0x1da)]=_0x213398,await _0x3dc02b['createNamespace'](_0x5eddb5),logger[_0x27b399(0x1e6)](_0x31e2c8[_0x27b399(0x23e)]);}const _0x324d00={};_0x324d00[_0x27b399(0x1dd)]=WS_EVENTS[_0x27b399(0x1eb)],_0x324d00['message']=_0x31e2c8[_0x27b399(0x139)],webSocketUtils[_0x27b399(0x215)](_0x599e03,_0x324d00);const _0x351474={};_0x351474[_0x27b399(0x1dd)]=WS_EVENTS['LOG'],_0x351474['message']=_0x31e2c8[_0x27b399(0x224)],webSocketUtils[_0x27b399(0x215)](_0x599e03,_0x351474),logger['info'](_0x31e2c8[_0x27b399(0x142)]);let _0x33156f={};_0x31e2c8[_0x27b399(0x1ca)](_0x1bd34a,AZURE)&&(_0x33156f={'clientId':await _0x4133a8['getResourceClientId']('turboscale-managed-identity-'+_0x1091ca)});await _0x31e2c8[_0x27b399(0x200)](addGridComponents,_0x3dc02b,_0x50b1b9,_0x58d2a6,_0x50e104,_0x3c6f2f,_0x1091ca,_0x36451a,_0x196c3a,_0x4fd3d9,_0x33156f),_0x5317c1=_0x31e2c8['yMPXk'],logger[_0x27b399(0x1e6)](_0x5317c1);const _0xc05a9d={};_0xc05a9d[_0x27b399(0x1dd)]=WS_EVENTS[_0x27b399(0x1eb)],_0xc05a9d['message']=_0x5317c1,webSocketUtils['sendEventToBackend'](_0x599e03,_0xc05a9d),_0x5317c1=_0x31e2c8[_0x27b399(0x21c)],logger[_0x27b399(0x1e6)](_0x5317c1);const _0x10990a={};_0x10990a[_0x27b399(0x1dd)]=WS_EVENTS[_0x27b399(0x1eb)],_0x10990a[_0x27b399(0x1a2)]=_0x5317c1,webSocketUtils['sendEventToBackend'](_0x599e03,_0x10990a),await webSocketUtils[_0x27b399(0x13a)](0xea60);const _0x1e920d=await _0x31e2c8[_0x27b399(0x1fa)](getNamespaceUID,_0x3dc02b,_0x3c6f2f);let _0x525411=global_registry['isPrivateGrid']?_0x31e2c8[_0x27b399(0x1c7)]:_0x31e2c8[_0x27b399(0x174)];const _0x1768fa={};_0x1768fa[_0x27b399(0x22d)]=_0x525411,_0x1768fa[_0x27b399(0x13d)]=_0x31e2c8['XAiUo'];let _0x11db95=await _0x3dc02b['readNamespacedService'](_0x1768fa),_0x5707d8=_0x4133a8['getGridHostname'](_0x11db95)+'/'+_0x3c6f2f,_0x58d7ef=_0x31e2c8[_0x27b399(0x23a)];try{const _0x2a57db=_0x27b399(0x1ab)+AG_API_URL+_0x27b399(0x196)+_0x1e920d,_0x324428=await _0x31e2c8['VRiFV'](got,_0x2a57db,_0x4ab2f4);(_0x31e2c8[_0x27b399(0x238)](_0x324428,null)||_0x31e2c8['nqVQX'](_0x324428,undefined))&&(_0x5317c1=_0x31e2c8['TuPXR'],await _0x31e2c8[_0x27b399(0x169)](reportToGalactusAndSendToEDS,_0x301481,_0x599e03,_0x5317c1,messageTypes[_0x27b399(0x19f)],_0x31e2c8[_0x27b399(0x1ef)],_0x31e2c8[_0x27b399(0x14d)],_0x31e2c8['sBdNm']),logger['error'](_0x5317c1),process[_0x27b399(0x1d6)](0x1));_0x31e2c8['rEOdr'](_0x324428[_0x27b399(0x1e5)],0x191)&&(_0x5317c1=_0x31e2c8[_0x27b399(0x121)],await _0x31e2c8['plicV'](reportToGalactusAndSendToEDS,_0x301481,_0x599e03,_0x5317c1,messageTypes['ERROR'],_0x31e2c8[_0x27b399(0x1ef)],_0x31e2c8['fkEOA'],_0x31e2c8[_0x27b399(0x138)]),logger[_0x27b399(0x1e3)](_0x5317c1),process[_0x27b399(0x1d6)](0x1));_0x31e2c8['SbaFf'](_0x324428['statusCode'],0xc8)&&(_0x5317c1=_0x27b399(0x157)+JSON[_0x27b399(0x13b)](_0x324428),await _0x31e2c8[_0x27b399(0x1d9)](reportToGalactusAndSendToEDS,_0x301481,_0x599e03,_0x5317c1,messageTypes[_0x27b399(0x19f)],_0x31e2c8[_0x27b399(0x1ef)],_0x31e2c8['EVtCQ'],_0x31e2c8[_0x27b399(0x138)]),logger['error'](_0x5317c1),process[_0x27b399(0x1d6)](0x1));const _0x31882d=JSON[_0x27b399(0x1b8)](_0x324428[_0x27b399(0x1da)]);_0x31882d[_0x27b399(0x15a)]&&(_0x5707d8=_0x31882d[_0x27b399(0x15a)],_0x58d7ef=_0x31e2c8['kVzme']),global_registry[_0x27b399(0x205)]&&(_0x58d7ef=_0x31e2c8[_0x27b399(0x23a)]);}catch(_0x1d278b){}_0x5317c1=_0x27b399(0x214)+_0x5707d8+'\x20',logger[_0x27b399(0x1e6)](_0x5317c1);const _0x49baa6={};_0x49baa6[_0x27b399(0x1dd)]=WS_EVENTS[_0x27b399(0x1eb)],_0x49baa6[_0x27b399(0x1a2)]=_0x5317c1,webSocketUtils['sendEventToBackend'](_0x599e03,_0x49baa6),_0x5317c1=_0x27b399(0x1e7)+_0x58d7ef+_0x27b399(0x1f2)+_0x5707d8+_0x27b399(0x123),logger[_0x27b399(0x1e6)](_0x5317c1);const _0x4f0a75={};_0x4f0a75[_0x27b399(0x1dd)]=WS_EVENTS[_0x27b399(0x1eb)],_0x4f0a75[_0x27b399(0x1a2)]=_0x5317c1,webSocketUtils['sendEventToBackend'](_0x599e03,_0x4f0a75);const _0x42b5d9={};_0x42b5d9[_0x27b399(0x1dd)]=WS_EVENTS['CLI_RUN_FINISHED'],_0x42b5d9[_0x27b399(0x1a2)]='CLI\x20run\x20finished:\x20'+_0x5707d8,webSocketUtils[_0x27b399(0x215)](_0x599e03,_0x42b5d9),await webSocketUtils[_0x27b399(0x13a)](0x7d0);}catch(_0x541e6b){if(_0x31e2c8[_0x27b399(0x206)](_0x13ad47,![]))try{logger[_0x27b399(0x1e6)](_0x27b399(0x22c)),await _0x31e2c8['bGmHb'](removeGridComponents,_0x3dc02b,_0x50b1b9,_0x58d2a6,_0x50e104,_0x3c6f2f),await _0x4133a8['deleteCluster'](_0x3dc02b,global_registry['clusterRegion']);}catch(_0x4a99b5){throw _0x4a99b5;}throw _0x541e6b;}}catch(_0x3cd49c){const _0x31b35c=_0x27b399(0x14c)+_0x3cd49c+'\x20\x0a'+JSON['stringify'](_0x3cd49c[_0x27b399(0x1f4)])+'\x20';if(_0x599e03){const _0x762888={};_0x762888[_0x27b399(0x1dd)]=WS_EVENTS[_0x27b399(0x1eb)],_0x762888[_0x27b399(0x1a2)]=_0x31b35c,webSocketUtils[_0x27b399(0x215)](_0x599e03,_0x762888,_0x31e2c8[_0x27b399(0x138)],!![]);}await webSocketUtils[_0x27b399(0x13a)](0x7d0);const _0x49278e={};_0x49278e[_0x27b399(0x1e3)]=_0x31b35c,await _0x31e2c8[_0x27b399(0x153)](sendInstrumentationEvent,_0x301481,_0x31e2c8['gltjm'],messageTypes['ERROR'],_0x31e2c8['Rvugg'],_0x49278e,_0x301481),logger[_0x27b399(0x1e3)](_0x31b35c);}process[_0x27b399(0x1d6)](0x0);};