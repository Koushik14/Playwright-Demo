function a19_0x47b3(){const _0xfb2d39=['bstackAccesskey','region','kbzWg','285978HDyzHG','Stopping\x20grid\x20','../../utils/webSocketUtils','usage','info','statusCode','string','gridId','9DFskTR','stringify','../../utils/instrumentationUtils','addListeners','../../config/constants','3879576LlzFlI','body','Stop\x20a\x20running\x20Automation\x20grid.','stack','4829185aYeMDg','grid-id','31ksPPnC','bstackUsername','error','stop','handler','../../utils/gridComponents','unauthorised','<PasswordPlaceholder>','tFMvY','117WrmGha','Cnzzk','../../utils/createk8sClient','UQmcs','7799ClRqXJ','grid','name','stop-grid-called','desc','MoVCi','../../cloudproviders/utils','2735796LxSbCY','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','mDbsB','nTLgK','Browserstack','<UsernamePlaceholder>','Pass\x20the\x20ID\x20of\x20the\x20running\x20Automation\x20grid\x20you\x20want\x20to\x20stop.','ypTnx','sCXmY','RnHQa','password','server-error','connectionTimeout','6290lqSVPn','Wkdso','Grid\x20stoppped.','AXfIL','SNHzN','user','options','clusterName','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','debug','username','command','../../config/logger','description','reconnecting-websocket','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20stop','595676AwJyGn','parse','exit','70pRUAMi','ERROR','readFileSync','gNTOV','Adding\x20Websocket\x20listeners','message','xWQic','argv','invalid-grid-id','uqjdY','type','YKaeL','help','init-not-called','../../utils/utilityMethods','replace','3JMDkAJ','44134XmDHCr','builder','cloudProvider','jysvE','clusterRegion'];a19_0x47b3=function(){return _0xfb2d39;};return a19_0x47b3();}const a19_0x20b858=a19_0x191d;function a19_0x191d(_0x113cce,_0x13bd36){const _0x47b33f=a19_0x47b3();return a19_0x191d=function(_0x191d92,_0x412108){_0x191d92=_0x191d92-0x18e;let _0x5ab36d=_0x47b33f[_0x191d92];return _0x5ab36d;},a19_0x191d(_0x113cce,_0x13bd36);}(function(_0x287147,_0x3319e1){const _0x1dea30=a19_0x191d,_0x42e8e8=_0x287147();while(!![]){try{const _0x47b9c3=-parseInt(_0x1dea30(0x196))/0x1*(-parseInt(_0x1dea30(0x1db))/0x2)+parseInt(_0x1dea30(0x1da))/0x3*(parseInt(_0x1dea30(0x1c7))/0x4)+-parseInt(_0x1dea30(0x194))/0x5+parseInt(_0x1dea30(0x1e3))/0x6*(-parseInt(_0x1dea30(0x1ca))/0x7)+parseInt(_0x1dea30(0x190))/0x8*(-parseInt(_0x1dea30(0x1eb))/0x9)+parseInt(_0x1dea30(0x1b7))/0xa*(-parseInt(_0x1dea30(0x1a3))/0xb)+-parseInt(_0x1dea30(0x1aa))/0xc*(-parseInt(_0x1dea30(0x19f))/0xd);if(_0x47b9c3===_0x3319e1)break;else _0x42e8e8['push'](_0x42e8e8['shift']());}catch(_0xdde83e){_0x42e8e8['push'](_0x42e8e8['shift']());}}}(a19_0x47b3,0x7cdec));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a19_0x20b858(0x1c5)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x20b858(0x18f)),{logger}=require(a19_0x20b858(0x1c3)),{getCredentialsPath,getGridDetails}=require(a19_0x20b858(0x1d8)),{scaleDownHubDeployment}=require(a19_0x20b858(0x19b)),{sendInstrumentationEvent}=require(a19_0x20b858(0x1ed)),webSocketUtils=require(a19_0x20b858(0x1e5)),{createK8sClient}=require(a19_0x20b858(0x1a1)),{getCloudProviderObject}=require(a19_0x20b858(0x1a9));exports[a19_0x20b858(0x1c2)]=a19_0x20b858(0x1a4),exports[a19_0x20b858(0x1a7)]=a19_0x20b858(0x192),exports[a19_0x20b858(0x1dc)]=function(_0x3a3b4d){const _0x20e497=a19_0x20b858,_0x4c06c7={};_0x4c06c7[_0x20e497(0x1bb)]=_0x20e497(0x1b0),_0x4c06c7['uqjdY']=_0x20e497(0x1e9),_0x4c06c7[_0x20e497(0x1cd)]=_0x20e497(0x1d6);const _0xf70ff=_0x4c06c7,_0x2e7ebe={};_0x2e7ebe[_0x20e497(0x1c4)]=_0xf70ff['SNHzN'],_0x2e7ebe[_0x20e497(0x1d4)]=_0xf70ff[_0x20e497(0x1d3)];const _0x56c030={};return _0x56c030[_0x20e497(0x195)]=_0x2e7ebe,_0x3a3b4d[_0x20e497(0x1e6)](HELP_HEADER_MESSAGE[_0x20e497(0x199)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x20e497(0x1bd)](_0x56c030)['help'](_0xf70ff[_0x20e497(0x1cd)])[_0x20e497(0x1d1)];},exports[a19_0x20b858(0x19a)]=async function(_0xaa128){const _0x4a07cd=a19_0x20b858,_0x47ab2b={'Cnzzk':_0x4a07cd(0x1c6),'sCXmY':function(_0x4e56ff){return _0x4e56ff();},'MoVCi':_0x4a07cd(0x1bf),'RnHQa':function(_0x19f9ce,_0x321a6c,_0x15a79c,_0x239eac,_0xd2a579,_0x3b3a54,_0x15b907){return _0x19f9ce(_0x321a6c,_0x15a79c,_0x239eac,_0xd2a579,_0x3b3a54,_0x15b907);},'kbzWg':_0x4a07cd(0x1a6),'jysvE':_0x4a07cd(0x1d7),'nTLgK':function(_0x10ce33){return _0x10ce33();},'UQmcs':_0x4a07cd(0x1af),'AXfIL':_0x4a07cd(0x19d),'btVWa':_0x4a07cd(0x1ce),'tFMvY':function(_0x6e4383,_0x1f5199,_0x156b31,_0x4b5001){return _0x6e4383(_0x1f5199,_0x156b31,_0x4b5001);},'Wkdso':function(_0x354048,_0x5699ca,_0x4cef10,_0x55c48f,_0x2888ea,_0x33729e){return _0x354048(_0x5699ca,_0x4cef10,_0x55c48f,_0x2888ea,_0x33729e);},'xWQic':function(_0x58f055,_0x4b9a80){return _0x58f055(_0x4b9a80);},'IePvV':function(_0x5609a4,_0x5adb9f,_0x44f956){return _0x5609a4(_0x5adb9f,_0x44f956);},'xhkSQ':_0x4a07cd(0x1b9),'mDbsB':function(_0x5a5c0d,_0x5a4e64){return _0x5a5c0d===_0x5a4e64;},'YKaeL':_0x4a07cd(0x19c),'ypTnx':function(_0x4b9c7f,_0xead022){return _0x4b9c7f===_0xead022;},'SOFxc':_0x4a07cd(0x1d2),'EWkWK':_0x4a07cd(0x1b5)};let _0x469169;try{!_0xaa128['gridId']&&(logger[_0x4a07cd(0x198)](_0x47ab2b[_0x4a07cd(0x1a0)]),process[_0x4a07cd(0x1c9)](0x1));!fs['existsSync'](_0x47ab2b[_0x4a07cd(0x1b2)](getCredentialsPath))&&(logger[_0x4a07cd(0x198)](_0x47ab2b[_0x4a07cd(0x1a8)]),await _0x47ab2b[_0x4a07cd(0x1b3)](sendInstrumentationEvent,_0xaa128,_0x47ab2b[_0x4a07cd(0x1e2)],messageTypes[_0x4a07cd(0x1cb)],_0x47ab2b[_0x4a07cd(0x1de)],null,_0xaa128),process['exit'](0x1));logger[_0x4a07cd(0x1e7)](_0x4a07cd(0x1e4)+_0xaa128[_0x4a07cd(0x1ea)]),await _0x47ab2b[_0x4a07cd(0x1b3)](sendInstrumentationEvent,_0xaa128,_0x47ab2b[_0x4a07cd(0x1e2)],messageTypes['INFO'],null,null,_0xaa128);const _0x3da02b=JSON[_0x4a07cd(0x1c8)](fs[_0x4a07cd(0x1cc)](_0x47ab2b[_0x4a07cd(0x1ad)](getCredentialsPath)));global_registry[_0x4a07cd(0x197)]=_0x3da02b[_0x4a07cd(0x1ae)]['username'],global_registry[_0x4a07cd(0x1e0)]=_0x3da02b[_0x4a07cd(0x1ae)][_0x4a07cd(0x1b4)];const _0x45d9be=WS_ENDPOINT[_0x4a07cd(0x1d9)](_0x47ab2b[_0x4a07cd(0x1a2)],_0x3da02b['Browserstack'][_0x4a07cd(0x1c1)])[_0x4a07cd(0x1d9)](_0x47ab2b[_0x4a07cd(0x1ba)],_0x3da02b[_0x4a07cd(0x1ae)][_0x4a07cd(0x1b4)]),_0x49e87e={};_0x49e87e['WebSocket']=ws,_0x49e87e[_0x4a07cd(0x1b6)]=0x36ee80,_0x469169=new ReconnectingWebSocket(_0x45d9be,[],_0x49e87e),logger[_0x4a07cd(0x1c0)](_0x47ab2b['btVWa']),webSocketUtils[_0x4a07cd(0x18e)](_0x469169,_0xaa128[_0x4a07cd(0x1bc)],_0xaa128['password']);const [_0x21bfe9,_0x465fc4]=await _0x47ab2b[_0x4a07cd(0x19e)](getGridDetails,_0x3da02b[_0x4a07cd(0x1ae)][_0x4a07cd(0x1c1)],_0x3da02b[_0x4a07cd(0x1ae)][_0x4a07cd(0x1b4)],_0xaa128[_0x4a07cd(0x1ea)]);if(_0x465fc4){const _0x4d7fe6=_0x465fc4[_0x4a07cd(0x1e7)];global_registry[_0x4a07cd(0x1dd)]=_0x4d7fe6[_0x4a07cd(0x1dd)],global_registry[_0x4a07cd(0x1df)]=_0x4d7fe6[_0x4a07cd(0x1e1)],global_registry[_0x4a07cd(0x1be)]=_0x4d7fe6[_0x4a07cd(0x1be)];const _0x8b7098=_0x47ab2b[_0x4a07cd(0x1b8)](getCloudProviderObject,_0x4d7fe6['cloudProvider'],_0x4d7fe6[_0x4a07cd(0x1be)],_0x4d7fe6[_0x4a07cd(0x1a5)],_0x469169,webSocketUtils),_0x526138=_0x3da02b[_0x4a07cd(0x1dd)]||{};await _0x8b7098['fetchLocalCreds'](_0x526138),_0x8b7098['configureIfNotConfigured']();const [_0x520042,_0x1e2cca,_0x12ddf4,_0x1b77bf,_0x43adaa,_0x5ce52a]=await _0x47ab2b[_0x4a07cd(0x1d0)](createK8sClient,_0x8b7098);await _0x47ab2b['IePvV'](scaleDownHubDeployment,_0x1e2cca,_0x4d7fe6[_0x4a07cd(0x1a5)]),logger[_0x4a07cd(0x1e7)](_0x47ab2b['xhkSQ']),process['exit'](0x0);}_0x47ab2b[_0x4a07cd(0x1ac)](_0x21bfe9['statusCode'],0x191)&&(logger['error']('Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!'),await _0x47ab2b[_0x4a07cd(0x1b3)](sendInstrumentationEvent,_0xaa128,_0x47ab2b[_0x4a07cd(0x1e2)],messageTypes[_0x4a07cd(0x1cb)],_0x47ab2b[_0x4a07cd(0x1d5)],null,_0xaa128),process[_0x4a07cd(0x1c9)](0x1)),_0x47ab2b[_0x4a07cd(0x1b1)](_0x21bfe9[_0x4a07cd(0x1e8)],0x190)&&(logger[_0x4a07cd(0x198)](JSON[_0x4a07cd(0x1c8)](_0x21bfe9[_0x4a07cd(0x191)])[_0x4a07cd(0x1cf)]),await _0x47ab2b[_0x4a07cd(0x1b3)](sendInstrumentationEvent,_0xaa128,_0x47ab2b[_0x4a07cd(0x1e2)],messageTypes[_0x4a07cd(0x1cb)],_0x47ab2b['SOFxc'],null,_0xaa128),process[_0x4a07cd(0x1c9)](0x1)),logger[_0x4a07cd(0x198)](_0x4a07cd(0x1ab)+JSON['stringify'](_0x21bfe9)),await _0x47ab2b[_0x4a07cd(0x1b3)](sendInstrumentationEvent,_0xaa128,_0x47ab2b['kbzWg'],messageTypes[_0x4a07cd(0x1cb)],_0x47ab2b['EWkWK'],_0x21bfe9,_0xaa128),process[_0x4a07cd(0x1c9)](0x1);}catch(_0x265201){const _0x56b182='Unable\x20to\x20stop\x20the\x20Grid!\x20Error:\x20'+_0x265201+'\x20\x0a'+JSON[_0x4a07cd(0x1ec)](_0x265201[_0x4a07cd(0x193)])+'\x20';logger[_0x4a07cd(0x198)](_0x56b182),process['exit'](0x1);}};