const a11_0x2c0a7c=a11_0x1528;(function(_0xd0e5fd,_0x31b61c){const _0x3bf057=a11_0x1528,_0x14bdbd=_0xd0e5fd();while(!![]){try{const _0x1ca0cc=-parseInt(_0x3bf057(0x153))/0x1*(-parseInt(_0x3bf057(0x10e))/0x2)+parseInt(_0x3bf057(0x15a))/0x3+parseInt(_0x3bf057(0x156))/0x4*(parseInt(_0x3bf057(0x120))/0x5)+-parseInt(_0x3bf057(0x14a))/0x6+parseInt(_0x3bf057(0x176))/0x7*(parseInt(_0x3bf057(0x155))/0x8)+-parseInt(_0x3bf057(0x16d))/0x9+-parseInt(_0x3bf057(0x144))/0xa;if(_0x1ca0cc===_0x31b61c)break;else _0x14bdbd['push'](_0x14bdbd['shift']());}catch(_0x58db21){_0x14bdbd['push'](_0x14bdbd['shift']());}}}(a11_0x4d2a,0x9e506));const fs=require('fs'),got=require(a11_0x2c0a7c(0x13d)),{v4:uuidv4}=require(a11_0x2c0a7c(0x119)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,AG_API_URL,AWS,AZURE}=require(a11_0x2c0a7c(0x134)),{logger}=require(a11_0x2c0a7c(0x17a)),{getCloudProviderObject}=require(a11_0x2c0a7c(0x183)),{removeGridComponents,deleteClusterAndDependencies}=require(a11_0x2c0a7c(0x145)),{sendInstrumentationEvent}=require(a11_0x2c0a7c(0x15e)),{inputConfirmation,inputCloudProviderKeys}=require('../../utils/userInput'),{createK8sClient}=require(a11_0x2c0a7c(0x14d)),{kebabCase,getCredentialsPath,getGridDetails,getAuthHeader}=require(a11_0x2c0a7c(0x125));function a11_0x1528(_0x35bdc5,_0xa9beb5){const _0x4d2a3f=a11_0x4d2a();return a11_0x1528=function(_0x152801,_0x2fb8b8){_0x152801=_0x152801-0xfc;let _0x328084=_0x4d2a3f[_0x152801];return _0x328084;},a11_0x1528(_0x35bdc5,_0xa9beb5);}function a11_0x4d2a(){const _0x52a769=['.\x20Do\x20you\x20want\x20to\x20proceed\x20with\x20deletion?\x20(y/n)','info','/packages/cli/grid/','aHvlf','EvJNw','BbFXM','ERROR','EPzqN','This\x20will\x20delete\x20the\x20Grid\x20with\x20name\x20\x22','2340225rtMyRg','DUPPn','IfZpZ','stringify','svHbb','error','command','oseEL','toLowerCase','1778vKomSe','WtIAE','\x20is\x20not\x20created\x20by\x20Browserstack.\x20Skipping\x20deletion\x20of\x20this\x20cluster','BWhyB','../../config/logger','PePFt','IktDf','invalid-grid-id','\x22\x20with\x20ID\x20','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','amVTE','deleteCluster','Unable\x20to\x20fetch\x20credentials\x20for\x20cloud\x20provider\x20locally','../../cloudproviders/utils','delete','Cluster:\x20','onlyGridInCluster','unauthorised','readFileSync','string','FFFAI','xTSfx','wjlkr','BORJb','clusterName','BUwnr','requestId','mkTyo','message','Found\x20credentials\x20for\x20cloud\x20provider\x20locally.\x20Using\x20them\x20for\x20performing\x20actions','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','XQCai','clusterId','usage','pGHzl','delete-grid-called','password','Succesfully\x20deleted\x20the\x20grid','fvBSR','eGKff','qVSyj','https://','builder','SKlJG','clusterRegion','69560QIvbho','unknown-error','zLJFA','RSTRG','statusCode','cWuFz','SGQfo','name','VixcX','NpkuE','epilogue','uuid','init-not-called','Delete\x20an\x20Automation\x20grid.','configureIfNotConfigured','JUpfJ','Pass\x20the\x20ID\x20of\x20the\x20Grid','nKWtS','564895rvrKcH','existsSync','handler','writeFileSync','QiYll','../../utils/utilityMethods','help','parse','gridId','grid','GmvYh','hCUcK','HSNYT','bZwxb','clusterSpawnedVia','description','Ffxhn','username','RaPcf','XNqzV','../../config/constants','DELETE','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','WQqfq','rOqsL','isBrowserstackCluster','INFO','Grid\x20ID\x20not\x20passed.\x20Please\x20provide\x20a\x20Grid\x20ID\x20to\x20delete\x20using\x20--grid-id\x20option','warn','got','server-error','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','cloudProvider','fklhM','exit','Failed\x20to\x20delete\x20resources!\x20Error:\x20','281880KSXbsH','../../utils/gridComponents','gMqpO','hDmgT','vYTKG','Saving\x20credentials\x20for\x20cloud\x20provider\x20locally\x20for\x20later\x20runs','4136178lRemAe','AYDwF','lfwmz','../../utils/createk8sClient','zIGSn','\x22\x20and\x20ID\x20','options','tODLN','sIZVU','18SrpBNF','\x20along\x20with\x20Kubernetes\x20Cluster\x20with\x20name\x20\x22','1200jmkucF','4lCMgbG','region','Browserstack','argv','2546733DTkOHi','yhGiw','xqtpP','Grid\x20is\x20deleted\x20but\x20failed\x20to\x20update\x20server\x20for\x20grid\x20deletion.\x20Response\x20from\x20server:\x20','../../utils/instrumentationUtils','bMfrW','body','CqGTP','tiFEo','mOgHV'];a11_0x4d2a=function(){return _0x52a769;};return a11_0x4d2a();}exports[a11_0x2c0a7c(0x173)]=a11_0x2c0a7c(0x129),exports['desc']=a11_0x2c0a7c(0x11b),exports[a11_0x2c0a7c(0x10b)]=function(_0x14ef5f){const _0x1c1d3b=a11_0x2c0a7c,_0x571ebd={};_0x571ebd[_0x1c1d3b(0x177)]=_0x1c1d3b(0x11e),_0x571ebd[_0x1c1d3b(0x14c)]=_0x1c1d3b(0x189),_0x571ebd[_0x1c1d3b(0x161)]=_0x1c1d3b(0x126);const _0x23b14c=_0x571ebd,_0x41c983={};_0x41c983['description']=_0x23b14c[_0x1c1d3b(0x177)],_0x41c983['type']=_0x23b14c[_0x1c1d3b(0x14c)];const _0x40c192={};return _0x40c192['grid-id']=_0x41c983,_0x14ef5f[_0x1c1d3b(0x102)](HELP_HEADER_MESSAGE[_0x1c1d3b(0x184)])[_0x1c1d3b(0x118)](HELP_FOOTER_MESSAGE)[_0x1c1d3b(0x150)](_0x40c192)[_0x1c1d3b(0x126)](_0x23b14c[_0x1c1d3b(0x161)])[_0x1c1d3b(0x159)];},exports[a11_0x2c0a7c(0x122)]=async function(_0x47f4f5){const _0x2be58e=a11_0x2c0a7c,_0x46837e={'BWhyB':_0x2be58e(0x13b),'zIGSn':_0x2be58e(0x11e),'HSNYT':_0x2be58e(0x189),'nKWtS':'help','QiYll':function(_0x33be0e){return _0x33be0e();},'xTSfx':function(_0x3e8e12){return _0x3e8e12();},'bMfrW':function(_0x62a0ce,_0xe8a942){return _0x62a0ce!==_0xe8a942;},'bZwxb':_0x2be58e(0x109),'XNqzV':_0x2be58e(0x136),'VAgpk':function(_0x312278,_0x561fbd,_0x5780f5,_0x30bce4,_0x1615cf,_0x4ba89a,_0x11dc21){return _0x312278(_0x561fbd,_0x5780f5,_0x30bce4,_0x1615cf,_0x4ba89a,_0x11dc21);},'WQqfq':_0x2be58e(0x104),'vYTKG':_0x2be58e(0x11a),'BbFXM':function(_0x5d56e5,_0x1f833f,_0x3ab96f,_0x1fb924,_0x398ed0,_0x76252e,_0xc2f5c6){return _0x5d56e5(_0x1f833f,_0x3ab96f,_0x1fb924,_0x398ed0,_0x76252e,_0xc2f5c6);},'SKlJG':_0x2be58e(0x108),'GmvYh':_0x2be58e(0x180),'RaPcf':function(_0x162c25){return _0x162c25();},'fklhM':function(_0x2c45ad,_0x5ec896,_0x122736,_0x2037b1){return _0x2c45ad(_0x5ec896,_0x122736,_0x2037b1);},'EvJNw':function(_0x1b2cef,_0x40cf16){return _0x1b2cef===_0x40cf16;},'hDmgT':_0x2be58e(0x158),'AYDwF':function(_0x1998fc,_0x265e12){return _0x1998fc!==_0x265e12;},'sIZVU':_0x2be58e(0x100),'BUwnr':function(_0xff202,_0x3210e7){return _0xff202(_0x3210e7);},'VixcX':function(_0x1bf876,_0xd56cc2){return _0x1bf876===_0xd56cc2;},'aHvlf':function(_0x9c3b0f,_0x12ad75){return _0x9c3b0f===_0x12ad75;},'hMSPO':function(_0x46cdd5,_0x4beb71){return _0x46cdd5!==_0x4beb71;},'wjlkr':_0x2be58e(0x117),'gMqpO':_0x2be58e(0x113),'FFFAI':_0x2be58e(0xff),'fvBSR':'invalid-input','qpkOl':function(_0x51e5c7,_0x41e305){return _0x51e5c7===_0x41e305;},'oseEL':_0x2be58e(0x162),'Ffxhn':_0x2be58e(0x151),'zLJFA':'bkFHp','EPzqN':_0x2be58e(0x182),'qOOyE':_0x2be58e(0x17b),'svHbb':_0x2be58e(0x15c),'yhGiw':function(_0x2d8901){return _0x2d8901();},'adEAD':_0x2be58e(0x149),'SGQfo':_0x2be58e(0xfe),'IktDf':function(_0x1506d8,_0x3cc359){return _0x1506d8(_0x3cc359);},'QJrKJ':function(_0xd61343,_0x28e247,_0x32761c,_0xfb08da,_0x28ce40,_0x1a16eb){return _0xd61343(_0x28e247,_0x32761c,_0xfb08da,_0x28ce40,_0x1a16eb);},'hCUcK':_0x2be58e(0x135),'IfZpZ':function(_0x9a3fad,_0x569b36,_0xea52eb){return _0x9a3fad(_0x569b36,_0xea52eb);},'rOqsL':function(_0x5d2e59,_0x191eaa){return _0x5d2e59!==_0x191eaa;},'sLIVs':function(_0x960ad3,_0x29c9f3,_0x679ee7,_0x13fcfc,_0x56edc9,_0x24d96b,_0x4d615c){return _0x960ad3(_0x29c9f3,_0x679ee7,_0x13fcfc,_0x56edc9,_0x24d96b,_0x4d615c);},'mkTyo':_0x2be58e(0x13e),'DUPPn':_0x2be58e(0x187),'BORJb':function(_0x1f1401,_0x35ef61){return _0x1f1401===_0x35ef61;},'pGHzl':function(_0x6a5bb8,_0x423cbe,_0x395dec,_0x2829a3,_0x66df37,_0x4c1162,_0xeb921f){return _0x6a5bb8(_0x423cbe,_0x395dec,_0x2829a3,_0x66df37,_0x4c1162,_0xeb921f);},'RSTRG':_0x2be58e(0x17d),'mOgHV':function(_0x34c474,_0x54aee0,_0x487d98,_0x387ea1,_0x46e457,_0x3af75a,_0xc946ae){return _0x34c474(_0x54aee0,_0x487d98,_0x387ea1,_0x46e457,_0x3af75a,_0xc946ae);},'nBQfI':function(_0x4b6967,_0x2ccce5,_0x2851bd,_0x274e04,_0xa8f665,_0x185c79,_0x346ff7){return _0x4b6967(_0x2ccce5,_0x2851bd,_0x274e04,_0xa8f665,_0x185c79,_0x346ff7);},'JUpfJ':_0x2be58e(0x10f)};try{global_registry[_0x2be58e(0x190)]=_0x46837e[_0x2be58e(0x124)](uuidv4);!fs[_0x2be58e(0x121)](_0x46837e[_0x2be58e(0x18b)](getCredentialsPath))&&(_0x46837e['bMfrW'](_0x46837e[_0x2be58e(0x12d)],_0x46837e['bZwxb'])?_0x472f56[_0x2be58e(0x142)](0x0):(console['error'](_0x46837e[_0x2be58e(0x133)]),await _0x46837e['VAgpk'](sendInstrumentationEvent,_0x47f4f5,_0x46837e[_0x2be58e(0x137)],messageTypes[_0x2be58e(0x16a)],_0x46837e[_0x2be58e(0x148)],null,_0x47f4f5),process[_0x2be58e(0x142)](0x1)));_0x46837e[_0x2be58e(0x169)](sendInstrumentationEvent,_0x47f4f5,_0x46837e[_0x2be58e(0x137)],messageTypes[_0x2be58e(0x13a)],null,null,_0x47f4f5);!_0x47f4f5[_0x2be58e(0x128)]&&(_0x46837e[_0x2be58e(0x15f)](_0x46837e[_0x2be58e(0x10c)],_0x46837e[_0x2be58e(0x12a)])?(console[_0x2be58e(0x172)](_0x46837e[_0x2be58e(0x179)]),process[_0x2be58e(0x142)](0x1)):_0xb04fd7[_0x2be58e(0x140)]={});const _0x553501=JSON['parse'](fs[_0x2be58e(0x188)](_0x46837e[_0x2be58e(0x132)](getCredentialsPath))),[_0x3f2cf3,_0x5cdd10]=await _0x46837e[_0x2be58e(0x141)](getGridDetails,_0x553501[_0x2be58e(0x158)][_0x2be58e(0x131)],_0x553501[_0x2be58e(0x158)]['password'],_0x47f4f5[_0x2be58e(0x128)]);if(_0x5cdd10){const _0x2acbc0=_0x5cdd10['info'];let _0x550c68=_0x2be58e(0x16c)+_0x2acbc0[_0x2be58e(0x115)]+_0x2be58e(0x14f)+_0x2acbc0['id']+'.\x20Do\x20you\x20want\x20to\x20proceed\x20with\x20deletion?\x20(y/n)',_0xcfa32;_0x5cdd10[_0x2be58e(0x186)]&&_0x46837e[_0x2be58e(0x168)](_0x5cdd10[_0x2be58e(0x12e)],_0x46837e[_0x2be58e(0x147)])&&(_0x46837e[_0x2be58e(0x14b)](_0x46837e[_0x2be58e(0x152)],_0x46837e['sIZVU'])?_0x52aba8=_0x2be58e(0x16c)+_0x3e9d9e[_0x2be58e(0x115)]+_0x2be58e(0x14f)+_0x1cac20['id']+_0x2be58e(0x154)+_0x1c843c[_0x2be58e(0x18e)]+_0x2be58e(0x17e)+_0xebd16f[_0x2be58e(0x101)]+_0x2be58e(0x164):_0x550c68=_0x2be58e(0x16c)+_0x2acbc0[_0x2be58e(0x115)]+'\x22\x20and\x20ID\x20'+_0x2acbc0['id']+_0x2be58e(0x154)+_0x2acbc0[_0x2be58e(0x18e)]+_0x2be58e(0x17e)+_0x2acbc0[_0x2be58e(0x101)]+_0x2be58e(0x164));_0xcfa32=await _0x46837e[_0x2be58e(0x18f)](inputConfirmation,_0x550c68);(_0x46837e['VixcX'](_0xcfa32,undefined)||_0x46837e[_0x2be58e(0x116)](_0xcfa32,null)||!(_0x46837e[_0x2be58e(0x116)](_0xcfa32['toLowerCase'](),'y')||_0x46837e[_0x2be58e(0x167)](_0xcfa32[_0x2be58e(0x175)](),'n')))&&(_0x46837e['hMSPO'](_0x46837e[_0x2be58e(0x18c)],_0x46837e[_0x2be58e(0x146)])?(console['error'](_0x46837e[_0x2be58e(0x18a)]),await _0x46837e['BbFXM'](sendInstrumentationEvent,_0x47f4f5,_0x46837e[_0x2be58e(0x137)],messageTypes[_0x2be58e(0x16a)],_0x46837e[_0x2be58e(0x107)],null,_0x47f4f5),process[_0x2be58e(0x142)](0x1)):_0x45565b[_0x2be58e(0x13c)]('Cluster:\x20'+_0x54b79e[_0x2be58e(0x18e)]+_0x2be58e(0x178)));_0x46837e['qpkOl'](_0xcfa32[_0x2be58e(0x175)](),'n')&&(_0x46837e[_0x2be58e(0x167)](_0x46837e[_0x2be58e(0x174)],_0x46837e[_0x2be58e(0x130)])?(_0x4e0e23[_0x2be58e(0x172)](_0x46837e[_0x2be58e(0x179)]),_0x160aeb[_0x2be58e(0x142)](0x1)):process['exit'](0x0));global_registry[_0x2be58e(0x10d)]=_0x2acbc0[_0x2be58e(0x157)];const _0xd4afb8=_0x2acbc0[_0x2be58e(0x140)],_0x1354f9=_0x46837e[_0x2be58e(0x141)](getCloudProviderObject,_0xd4afb8,_0x2acbc0[_0x2be58e(0x18e)],_0x2acbc0[_0x2be58e(0x115)]),_0x11a08b=_0x553501[_0x2be58e(0x140)];if(_0x46837e[_0x2be58e(0x167)](_0x11a08b[_0xd4afb8],undefined)){if(_0x46837e[_0x2be58e(0x168)](_0x46837e[_0x2be58e(0x110)],_0x46837e[_0x2be58e(0x110)])){logger['info'](_0x46837e[_0x2be58e(0x16b)]);_0x46837e[_0x2be58e(0x168)](_0x553501[_0x2be58e(0x140)],undefined)&&(_0x46837e[_0x2be58e(0x14b)](_0x46837e['qOOyE'],_0x46837e[_0x2be58e(0x171)])?_0x553501['cloudProvider']={}:(_0x5c4da1[_0x2be58e(0x165)](_0x2be58e(0x106)),_0x13d2d7['exit'](0x0)));_0x553501[_0x2be58e(0x140)][_0xd4afb8]={};const _0x2ed145=await _0x46837e['fklhM'](inputCloudProviderKeys,_0xd4afb8,_0x553501,_0x1354f9);fs[_0x2be58e(0x123)](_0x46837e[_0x2be58e(0x15b)](getCredentialsPath),JSON[_0x2be58e(0x170)](_0x2ed145)),logger['debug'](_0x46837e['adEAD']);}else{const _0x1d1463={};_0x1d1463[_0x2be58e(0x12f)]=_0x46837e[_0x2be58e(0x14e)],_0x1d1463['type']=_0x46837e[_0x2be58e(0x12c)];const _0x34d600={};return _0x34d600['grid-id']=_0x1d1463,_0xe72cdb[_0x2be58e(0x102)](_0x486919[_0x2be58e(0x184)])[_0x2be58e(0x118)](_0x5acf31)['options'](_0x34d600)[_0x2be58e(0x126)](_0x46837e[_0x2be58e(0x11f)])[_0x2be58e(0x159)];}}else logger[_0x2be58e(0x165)](_0x46837e[_0x2be58e(0x114)]),await _0x1354f9['fetchLocalCreds'](_0x11a08b);_0x1354f9[_0x2be58e(0x11c)]();const _0x315901=_0x46837e[_0x2be58e(0x18f)](kebabCase,_0x2acbc0[_0x2be58e(0x115)]),[_0x15ce8c,_0x2e9541,_0x4f4a4d,_0x12ceb6,_0x3b8690,_0x31fc13]=await _0x46837e[_0x2be58e(0x17c)](createK8sClient,_0x1354f9);await _0x46837e['QJrKJ'](removeGridComponents,_0x15ce8c,_0x2e9541,_0x4f4a4d,_0x12ceb6,_0x315901);if(_0x5cdd10[_0x2be58e(0x186)]){const _0x4508a3=await _0x1354f9[_0x2be58e(0x139)]();_0x4508a3?await _0x1354f9[_0x2be58e(0x181)](_0x15ce8c,_0x2acbc0['region']):logger[_0x2be58e(0x13c)](_0x2be58e(0x185)+_0x2acbc0[_0x2be58e(0x18e)]+'\x20is\x20not\x20created\x20by\x20Browserstack.\x20Skipping\x20deletion\x20of\x20this\x20cluster');}const _0x1a1528=_0x2be58e(0x10a)+AG_API_URL+_0x2be58e(0x166)+_0x47f4f5[_0x2be58e(0x128)],_0x3b7dc4={'method':_0x46837e[_0x2be58e(0x12b)],'headers':_0x46837e[_0x2be58e(0x16f)](getAuthHeader,_0x553501[_0x2be58e(0x158)][_0x2be58e(0x131)],_0x553501[_0x2be58e(0x158)][_0x2be58e(0x105)])},_0x332197=await _0x46837e[_0x2be58e(0x16f)](got,_0x1a1528,_0x3b7dc4);_0x46837e[_0x2be58e(0x14b)](_0x332197,null)&&_0x46837e[_0x2be58e(0x138)](_0x332197,undefined)&&_0x46837e[_0x2be58e(0x168)](_0x332197[_0x2be58e(0x112)],0xc8)&&(logger[_0x2be58e(0x165)](_0x2be58e(0x106)),process[_0x2be58e(0x142)](0x0)),logger['error'](_0x2be58e(0x15d)+JSON['stringify'](_0x332197)),await _0x46837e['sLIVs'](sendInstrumentationEvent,_0x47f4f5,_0x46837e['WQqfq'],messageTypes[_0x2be58e(0x16a)],_0x46837e[_0x2be58e(0xfc)],_0x3f2cf3,_0x47f4f5),process[_0x2be58e(0x142)](0x1);}_0x46837e[_0x2be58e(0x116)](_0x3f2cf3[_0x2be58e(0x112)],0x191)&&(logger[_0x2be58e(0x172)](_0x2be58e(0x17f)),await _0x46837e[_0x2be58e(0x169)](sendInstrumentationEvent,_0x47f4f5,_0x46837e[_0x2be58e(0x137)],messageTypes['ERROR'],_0x46837e[_0x2be58e(0x16e)],null,_0x47f4f5),process['exit'](0x1)),_0x46837e[_0x2be58e(0x18d)](_0x3f2cf3[_0x2be58e(0x112)],0x190)&&(logger[_0x2be58e(0x172)](JSON[_0x2be58e(0x127)](_0x3f2cf3[_0x2be58e(0x160)])[_0x2be58e(0xfd)]),await _0x46837e[_0x2be58e(0x103)](sendInstrumentationEvent,_0x47f4f5,_0x46837e[_0x2be58e(0x137)],messageTypes[_0x2be58e(0x16a)],_0x46837e[_0x2be58e(0x111)],null,_0x47f4f5),process[_0x2be58e(0x142)](0x1)),logger[_0x2be58e(0x172)](_0x2be58e(0x13f)+JSON[_0x2be58e(0x170)](_0x3f2cf3)),await _0x46837e[_0x2be58e(0x163)](sendInstrumentationEvent,_0x47f4f5,_0x46837e[_0x2be58e(0x137)],messageTypes['ERROR'],_0x46837e[_0x2be58e(0xfc)],_0x3f2cf3,_0x47f4f5),process[_0x2be58e(0x142)](0x1);}catch(_0x18ad0e){logger['error'](_0x2be58e(0x143)+_0x18ad0e['stack']),await _0x46837e['nBQfI'](sendInstrumentationEvent,_0x47f4f5,_0x46837e[_0x2be58e(0x137)],messageTypes[_0x2be58e(0x16a)],_0x46837e[_0x2be58e(0x11d)],_0x18ad0e,_0x47f4f5),process[_0x2be58e(0x142)](0x1);}};